(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+OzK":function(t,e){!function(){"use strict";var t=function(t){this.element_=t,this.maxRows=this.Constant_.NO_MAX_ROWS,this.init()};window.MaterialTextfield=t,t.prototype.Constant_={NO_MAX_ROWS:-1,MAX_ROWS_ATTRIBUTE:"maxrows"},t.prototype.CssClasses_={LABEL:"mdl-textfield__label",INPUT:"mdl-textfield__input",IS_DIRTY:"is-dirty",IS_FOCUSED:"is-focused",IS_DISABLED:"is-disabled",IS_INVALID:"is-invalid",IS_UPGRADED:"is-upgraded",HAS_PLACEHOLDER:"has-placeholder"},t.prototype.onKeyDown_=function(t){var e=t.target.value.split("\n").length;13===t.keyCode&&e>=this.maxRows&&t.preventDefault()},t.prototype.onFocus_=function(t){this.element_.classList.add(this.CssClasses_.IS_FOCUSED)},t.prototype.onBlur_=function(t){this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.onReset_=function(t){this.updateClasses_()},t.prototype.updateClasses_=function(){this.checkDisabled(),this.checkValidity(),this.checkDirty(),this.checkFocus()},t.prototype.checkDisabled=t.prototype.checkDisabled=function(){this.input_.disabled?this.element_.classList.add(this.CssClasses_.IS_DISABLED):this.element_.classList.remove(this.CssClasses_.IS_DISABLED)},t.prototype.checkFocus=t.prototype.checkFocus=function(){Boolean(this.element_.querySelector(":focus"))?this.element_.classList.add(this.CssClasses_.IS_FOCUSED):this.element_.classList.remove(this.CssClasses_.IS_FOCUSED)},t.prototype.checkValidity=t.prototype.checkValidity=function(){this.input_.validity&&(this.input_.validity.valid?this.element_.classList.remove(this.CssClasses_.IS_INVALID):this.element_.classList.add(this.CssClasses_.IS_INVALID))},t.prototype.checkDirty=t.prototype.checkDirty=function(){this.input_.value&&this.input_.value.length>0?this.element_.classList.add(this.CssClasses_.IS_DIRTY):this.element_.classList.remove(this.CssClasses_.IS_DIRTY)},t.prototype.disable=t.prototype.disable=function(){this.input_.disabled=!0,this.updateClasses_()},t.prototype.enable=t.prototype.enable=function(){this.input_.disabled=!1,this.updateClasses_()},t.prototype.change=t.prototype.change=function(t){this.input_.value=t||"",this.updateClasses_()},t.prototype.init=function(){if(this.element_&&(this.label_=this.element_.querySelector("."+this.CssClasses_.LABEL),this.input_=this.element_.querySelector("."+this.CssClasses_.INPUT),this.input_)){this.input_.hasAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE)&&(this.maxRows=parseInt(this.input_.getAttribute(this.Constant_.MAX_ROWS_ATTRIBUTE),10),isNaN(this.maxRows)&&(this.maxRows=this.Constant_.NO_MAX_ROWS)),this.input_.hasAttribute("placeholder")&&this.element_.classList.add(this.CssClasses_.HAS_PLACEHOLDER),this.boundUpdateClassesHandler=this.updateClasses_.bind(this),this.boundFocusHandler=this.onFocus_.bind(this),this.boundBlurHandler=this.onBlur_.bind(this),this.boundResetHandler=this.onReset_.bind(this),this.input_.addEventListener("input",this.boundUpdateClassesHandler),this.input_.addEventListener("focus",this.boundFocusHandler),this.input_.addEventListener("blur",this.boundBlurHandler),this.input_.addEventListener("reset",this.boundResetHandler),this.maxRows!==this.Constant_.NO_MAX_ROWS&&(this.boundKeyDownHandler=this.onKeyDown_.bind(this),this.input_.addEventListener("keydown",this.boundKeyDownHandler));var t=this.element_.classList.contains(this.CssClasses_.IS_INVALID);this.updateClasses_(),this.element_.classList.add(this.CssClasses_.IS_UPGRADED),t&&this.element_.classList.add(this.CssClasses_.IS_INVALID),this.input_.hasAttribute("autofocus")&&(this.element_.focus(),this.checkFocus())}},componentHandler.register({constructor:t,classAsString:"MaterialTextfield",cssClass:"mdl-js-textfield",widget:!0})}()},0:function(t,e,n){t.exports=n("zUnb")},"3Kre":function(t,e,n){"use strict";n.r(e),n.d(e,"factory",(function(){return T})),n.d(e,"registerAnalytics",(function(){return A})),n.d(e,"resetGlobalVars",(function(){return S})),n.d(e,"settings",(function(){return E}));var r,i,o,s=n("wj3C"),a=n.n(s),c=(n("fSjL"),n("mrSG")),u=n("zVF4"),l=n("S+S0"),h="measurementId",d="firebase_id",f="origin",p="https://www.googletagmanager.com/gtag/js",m=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),g=function(t){return t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),y=((r={})["no-ga-id"]='"'+h+'" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',r["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",r["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",r["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",r),v=new u.ErrorFactory("analytics","Analytics",y),b={},_="dataLayer",w="gtag",C=!1;function S(t,e){void 0===t&&(t=!1),void 0===e&&(e={}),C=t,b=e,_="dataLayer",w="gtag"}function E(t){if(C)throw v.create("already-initialized");t.dataLayerName&&(_=t.dataLayerName),t.gtagName&&(w=t.gtagName)}function T(t,e){var n=t.options[h];if(!n)throw v.create("no-ga-id");if(null!=b[n])throw v.create("already-exists",{id:n});if(!C){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(p))return r}return null})()||function(t){var e=document.createElement("script");e.src=p+"?l="+t,e.async=!0,document.head.appendChild(e)}(_),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(_);var r=function(t,e,n){var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window[e].push(arguments)};return window[n]&&"function"==typeof window[n]&&(r=window[n]),window[n]=function(t,e){return function(n,r,i){if(n===m.EVENT){var o=[];if(i&&i.send_to){var s=i.send_to;Array.isArray(s)||(s=[s]);for(var a=0,c=s;a<c.length;a++){var u=e[c[a]];if(!u){o=[];break}o.push(u)}}if(0===o.length)for(var l=0,h=Object.values(e);l<h.length;l++)o.push(h[l]);Promise.all(o).then((function(){return t(m.EVENT,r,i||{})})).catch((function(t){return console.error(t)}))}else n===m.CONFIG?(e[r]||Promise.resolve()).then((function(){t(m.CONFIG,r,i)})).catch((function(t){return console.error(t)})):t(m.SET,r)}}(r,t),{gtagCore:r,wrappedGtag:window[n]}}(b,_,w);o=r.wrappedGtag,i=r.gtagCore,C=!0}return b[n]=function(t,e,n){return Object(c.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(c.__generator)(this,(function(o){switch(o.label){case 0:return[4,e.getId()];case 1:return r=o.sent(),n("js",new Date),n(m.CONFIG,t.options[h],((i={})[d]=r,i[f]="firebase",i.update=!0,i)),[2]}}))}))}(t,e,i),{app:t,logEvent:function(t,e,r){return function(t,e,n,r,i){var o=r||{};i&&i.global||(o=Object(c.__assign)(Object(c.__assign)({},r),{send_to:e})),t(m.EVENT,n,o||{})}(o,n,t,e,r)},setCurrentScreen:function(t,e){return function(t,e,n,r){r&&r.global?t(m.SET,{screen_name:n}):t(m.CONFIG,e,{update:!0,screen_name:n})}(o,n,t,e)},setUserId:function(t,e){return function(t,e,n,r){r&&r.global?t(m.SET,{user_id:n}):t(m.CONFIG,e,{update:!0,user_id:n})}(o,n,t,e)},setUserProperties:function(t,e){return function(t,e,n,r){if(r&&r.global){for(var i={},o=0,s=Object.keys(n);o<s.length;o++){var a=s[o];i["user_properties."+a]=n[a]}t(m.SET,i)}else t(m.CONFIG,e,{update:!0,user_properties:n})}(o,n,t,e)},setAnalyticsCollectionEnabled:function(t){return function(t,e){window["ga-disable-"+t]=!e}(n,t)}}}var k="@firebase/analytics",I="0.2.9",x="analytics";function A(t){t.INTERNAL.registerComponent(new l.Component(x,(function(t){return T(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:E,EventName:g})),t.INTERNAL.registerComponent(new l.Component("analytics-internal",(function(t){try{return{logEvent:t.getProvider(x).getImmediate().logEvent}}catch(e){throw v.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),t.registerVersion(k,I)}A(a.a)},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("mrSG"),s=n("q/0M"),a=n("zVF4"),c=n("S+S0"),u=n("x7I3"),l=i.SDK_VERSION,h=new s.Logger("@firebase/firestore"),d=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function f(){return h.logLevel===s.LogLevel.DEBUG?d.DEBUG:h.logLevel===s.LogLevel.SILENT?d.SILENT:d.ERROR}function p(t){switch(t){case d.DEBUG:h.logLevel=s.LogLevel.DEBUG;break;case d.ERROR:h.logLevel=s.LogLevel.ERROR;break;case d.SILENT:h.logLevel=s.LogLevel.SILENT;break;default:h.error("Firestore ("+l+"): Invalid value passed to `setLogLevel`")}}function m(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(h.logLevel<=s.LogLevel.DEBUG){var i=n.map(y);h.debug.apply(h,o.__spreadArrays(["Firestore ("+l+") ["+t+"]: "+e],i))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(h.logLevel<=s.LogLevel.ERROR){var r=e.map(y);h.error.apply(h,o.__spreadArrays(["Firestore ("+l+"): "+t],r))}}function y(t){if("string"==typeof t)return t;var e=_.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function v(t){var e="FIRESTORE ("+l+") INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function b(t,e){t||v(e)}var _=function(){function t(){}return t.setPlatform=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||v("Platform not set"),t.platform},t}();function w(){return _.getPlatform().emptyByteString}var C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(e,t),e}(Error);function E(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new S(C.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function k(t,e){return void 0!==t?t:e}function I(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function x(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A(t){for(var e in b(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function O(t,e){if(0!==e.length)throw new S(C.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+Q(e.length,"argument")+".")}function D(t,e,n){if(e.length!==n)throw new S(C.INVALID_ARGUMENT,"Function "+t+"() requires "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function P(t,e,n){if(e.length<n)throw new S(C.INVALID_ARGUMENT,"Function "+t+"() requires at least "+Q(n,"argument")+", but was called with "+Q(e.length,"argument")+".")}function N(t,e,n,r){if(e.length<n||e.length>r)throw new S(C.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+Q(e.length,"argument")+".")}function R(t,e,n,r){V(t,e,K(n)+" argument",r)}function M(t,e,n,r){void 0!==r&&R(t,e,n,r)}function L(t,e,n,r){V(t,e,n+" option",r)}function F(t,e,n,r){void 0!==r&&L(t,e,n,r)}function U(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var c=a[s];if(c===r)return;o.push(q(c))}var u=q(r);throw new S(C.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function j(t,e,n,r){if(!e.some((function(t){return t===r})))throw new S(C.INVALID_ARGUMENT,"Invalid value "+q(r)+" provided to function "+t+"() for its "+K(n)+" argument. Acceptable values: "+e.join(", "))}function V(t,e,n,r){if(!("object"===e?B(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=q(r);throw new S(C.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function B(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function q(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v("Unknown wrong type: "+typeof t)}function H(t,e,n){if(void 0===n)throw new S(C.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+K(e)+" argument, but it was undefined.")}function W(t,e,n){x(e,(function(e,r){if(n.indexOf(e)<0)throw new S(C.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function z(t,e,n,r){var i=q(r);return new S(C.INVALID_ARGUMENT,"Function "+t+"() requires its "+K(n)+" argument to be a "+e+", but it was: "+i)}function G(t,e,n){if(n<=0)throw new S(C.INVALID_ARGUMENT,'Function "'+t+'()" requires its '+K(e)+" argument to be a positive number, but it was: "+n+".")}function K(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function Q(t,e){return t+" "+e+(1===t?"":"s")}var $=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return b(20===e.length,"Invalid auto ID: "+e),e},t}();function Y(t,e){return t<e?-1:t>e?1:0}function X(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Z(t){return t+"\0"}function J(){if("undefined"==typeof Uint8Array)throw new S(C.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function tt(){if(!_.getPlatform().base64Available)throw new S(C.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var et=function(){function t(t){tt(),this._binaryString=t}return t.fromBase64String=function(e){D("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,e),tt();try{var n=_.getPlatform().atob(e);return new t(n)}catch(r){throw new S(C.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},t.fromUint8Array=function(e){if(D("Blob.fromUint8Array",arguments,1),J(),!(e instanceof Uint8Array))throw z("Blob.fromUint8Array","Uint8Array",1,e);var n=Array.prototype.map.call(e,(function(t){return String.fromCharCode(t)})).join("");return new t(n)},t.prototype.toBase64=function(){return D("Blob.toBase64",arguments,0),tt(),_.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){D("Blob.toUint8Array",arguments,0),J();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return Y(this._binaryString,t._binaryString)},t}(),nt=E(et,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),rt=function(){return function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),it="(default)",ot=function(){function t(t,e){this.projectId=t,this.database=e||it}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===it},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return Y(this.projectId,t.projectId)||Y(this.database,t.database)},t}(),st=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),at=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return b(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return b(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return b(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return b(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new S(C.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.EMPTY_PATH=new e([]),e}(at),ut=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return ut.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new S(C.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new S(C.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new S(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new S(C.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(at),ht=function(){function t(e){this.path=e,b(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ct.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ct.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ct(e.slice()))},t.fromPathString=function(e){return new t(ct.fromString(e))},t.EMPTY=new t(new ct([])),t}(),dt=function(){return function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}}(),ft=function(t){return t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection",t.RetryTransaction="retry_transaction",t}({}),pt=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(C.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),mt=function(){function t(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenAfterShutdown=function(t){this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueEvenAfterShutdown=function(t){return this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueAndInitiateShutdown=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.verifyNotFailed(),this._isShuttingDown?new Promise((function(t){})):this.enqueueInternal(t)},t.prototype.enqueueInternal=function(t){var e=this,n=this.tail.then((function(){return e.operationInProgress=!0,t().catch((function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw g("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout((function(){throw t}),0),t})).then((function(t){return e.operationInProgress=!1,t}))}));return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),b(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.timerIdsToSkip.indexOf(t)>-1&&(e=0);var i=pt.createAndSchedule(this,t,e,n,(function(t){return r.removeDelayedOperation(t)}));return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){b(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueueEvenAfterShutdown((function(){return Promise.resolve()}))},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then((function(){b(t===ft.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==ft.All&&i.timerId===t)break}return e.drain()}))},t.prototype.skipDelaysForTimerId=function(t){this.timerIdsToSkip.push(t)},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);b(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),gt="\x01",yt="\x01",vt="\x10",bt="\x11";function _t(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ct(e)),e=wt(t.get(n),e);return Ct(e)}function wt(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=gt+vt;break;case gt:n+=gt+bt;break;default:n+=o}}return n}function Ct(t){return t+gt+yt}function St(t){var e=t.length;if(b(e>=2,"Invalid path "+t),2===e)return b(t.charAt(0)===gt&&t.charAt(1)===yt,"Non-empty path "+t+" had length 2"),ct.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf(gt,o);switch((s<0||s>n)&&v('Invalid encoded resource path: "'+t+'"'),t.charAt(s+1)){case yt:var a=t.substring(o,s),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case vt:i+=t.substring(o,s),i+="\0";break;case bt:i+=t.substring(o,s+1);break;default:v('Invalid encoded resource path: "'+t+'"')}o=s+2}return new ct(r)}var Et=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new S(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new S(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new S(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new S(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Y(this.nanoseconds,t.nanoseconds):Y(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),Tt=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Et(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Et(0,0)),t}(),kt=function(){function t(t,e){this.comparator=t,this.root=e||xt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new It(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new It(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new It(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new It(this.root,t,this.comparator,!0)},t}(),It=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){b(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),xt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw v("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),At=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw v("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw v("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw v("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw v("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw v("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new xt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();xt.EMPTY=new At;var Ot=function(){function t(t){this.comparator=t,this.data=new kt(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach((function(t){n=n.add(t)})),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Dt(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Dt(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Dt=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Pt=new kt(ht.comparator);function Nt(){return Pt}function Rt(){return Nt()}var Mt=new kt(ht.comparator);function Lt(){return Mt}var Ft=new kt(ht.comparator);function Ut(){return Ft}var jt=new Ot(ht.comparator);function Vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=jt,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var Bt=new Ot(Y);function qt(){return Bt}var Ht=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,b(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&b(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;b(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&b(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=a.applyToLocalView(e,e,this.localWriteTime));for(var i=e,o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t)&&(e=a.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Vt())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&X(this.mutations,t.mutations)&&X(this.baseMutations,t.baseMutations)},t}(),Wt=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){b(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Ut(),s=e.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),zt=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),Gt="SimpleDb",Kt=function(){function t(e){this.db=e,12.2===t.getIOSVersion(a.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.openOrCreate=function(e,n,r){return b(t.isAvailable(),"IndexedDB not supported in current environment."),m(Gt,"Opening database:",e),new zt((function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){i(new t(e.target.result))},s.onblocked=function(){o(new S(C.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new S(C.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){m(Gt,'Database "'+e+'" requires upgrade from version:',t.oldVersion),r.createOrUpgrade(t.target.result,s.transaction,t.oldVersion,nn).next((function(){m(Gt,"Database upgrade to version "+nn+" complete")}))}})).toPromise()},t.delete=function(t){return m(Gt,"Removing database:",t),Xt(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(t.isMockPersistence())return!0;if(void 0===window.navigator)return!1;var e=a.getUA(),n=t.getIOSVersion(e),r=0<n&&n<10,i=t.getAndroidVersion(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.isMockPersistence=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.USE_MOCK_PERSISTENCE)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,c,u;return o.__generator(this,(function(l){switch(l.label){case 0:r=t.startsWith("readonly"),i=t.endsWith("idempotent"),s=0,a=function(){var t,a,u,l;return o.__generator(this,(function(o){switch(o.label){case 0:++s,t=$t.open(c.db,r?"readonly":"readwrite",e),o.label=1;case 1:return o.trys.push([1,3,,4]),(a=n(t).catch((function(e){return t.abort(e),zt.reject(e)})).toPromise()).catch((function(){})),[4,t.completionPromise];case 2:return o.sent(),[2,{value:a}];case 3:return u=o.sent(),m(Gt,"Transaction failed with error: %s. Retrying: %s.",u.message,l=i&&"FirebaseError"!==u.name&&s<3),l?[3,4]:[2,{value:Promise.reject(u)}];case 4:return[2]}}))},c=this,l.label=1;case 1:return[5,a()];case 2:return"object"==typeof(u=l.sent())?[2,u.value]:[3,1];case 3:return[2]}}))}))},t.prototype.close=function(){this.db.close()},t}(),Qt=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Xt(this.dbCursor.delete())},t}(),$t=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new dt,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=Jt(t.target.error);e.completionDeferred.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(m(Gt,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return b(!!e,"Object store not part of transaction: "+t),new Yt(e)},t}(),Yt=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(m(Gt,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(m(Gt,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Xt(n)},t.prototype.add=function(t){return m(Gt,"ADD",this.store.name,t,t),Xt(this.store.add(t))},t.prototype.get=function(t){var e=this;return Xt(this.store.get(t)).next((function(n){return void 0===n&&(n=null),m(Gt,"GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return m(Gt,"DELETE",this.store.name,t),Xt(this.store.delete(t))},t.prototype.count=function(){return m(Gt,"COUNT",this.store.name),Xt(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.deleteAll=function(t,e){m(Gt,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,(function(t,e,n){return n.delete()}))},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new zt((function(n,r){e.onerror=function(t){var e=Jt(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.iterateCursor=function(t,e){var n=[];return new zt((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Qt(i),s=e(i.primaryKey,i.value,o);if(s instanceof zt){var a=s.catch((function(t){return o.done(),zt.reject(t)}));n.push(a)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}})).next((function(){return zt.waitFor(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(b(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Xt(t){return new zt((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Jt(t.target.error);n(e)}}))}var Zt=!1;function Jt(t){var e=Kt.getIOSVersion(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new S("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Zt||(Zt=!0,setTimeout((function(){throw r}),0)),r}}return t}var te=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return b(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ie(t).iterate({index:cn.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next((function(e){return e.lastStreamToken=re(n),se(t).put(e)}))},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next((function(t){return t.lastStreamToken}))},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next((function(n){return n.lastStreamToken=re(e),se(t).put(n)}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=oe(t),s=ie(t);return s.add({}).next((function(a){b("number"==typeof a,"Auto-generated key is not a number");for(var c=new Ht(a,e,n,r),u=i.serializer.toDbMutationBatch(i.userId,c),l=[],h=new Ot((function(t,e){return Y(t.canonicalString(),e.canonicalString())})),d=0,f=r;d<f.length;d++){var p=f[d],m=un.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(u)),l.push(o.put(m,un.PLACEHOLDER))}return h.forEach((function(e){l.push(i.indexManager.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.documentKeysByBatchId[a]=c.keys()})),zt.waitFor(l).next((function(){return c}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return ie(t).get(e).next((function(t){return t?(b(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null}))},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?zt.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ie(t).iterate({index:cn.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(b(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ie(t).iterate({index:cn.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ie(t).loadAll(cn.userMutationsIndex,n).next((function(t){return t.map((function(t){return e.serializer.fromDbMutationBatch(t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=un.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return oe(t).iterate({range:i},(function(r,i,s){var a=r[0],c=r[2],u=St(r[1]);if(a===n.userId&&e.path.isEqual(u))return ie(t).get(c).next((function(t){if(!t)throw v("Dangling document-mutation reference found: "+r+" which points to "+c);b(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ot(Y),i=[];return e.forEach((function(e){var o=un.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=oe(t).iterate({range:s},(function(t,i,o){var s=t[0],a=t[2],c=St(t[1]);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()}));i.push(a)})),zt.waitFor(i).next((function(){return n.lookupMutationBatches(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;b(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=un.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Ot(Y);return oe(t).iterate({range:s},(function(t,e,o){var s=t[0],c=t[2],u=St(t[1]);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.lookupMutationBatches(t,a)}))},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(ie(t).get(e).next((function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);b(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))})))})),zt.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return ne(t.simpleDbTransaction,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.removeCachedMutationKeys(e.batchId)})),zt.forEach(r,(function(e){return n.referenceDelegate.removeMutationReference(t,e)}))}))},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return zt.resolve();var r=IDBKeyRange.lowerBound(un.prefixForUser(e.userId)),i=[];return oe(t).iterate({range:r},(function(t,n,r){if(t[0]===e.userId){var o=St(t[1]);i.push(o)}else r.done()})).next((function(){b(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map((function(t){return t.canonicalString()})))}))}))},t.prototype.containsKey=function(t,e){return ee(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return se(t).get(this.userId).next((function(t){return t||new an(e.userId,-1,"")}))},t}();function ee(t,e,n){var r=un.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return oe(t).iterate({range:o,keysOnly:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function ne(t,e,n){var r=t.store(cn.store),i=t.store(un.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.iterate({range:s},(function(t,e,n){return a++,n.delete()}));o.push(c.next((function(){b(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)})));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=un.key(e,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return zt.waitFor(o).next((function(){return u}))}function re(t){return t instanceof Uint8Array?(b(Kt.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function ie(t){return jn.getStore(t,cn.store)}function oe(t){return jn.getStore(t,un.store)}function se(t){return jn.getStore(t,an.store)}var ae=1,ce=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),ue=function(){function t(t,e){this.generatorId=t,b((t&ae)===t,"Generator ID "+t+" contains more than "+ae+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<ae,t},t.prototype.after=function(t){return this.seek(t+(1<<ae)),this.next()},t.prototype.seek=function(t){b((t&ae)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forTargetCache=function(){return new t(ce.QueryCache,2)},t.forSyncEngine=function(){return new t(ce.SyncEngine)},t}(),le=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=ue.forTargetCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next((function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next((function(t){return Tt.fromTimestamp(new Et(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return fe(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.saveTargetData(t,e).next((function(){return n.retrieveMetadata(t).next((function(r){return r.targetCount+=1,n.updateMetadataFromTargetData(e,r),n.saveMetadata(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.saveTargetData(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return he(t).delete(e.targetId)})).next((function(){return n.retrieveMetadata(t)})).next((function(e){return b(e.targetCount>0,"Removing from an empty target cache"),e.targetCount-=1,n.saveMetadata(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return he(t).iterate((function(s,a){var c=r.serializer.fromDbTarget(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,o.push(r.removeTargetData(t,c)))})).next((function(){return zt.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){var n=this;return he(t).iterate((function(t,r){var i=n.serializer.fromDbTarget(r);e(i)}))},t.prototype.retrieveMetadata=function(t){return de(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,jn.getStore(n,gn.store)).put(gn.key,e);var n},t.prototype.saveTargetData=function(t,e){return he(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromTargetData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.retrieveMetadata(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return he(t).iterate({range:i,index:pn.queryTargetsIndexName},(function(t,r,i){var s=n.serializer.fromDbTarget(r);e.isEqual(s.target)&&(o=s,i.done())})).next((function(){return o}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=pe(t);return e.forEach((function(e){var s=_t(e.path);i.push(o.put(new mn(n,s))),i.push(r.referenceDelegate.addReference(t,e))})),zt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=pe(t);return zt.forEach(e,(function(e){var o=_t(e.path);return zt.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=pe(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=pe(t),i=Vt();return r.iterate({range:n,keysOnly:!0},(function(t,e,n){var r=St(t[1]),o=new ht(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=_t(e.path),r=IDBKeyRange.bound([n],[Z(n)],!1,!0),i=0;return pe(t).iterate({index:mn.documentTargetsIndex,keysOnly:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.getTargetDataForTarget=function(t,e){var n=this;return he(t).get(e).next((function(t){return t?n.serializer.fromDbTarget(t):null}))},t}();function he(t){return jn.getStore(t,pn.store)}function de(t){return Kt.getStore(t,gn.store).get(gn.key).next((function(t){return b(null!==t,"Missing metadata row."),t}))}function fe(t){return de(t).next((function(t){return t.highestListenSequenceNumber}))}function pe(t){return jn.getStore(t,mn.store)}var me=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new Ot(lt.comparator);return e.forEach((function(t){return n=n.add(t)})),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach((function(n){n.isPrefixOf(t)&&(e=!0)})),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),ge=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ye=function(){return function(t,e){this.version=t,this.transformResults=e}}(),ve=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),be=function(){function t(t,e){this.updateTime=t,this.exists=e,b(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof We&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof We:(b(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),_e=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&b(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof We?t.version:Tt.MIN},t}(),we=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=ve.Set,i}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),b(null==e.transformResults,"Transform results received by SetMutation."),new We(this.key,e.version,{hasCommittedMutations:!0},this.value)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=_e.getPostMutationVersion(t);return new We(this.key,r,{hasLocalMutations:!0},this.value)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(_e),Ce=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=ve.Patch,o}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),b(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new Ge(this.key,e.version);var n=this.patchDocument(t);return new We(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=_e.getPostMutationVersion(t),i=this.patchDocument(t);return new We(this.key,r,{hasLocalMutations:!0},i)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof We?t.data():Be.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t=null!==r?t.set(n,r):t.delete(n)}})),t},e}(_e),Se=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=ve.Transform,r.precondition=be.exists(!0),r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),b(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new Ge(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data(),r);return new We(this.key,i,{hasCommittedMutations:!0},o)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,t,e),o=this.transformObject(r.data(),i);return new We(this.key,r.version,{hasLocalMutations:!0},o)},e.prototype.extractBaseValue=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof We?t.field(i.field):void 0,s=i.transform.computeBaseValue(o||null);null!=s&&(e=null==e?Be.EMPTY.set(i.field,s):e.set(i.field,s))}return e},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&X(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){return b(t instanceof We,"Unknown MaybeDocument type "+t),b(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},e.prototype.serverTransformResults=function(t,e){var n=[];b(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof We&&(s=t.field(i.field)),n.push(o.applyToRemoteDocument(s,e[r]))}return n},e.prototype.localTransformResults=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,c=null;e instanceof We&&(c=e.field(s.field)),null===c&&n instanceof We&&(c=n.field(s.field)),r.push(a.applyToLocalView(c,t))}return r},e.prototype.transformObject=function(t,e){b(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(_e),Ee=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=ve.Delete,r}return o.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),b(null==e.transformResults,"Transform results received by DeleteMutation."),new ze(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&b(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ze(this.key,Tt.forDeletedDoc())):t},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(_e),Te=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),ke=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),Ie=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(ke.Estimate,n);case"previous":return new t(ke.Previous,n);case"none":case void 0:return new t(ke.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),xe=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return b(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),Y(this.typeOrder,t.typeOrder)},t}(),Ae=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=Te.NullValue,e.internalValue=null,e}return o.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(xe),Oe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Te.BooleanValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Y(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(xe),De=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Te.NumberValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(xe);function Pe(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Pe(this.internalValue,t.internalValue)},e}(De),Re=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Pe(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(De),Me=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Te.StringValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Y(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(xe),Le=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Te.TimestampValue,n}return o.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Fe?-1:this.defaultCompareTo(t)},e}(xe),Fe=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=Te.TimestampValue,r}return o.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===ke.Estimate?new Le(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===ke.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Le?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(xe),Ue=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Te.BlobValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(xe),je=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=Te.RefValue,r}return o.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ht.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(xe),Ve=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Te.GeoPointValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(xe),Be=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Te.ObjectValue,n}return o.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal((function(n,r){e[n]=r.value(t)})),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),s=Y(i.key,o.key)||i.value.compareTo(o.value);if(s)return s}return Y(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(b(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(b(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){b(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach((function(t){n=n instanceof e?n.internalValue.get(t):null})),n},e.prototype.fieldMask=function(){var t=new Ot(lt.comparator);return this.internalValue.forEach((function(n,r){var i=new lt([n]);if(r instanceof e){var o=r.fieldMask().fields;o.isEmpty()?t=t.add(i):o.forEach((function(e){t=t.add(i.child(e))}))}else t=t.add(i)})),me.fromSet(t)},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new kt(Y)),e}(xe),qe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Te.ArrayValue,n}return o.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map((function(e){return e.value(t)}))},e.prototype.contains=function(t){for(var e=0,n=this.internalValue;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return Y(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map((function(t){return t.toString()})).join(",")+"]"},e}(xe),He=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ht.comparator(t.key,e.key)},t}(),We=function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n)||this;return a.objectValue=i,a.proto=o,a.converter=s,b(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!r.hasLocalMutations,a.hasCommittedMutations=!!r.hasCommittedMutations,a}return o.__extends(e,t),e.prototype.field=function(t){if(this.objectValue)return this.objectValue.field(t);this.fieldValueCache||(this.fieldValueCache=new Map);var e=t.canonicalString(),n=this.fieldValueCache.get(e);if(void 0===n){var r=this.getProtoField(t);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.objectValue){var e=Be.EMPTY;x(this.proto.fields||{},(function(n,r){e=e.set(new lt([n]),t.converter(r))})),this.objectValue=e,this.fieldValueCache=void 0}return this.objectValue},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.getProtoField=function(t){b(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.firstSegment()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.compareTo(i):v("Trying to compare documents on fields that don't exist")},e}(He),ze=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(He),Ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(He),Ke=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){x(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return A(this.inner)},t}(),Qe=function(){function t(){this.changes=new Ke((function(t){return t.toString()})),this.changesApplied=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return b(void 0!==this._readTime,"Read time is not set. All removeEntry() calls must include a readTime if `trackRemovals` is used."),this._readTime},set:function(t){b(void 0===this._readTime||this._readTime.isEqual(t),"All changes in a RemoteDocumentChangeBuffer must have the same read time"),this._readTime=t},enumerable:!0,configurable:!0}),t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.readTime=e,this.changes.set(t.key,t)},t.prototype.removeEntry=function(t,e){this.assertNotApplied(),e&&(this.readTime=e),this.changes.set(t,null)},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?zt.resolve(n):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){b(!this.changesApplied,"Changes have already been applied.")},t}(),$e=function(){function t(t,e){this.serializer=t,this.indexManager=e}return t.prototype.addEntry=function(t,e,n){return Xe(t).put(Ze(e),n)},t.prototype.removeEntry=function(t,e){var n=Xe(t),r=Ze(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.setMetadata(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Xe(t).get(Ze(e)).next((function(t){return n.maybeDecodeDocument(t)}))},t.prototype.getSizedEntry=function(t,e){var n=this;return Xe(t).get(Ze(e)).next((function(t){var e=n.maybeDecodeDocument(t);return e?{maybeDocument:e,size:Je(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Rt();return this.forEachDbEntry(t,e,(function(t,e){var i=n.maybeDecodeDocument(e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.getSizedEntries=function(t,e){var n=this,r=Rt(),i=new kt(ht.comparator);return this.forEachDbEntry(t,e,(function(t,e){var o=n.maybeDecodeDocument(e);o?(r=r.insert(t,o),i=i.insert(t,Je(e))):(r=r.insert(t,null),i=i.insert(t,0))})).next((function(){return{maybeDocuments:r,sizeMap:i}}))},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return zt.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Xe(t).iterate({range:r},(function(t,e,r){for(var s=ht.fromSegments(t);o&&ht.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this;b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var i=Lt(),o=e.path.length+1,s={};if(n.isEqual(Tt.MIN)){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=this.serializer.toDbTimestampKey(n);s.range=IDBKeyRange.lowerBound([c,u],!0),s.index=dn.collectionReadTimeIndex}return Xe(t).iterate(s,(function(t,n,s){if(t.length===o){var a=r.serializer.fromDbRemoteDocument(n);e.path.isPrefixOf(a.key.path)?a instanceof We&&e.matches(a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.getNewDocumentChanges=function(t,e){var n=this,r=Nt(),i=this.serializer.toDbTimestampKey(e),o=Xe(t),s=IDBKeyRange.lowerBound(i,!0);return o.iterate({index:dn.readTimeIndex,range:s},(function(t,e){var o=n.serializer.fromDbRemoteDocument(e);r=r.insert(o.key,o),i=e.readTime})).next((function(){return{changedDocs:r,readTime:n.serializer.fromDbTimestampKey(i)}}))},t.prototype.getLastDocumentChange=function(t){var e,n=this,r=Xe(t),i=Tt.MIN;return r.iterate({index:dn.readTimeIndex,reverse:!0},(function(t,r,o){e=n.serializer.fromDbRemoteDocument(r),r.readTime&&(i=n.serializer.fromDbTimestampKey(r.readTime)),o.done()})).next((function(){return{changedDoc:e,readTime:i}}))},t.prototype.newChangeBuffer=function(e){return new t.RemoteDocumentChangeBuffer(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Ye(t).get(fn.key).next((function(t){return b(!!t,"Missing document cache metadata"),t}))},t.prototype.setMetadata=function(t,e){return Ye(t).put(fn.key,e)},t.prototype.maybeDecodeDocument=function(t){if(t){var e=this.serializer.fromDbRemoteDocument(t);return e instanceof ze&&e.version.isEqual(Tt.forDeletedDoc())?null:e}return null},t.RemoteDocumentChangeBuffer=function(t){function e(e,n){var r=t.call(this)||this;return r.documentCache=e,r.trackRemovals=n,r.documentSizes=new Ke((function(t){return t.toString()})),r}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Ot((function(t,e){return Y(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.documentSizes.get(o);if(b(void 0!==a,"Cannot modify a document that wasn't read (for "+o+")"),s){b(!e.readTime.isEqual(Tt.MIN),"Cannot add a document with a read time of zero");var c=e.documentCache.serializer.toDbRemoteDocument(s,e.readTime);i=i.add(o.path.popLast());var u=Je(c);r+=u-a,n.push(e.documentCache.addEntry(t,o,c))}else if(r-=a,e.trackRemovals){var l=e.documentCache.serializer.toDbRemoteDocument(new ze(o,Tt.forDeletedDoc()),e.readTime);n.push(e.documentCache.addEntry(t,o,l))}else n.push(e.documentCache.removeEntry(t,o))})),i.forEach((function(r){n.push(e.documentCache.indexManager.addToCollectionParentIndex(t,r))})),n.push(this.documentCache.updateMetadata(t,r)),zt.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntry(t,e).next((function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntries(t,e).next((function(t){var e=t.maybeDocuments;return t.sizeMap.forEach((function(t,e){n.documentSizes.set(t,e)})),e}))},e}(Qe),t}();function Ye(t){return jn.getStore(t,fn.store)}function Xe(t){return jn.getStore(t,dn.store)}function Ze(t){return t.path.toArray()}function Je(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var tn=function(){function t(){this.collectionParentIndex=new en}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),zt.resolve()},t.prototype.getCollectionParents=function(t,e){return zt.resolve(this.collectionParentIndex.getEntries(e))},t}(),en=function(){function t(){this.index={}}return t.prototype.add=function(t){b(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ot(ct.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ot(ct.comparator)).toArray()},t}(),nn=9,rn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;b(n<r&&n>=0&&r<=nn,"Unexpected schema upgrade from v"+n+" to v{toVersion}.");var o=new $t(e);n<1&&r>=1&&(function(t){t.createObjectStore(sn.store)}(t),function(t){t.createObjectStore(an.store,{keyPath:an.keyPath}),t.createObjectStore(cn.store,{keyPath:cn.keyPath,autoIncrement:!0}).createIndex(cn.userMutationsIndex,cn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(un.store)}(t),vn(t),function(t){t.createObjectStore(dn.store)}(t));var s=zt.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(mn.store),t.deleteObjectStore(pn.store),t.deleteObjectStore(gn.store)}(t),vn(t)),s=s.next((function(){return function(t){var e=t.store(gn.store),n=new gn(0,0,Tt.MIN.toTimestamp(),0);return e.put(gn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(cn.store).loadAll().next((function(n){t.deleteObjectStore(cn.store),t.createObjectStore(cn.store,{keyPath:cn.keyPath,autoIncrement:!0}).createIndex(cn.userMutationsIndex,cn.userMutationsKeyPath,{unique:!0});var r=e.store(cn.store),i=n.map((function(t){return r.put(t)}));return zt.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(bn.store,{keyPath:bn.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(fn.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(dn.store);e.createIndex(dn.readTimeIndex,dn.readTimeIndexPath,{unique:!1}),e.createIndex(dn.collectionReadTimeIndex,dn.collectionReadTimeIndexPath,{unique:!1})}(e)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(dn.store).iterate((function(t,n){e+=Je(n)})).next((function(){var n=new fn(e);return t.store(fn.store).put(fn.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(an.store),r=t.store(cn.store);return n.loadAll().next((function(n){return zt.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(cn.userMutationsIndex,i).next((function(r){return zt.forEach(r,(function(r){b(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return ne(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(mn.store),n=t.store(dn.store);return fe(t).next((function(t){var r=[];return n.iterate((function(n,i){var o=new ct(n),s=function(t){return[0,_t(t)]}(o);r.push(e.get(s).next((function(n){return n?zt.resolve():function(n){return e.put(new mn(0,_t(n),t))}(o)})))})).next((function(){return zt.waitFor(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(yn.store,{keyPath:yn.keyPath});var n=e.store(yn.store),r=new en,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:_t(i)})}};return e.store(dn.store).iterate({keysOnly:!0},(function(t,e){var n=new ct(t);return i(n.popLast())})).next((function(){return e.store(un.store).iterate({keysOnly:!0},(function(t,e){var n=St(t[1]);return i(n.popLast())}))}))},t}(),on=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),sn=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),an=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),cn=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),un=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,_t(e)]},t.key=function(t,e,n){return[t,_t(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),ln=function(){return function(t,e){this.path=t,this.readTime=e}}(),hn=function(){return function(t,e){this.path=t,this.version=e}}(),dn=function(){function t(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o}return t.store="remoteDocuments",t.readTimeIndex="readTimeIndex",t.readTimeIndexPath="readTime",t.collectionReadTimeIndex="collectionReadTimeIndex",t.collectionReadTimeIndexPath=["parentPath","readTime"],t}(),fn=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),pn=function(){function t(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),mn=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,b(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),gn=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),yn=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function vn(t){t.createObjectStore(mn.store,{keyPath:mn.keyPath}).createIndex(mn.documentTargetsIndex,mn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(pn.store,{keyPath:pn.keyPath}).createIndex(pn.queryTargetsIndexName,pn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(gn.store)}var bn=function(){function t(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}return t.store="clientMetadata",t.keyPath="clientId",t}(),_n=o.__spreadArrays([an.store,cn.store,un.store,dn.store,pn.store,sn.store,gn.store,mn.store],[bn.store]),wn=o.__spreadArrays(_n,[fn.store]),Cn=o.__spreadArrays(wn,[yn.store]),Sn=function(){function t(){this.collectionParentsCache=new en}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(b(e.length%2==1,"Expected a collection path."),!this.collectionParentsCache.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.collectionParentsCache.add(e)}));var o={collectionId:r,parent:_t(i)};return En(t).put(o)}return zt.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Z(e),""],!1,!0);return En(t).loadAll(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(St(o.parent))}return n}))},t}();function En(t){return jn.getStore(t,yn.store)}var Tn=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),kn=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Tt.MIN),void 0===o&&(o=Tt.MIN),void 0===s&&(s=w()),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.lastLimboFreeSnapshotVersion.isEqual(t.lastLimboFreeSnapshotVersion)&&this.resumeToken===t.resumeToken&&this.target.isEqual(t.target)},t}(),In=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ht.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new ze(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ht.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new Ge(e,n)):v("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t,e){var n=this.toDbTimestampKey(e),r=t.key.path.popLast().toArray();if(t instanceof We){var i=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new dn(null,null,i,a=t.hasCommittedMutations,n,r)}if(t instanceof ze){var o=t.key.path.toArray(),s=this.toDbTimestamp(t.version),a=t.hasCommittedMutations;return new dn(null,new ln(o,s),null,a,n,r)}if(t instanceof Ge){o=t.key.path.toArray();var c=this.toDbTimestamp(t.version);return new dn(new hn(o,c),null,null,!0,n,r)}return v("Unexpected MaybeDocument")},t.prototype.toDbTimestampKey=function(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]},t.prototype.fromDbTimestampKey=function(t){var e=new Et(t[0],t[1]);return Tt.fromTimestamp(e)},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new on(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new Et(t.seconds,t.nanoseconds);return Tt.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map((function(t){return n.remoteSerializer.toMutation(t)})),i=e.mutations.map((function(t){return n.remoteSerializer.toMutation(t)}));return new cn(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map((function(t){return e.remoteSerializer.fromMutation(t)})),r=t.mutations.map((function(t){return e.remoteSerializer.fromMutation(t)})),i=Et.fromMillis(t.localWriteTimeMs);return new Ht(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach((function(t){e.push(_t(t.path))})),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Vt(),n=0,r=t;n<r.length;n++)e=e.add(new ht(St(r[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime),r=void 0!==t.lastLimboFreeSnapshotVersion?this.fromDbTimestamp(t.lastLimboFreeSnapshotVersion):Tt.MIN,i=t.resumeToken;return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new kn(e,t.targetId,Tn.Listen,t.lastListenSequenceNumber,n,r,i)},t.prototype.toDbTarget=function(t){b(Tn.Listen===t.purpose,"Only queries with purpose "+Tn.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion),i=this.toDbTimestamp(t.lastLimboFreeSnapshotVersion);return e=t.target.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.target):this.remoteSerializer.toQueryTarget(t.target),t.resumeToken instanceof Uint8Array?(b(Kt.isMockPersistence(),"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new pn(t.targetId,t.target.canonicalId(),r,n,t.sequenceNumber,i,e)},t}();function xn(t,e){var n=t[1],r=e[1],i=Y(t[0],e[0]);return 0===i?Y(n,r):i}var An=function(){function t(t){this.maxElements=t,this.buffer=new Ot(xn),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();xn(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),On={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dn=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),Pn=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.hasRun=!1,this.gcTask=null}return t.prototype.start=function(){b(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Dn.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;b(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;m("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(ft.LruGarbageCollection,e,(function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then((function(){return t.scheduleGC()})).catch(Vn)}))},t}(),Nn=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return zt.resolve(st.INVALID);var r=new An(e);return this.delegate.forEachTarget(t,(function(t){return r.addElement(t.sequenceNumber)})).next((function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,(function(t){return r.addElement(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===Dn.COLLECTION_DISABLED?(m("LruGarbageCollector","Garbage collection skipped; disabled"),zt.resolve(On)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(m("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),On):n.runGarbageCollection(t,e)}))},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,i,o,s,a,c,u=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>u.params.maximumSequenceNumbersToCollect?(m("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),u.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),u.removeTargets(t,n,e)})).next((function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),f()<=d.DEBUG&&m("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),zt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Rn=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Mn="IndexedDbPersistence",Ln="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Un=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return o.__extends(e,t),e}(Rn),jn=function(){function t(e,n,r,i,o,s,a,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.queue=s,this.sequenceNumberSyncer=c,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},this.referenceDelegate=new Hn(this,o),this.dbName=n+t.MAIN_DATABASE,this.serializer=new In(a),this.document=i.document,this.targetCache=new le(this.referenceDelegate,this.serializer),this.indexManager=new Sn,this.remoteDocumentCache=new $e(this.serializer,this.indexManager),!i.window||!i.window.localStorage)throw new S(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Un)return Kt.getStore(t.simpleDbTransaction,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!t.isAvailable())throw new S(C.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}}))}))},t.prototype.start=function(){var t=this;return b(!this.started,"IndexedDbPersistence double-started!"),b(null!==this.window,"Expected 'window' to be defined"),Kt.openOrCreate(this.dbName,nn,new rn(this.serializer)).then((function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()})).then((function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.simpleDb.runTransaction("readonly-idempotent",[gn.store],(function(t){return fe(t)}))})).then((function(e){t.listenSequence=new st(e,t.sequenceNumberSyncer)})).then((function(){t._started=!0})).catch((function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)}))},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener((function(n){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite-idempotent",Cn,(function(e){return qn(e).put(new bn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next((function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget((function(){return t.primaryStateListener(!1)})))}))})).next((function(){return t.canActAsPrimary(e)})).next((function(n){return t.isPrimary&&!n?t.releasePrimaryLeaseIfHeld(e).next((function(){return!1})):!!n&&t.acquireOrExtendPrimaryLease(e).next((function(){return!0}))}))})).catch((function(e){if(!t.allowTabSynchronization)throw e;return m(Mn,"Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.queue.enqueueAndForget((function(){return t.primaryStateListener(e)})),t.isPrimary=e}))},t.prototype.verifyPrimaryLease=function(t){var e=this;return Bn(t).get(sn.key).next((function(t){return zt.resolve(e.isLocalClient(t))}))},t.prototype.removeClientMetadata=function(t){return qn(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){switch(n.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary-idempotent",(function(n){var r=t.getStore(n,bn.store);return r.loadAll().next((function(t){var n=e.filterActiveClients(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return zt.forEach(i,(function(t){return r.delete(t.clientId)})).next((function(){return i}))}))}))]);case 1:n.sent().forEach((function(t){e.window.localStorage.removeItem(e.zombiedClientLocalStorageKey(t.clientId))})),n.label=2;case 2:return[2]}}))}))},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ft.ClientMetadataRefresh,4e3,(function(){return t.updateClientMetadataAndTryBecomePrimary().then((function(){return t.maybeGarbageCollectMultiClientState()})).then((function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()}))}))},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Bn(t).get(sn.key).next((function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new S(C.FAILED_PRECONDITION,Fn);return!1}}return!(!e.networkEnabled||!e.inForeground)||qn(t).loadAll().next((function(t){return void 0===e.filterActiveClients(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&m(Mn,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite-idempotent",[sn.store,bn.store],(function(e){return t.releasePrimaryLeaseIfHeld(e).next((function(){return t.removeClientMetadata(e)}))}))];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}}))}))},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter((function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)}))},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly-idempotent",[bn.store],(function(e){return qn(e).loadAll().next((function(e){return t.filterActiveClients(e,18e5).map((function(t){return t.clientId}))}))}))},t.clearPersistence=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return t.isAvailable()?[4,Kt.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return b(this.started,"Cannot initialize MutationQueue before persistence is started."),te.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getTargetCache=function(){return b(this.started,"Cannot initialize TargetCache before persistence is started."),this.targetCache},t.prototype.getRemoteDocumentCache=function(){return b(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return b(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;m(Mn,"Starting transaction:",t);var i,o=e.endsWith("idempotent"),s=e.startsWith("readonly");return this.simpleDb.runTransaction(s?o?"readonly-idempotent":"readonly":o?"readwrite-idempotent":"readwrite",Cn,(function(o){return i=new Un(o,r.listenSequence.next()),"readwrite-primary"===e||"readwrite-primary-idempotent"===e?r.verifyPrimaryLease(o).next((function(t){return!!t||r.canActAsPrimary(o)})).next((function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget((function(){return r.primaryStateListener(!1)})),new S(C.FAILED_PRECONDITION,Ln);return n(i)})).next((function(t){return r.acquireOrExtendPrimaryLease(o).next((function(){return t}))})):r.verifyAllowTabSynchronization(o).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Bn(t).get(sn.key).next((function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new S(C.FAILED_PRECONDITION,Fn)}))},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new sn(this.clientId,this.allowTabSynchronization,Date.now());return Bn(t).put(sn.key,e)},t.isAvailable=function(){return Kt.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Bn(t);return n.get(sn.key).next((function(t){return e.isLocalClient(t)?(m(Mn,"Releasing primary lease."),n.delete(sn.key)):zt.resolve()}))},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(g("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()}))},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(b(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(b("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return m(Mn,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return g(Mn,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){g("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Vn(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){if(!function(t){return t.code===C.FAILED_PRECONDITION&&t.message===Ln}(t))throw t;return m(Mn,"Unexpectedly lost primary lease"),[2]}))}))}function Bn(t){return t.store(sn.store)}function qn(t){return t.store(bn.store)}var Hn=function(){function t(t,e){this.db=t,this.inMemoryPins=null,this.garbageCollector=new Nn(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,(function(t,n){return e(n)}))},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return Wn(t,e)},t.prototype.removeReference=function(t,e){return Wn(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return Wn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?zt.resolve(!0):function(t,e){var n=!1;return se(t).iterateSerial((function(r){return ee(t,r,e).next((function(t){return t&&(n=!0),zt.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(t,(function(s,a){if(a<=e){var c=n.isPinned(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),pe(t).delete([0,_t(s.path)])}))}));i.push(c)}})).next((function(){return zt.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Wn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=pe(t),i=st.INVALID;return r.iterate({index:mn.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==st.INVALID&&e(new ht(St(n)),i),i=s,n=o):i=st.INVALID})).next((function(){i!==st.INVALID&&e(new ht(St(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Wn(t,e){return pe(t).put(function(t,e){return new mn(0,_t(t.path),e)}(e,t.currentSequenceNumber))}var zn=Number,Gn=zn.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Kn=zn.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Qn=zn.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function $n(t){return null==t}function Yn(t){return Qn(t)&&t<=Kn&&t>=Gn}var Xn=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.memoizedCanonicalId=null}return t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();null!==this.collectionGroup&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";$n(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t=this.path.canonicalString();return null!==this.collectionGroup&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),$n(this.limit)||(t+=", limit: "+this.limit),this.orderBy.length>0&&(t+=", orderBy: ["+this.orderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),"Target("+t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.isDocumentQuery=function(){return ht.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t}(),Zn=function(t){return t.First="F",t.Last="L",t}({}),Jn=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=Zn.First),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.memoizedOrderBy=null,this.memoizedTarget=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[hr]:[new lr(t),hr];else{b(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:cr.ASCENDING)===cr.ASCENDING?hr:dr)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){b(null==this.getInequalityFilterField()||!(e instanceof nr)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),b(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){b(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.withLimitToFirst=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,Zn.First,this.startAt,this.endAt)},t.prototype.withLimitToLast=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,Zn.Last,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.limitType,this.startAt,this.endAt)},t.prototype.matchesAllDocuments=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.explicitOrderBy.length||1===this.explicitOrderBy.length&&this.explicitOrderBy[0].field.isKeyField())},t.prototype.canonicalId=function(){return this.toTarget().canonicalId()+"|lt:"+this.limitType},t.prototype.toString=function(){return"Query(target="+this.toTarget().toString()+"; limitType="+this.limitType+")"},t.prototype.isEqual=function(t){return this.toTarget().isEqual(t.toTarget())&&this.limitType===t.limitType},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.isKeyField()}return b(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimitToFirst=function(){return!$n(this.limit)&&this.limitType===Zn.First},t.prototype.hasLimitToLast=function(){return!$n(this.limit)&&this.limitType===Zn.Last},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof nr&&n.isInequality())return n.field}return null},t.prototype.findFilterOperator=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof nr&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.isDocumentQuery=function(){return this.toTarget().isDocumentQuery()},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.toTarget=function(){if(!this.memoizedTarget)if(this.limitType===Zn.First)this.memoizedTarget=new Xn(this.path,this.collectionGroup,this.orderBy,this.filters,this.limit,this.startAt,this.endAt);else{for(var t=[],e=0,n=this.orderBy;e<n.length;e++){var r=n[e];t.push(new lr(r.field,r.dir===cr.DESCENDING?cr.ASCENDING:cr.DESCENDING))}var i=this.endAt?new ur(this.endAt.position,!this.endAt.before):null,o=this.startAt?new ur(this.startAt.position,!this.startAt.before):null;this.memoizedTarget=new Xn(this.path,this.collectionGroup,t,this.filters,this.limit,i,o)}return this.memoizedTarget},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):ht.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){b(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),tr=function(){return function(){}}(),er=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return v("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),nr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return o.__extends(e,t),e.create=function(t,n,r){if(t.isKeyField())return n===er.IN?(b(r instanceof qe,"Comparing on key with IN, but filter value not an ArrayValue"),b(r.internalValue.every((function(t){return t instanceof je})),"Comparing on key with IN, but an array value was not a RefValue"),new ir(t,r)):(b(r instanceof je,"Comparing on key, but filter value not a RefValue"),b(n!==er.ARRAY_CONTAINS&&n!==er.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new rr(t,n,r));if(r.isEqual(Ae.INSTANCE)){if(n!==er.EQUAL)throw new S(C.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(r.isEqual(Re.NAN)){if(n!==er.EQUAL)throw new S(C.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===er.ARRAY_CONTAINS?new or(t,r):n===er.IN?(b(r instanceof qe,"IN filter has invalid value: "+r.toString()),new sr(t,r)):n===er.ARRAY_CONTAINS_ANY?(b(r instanceof qe,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new ar(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case er.LESS_THAN:return t<0;case er.LESS_THAN_OR_EQUAL:return t<=0;case er.EQUAL:return 0===t;case er.GREATER_THAN:return t>0;case er.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown FieldFilter operator: "+this.op)}},e.prototype.isInequality=function(){return[er.LESS_THAN,er.LESS_THAN_OR_EQUAL,er.GREATER_THAN,er.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(tr),rr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=ht.comparator(t.key,this.value.key);return this.matchesComparison(e)},e}(nr),ir=function(t){function e(e,n){var r=t.call(this,e,er.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){return this.value.internalValue.some((function(e){return t.key.isEqual(e.key)}))},e}(nr),or=function(t){function e(e,n){return t.call(this,e,er.ARRAY_CONTAINS,n)||this}return o.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof qe&&e.contains(this.value)},e}(nr),sr=function(t){function e(e,n){var r=t.call(this,e,er.IN,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(nr),ar=function(t){function e(e,n){var r=t.call(this,e,er.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return o.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof qe&&n.internalValue.some((function(t){return e.value.contains(t)}))},e}(nr),cr=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),ur=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){b(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())b(o instanceof je,"Bound has a non-key value where the key path is being used."),n=ht.comparator(o.key,e.key);else{var s=e.field(i.field);b(null!==s,"Field should exist since document matched the orderBy already."),n=o.compareTo(s)}if(i.dir===cr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!this.position[e].isEqual(t.position[e]))return!1;return!0},t}(),lr=function(){function t(t,e){this.field=t,void 0===e&&(e=cr.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?We.compareByKey(t,e):We.compareByField(this.field,t,e);switch(this.dir){case cr.ASCENDING:return n;case cr.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),hr=new lr(lt.keyField(),cr.ASCENDING),dr=new lr(lt.keyField(),cr.DESCENDING),fr=function(){function t(){}return t.prototype.setLocalDocumentsView=function(t){this.localDocumentsView=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return b(void 0!==this.localDocumentsView,"setLocalDocumentsView() not called"),e.matchesAllDocuments()?this.executeFullCollectionScan(t,e):n.isEqual(Tt.MIN)?this.executeFullCollectionScan(t,e):this.localDocumentsView.getDocuments(t,r).next((function(o){var s=i.applyQuery(e,o);return(e.hasLimitToFirst()||e.hasLimitToLast())&&i.needsRefill(e.limitType,s,r,n)?i.executeFullCollectionScan(t,e):(f()<=d.DEBUG&&m("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),e.toString()),i.localDocumentsView.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.applyQuery=function(t,e){var n=new Ot((function(e,n){return t.docComparator(e,n)}));return e.forEach((function(e,r){r instanceof We&&t.matches(r)&&(n=n.add(r))})),n},t.prototype.needsRefill=function(t,e,n,r){if(n.size!==e.size)return!0;var i=t===Zn.First?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.executeFullCollectionScan=function(t,e){return f()<=d.DEBUG&&m("IndexFreeQueryEngine","Using full collection scan to execute query: %s",e.toString()),this.localDocumentsView.getDocumentsMatchingQuery(t,e,Tt.MIN)},t}(),pr=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.getDocumentInternal(t,e,r)}))},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t}))},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Rt();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)})),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next((function(e){return n.getLocalViewOfDocuments(t,e)}))},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=Nt();return i.forEach((function(t,e){e||(e=new ze(t,Tt.forDeletedDoc())),o=o.insert(t,e)})),o}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ht(e)).next((function(t){var e=Lt();return t instanceof We&&(e=e.insert(t.key,t)),e}))},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e,n){var r=this;b(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var i=e.collectionGroup,o=Lt();return this.indexManager.getCollectionParents(t,i).next((function(s){return zt.forEach(s,(function(s){var a=e.asCollectionQueryAtPath(s.child(i));return r.getDocumentsMatchingCollectionQuery(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e,n){var r,i,o=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.addMissingBaseDocuments(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],u=c.key,l=r.get(u),h=c.applyToLocalView(l,l,o.localWriteTime);r=h instanceof We?r.insert(u,h):r.remove(u)}}))})).next((function(){return r.forEach((function(t,n){e.matches(n)||(r=r.remove(t))})),r}))},t.prototype.addMissingBaseDocuments=function(t,e,n){for(var r=Vt(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var c=a[s];c instanceof Ce&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.remoteDocumentCache.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof We&&(u=u.insert(t,e))})),u}))},t}(),mr=function(){function t(){this.refsByKey=new Ot(gr.compareByKey),this.refsByTarget=new Ot(gr.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new gr(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.removeRef(new gr(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.removeReferencesForId=function(t){var e=this,n=ht.EMPTY,r=new gr(n,t),i=new gr(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],(function(t){e.removeRef(t),o.push(t.key)})),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach((function(e){return t.removeRef(e)}))},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ht.EMPTY,n=new gr(e,t),r=new gr(e,t+1),i=Vt();return this.refsByTarget.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new gr(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),gr=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ht.comparator(t.key,e.key)||Y(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return Y(t.targetOrBatchId,e.targetOrBatchId)||ht.comparator(t.key,e.key)},t}(),yr=function(){function t(t,e,n){this.persistence=t,this.queryEngine=e,this.localViewReferences=new mr,this.targetDataByTarget=new kt(Y),this.targetIdByTarget=new Ke((function(t){return t.canonicalId()})),this.lastDocumentChangeReadTime=Tt.MIN,b(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(n),this.remoteDocuments=t.getRemoteDocumentCache(),this.targetCache=t.getTargetCache(),this.localDocuments=new pr(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager()),this.queryEngine.setLocalDocumentsView(this.localDocuments)}return t.prototype.start=function(){return this.synchronizeLastDocumentChangeReadTime()},t.prototype.handleUserChange=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i=this;return o.__generator(this,(function(o){switch(o.label){case 0:return e=this.mutationQueue,n=this.localDocuments,[4,this.persistence.runTransaction("Handle user change","readonly-idempotent",(function(r){var o;return i.mutationQueue.getAllMutationBatches(r).next((function(s){return o=s,e=i.persistence.getMutationQueue(t),n=new pr(i.remoteDocuments,e,i.persistence.getIndexManager()),e.getAllMutationBatches(r)})).next((function(t){for(var e=[],i=[],s=Vt(),a=0,c=o;a<c.length;a++){e.push((f=c[a]).batchId);for(var u=0,l=f.mutations;u<l.length;u++)s=s.add(l[u].key)}for(var h=0,d=t;h<d.length;h++){var f;i.push((f=d[h]).batchId);for(var p=0,m=f.mutations;p<m.length;p++)s=s.add(m[p].key)}return n.getDocuments(r,s).next((function(t){return{affectedDocuments:t,removedBatchIds:e,addedBatchIds:i}}))}))}))];case 1:return r=o.sent(),this.mutationQueue=e,this.localDocuments=n,this.queryEngine.setLocalDocumentsView(this.localDocuments),[2,r]}}))}))},t.prototype.localWrite=function(t){var e,n=this,r=Et.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Vt());return this.persistence.runTransaction("Locally write mutations","readwrite-idempotent",(function(o){return n.localDocuments.getDocuments(o,i).next((function(i){e=i;for(var s=[],a=0,c=t;a<c.length;a++){var u=c[a],l=u.extractBaseValue(e.get(u.key));null!=l&&s.push(new Ce(u.key,l,l.fieldMask(),be.exists(!0)))}return n.mutationQueue.addMutationBatch(o,r,s,t)}))})).then((function(t){var n=t.applyToLocalDocumentSet(e);return{batchId:t.batchId,changes:n}}))},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly-idempotent",(function(n){return e.mutationQueue.lookupMutationKeys(n,t).next((function(t){return t?e.localDocuments.getDocuments(n,t):zt.resolve(null)}))}))},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary-idempotent",(function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer({trackRemovals:!0});return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next((function(){return e.applyWriteToRemoteDocuments(n,t,i)})).next((function(){return i.apply(n)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,r)}))}))},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary-idempotent",(function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next((function(t){return b(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)})).next((function(){return e.mutationQueue.performConsistencyCheck(n)})).next((function(){return e.localDocuments.getDocuments(n,r)}))}))},t.prototype.getHighestUnacknowledgedBatchId=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly-idempotent",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly-idempotent",(function(e){return t.mutationQueue.getLastStreamToken(e)}))},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary-idempotent",(function(n){return e.mutationQueue.setLastStreamToken(n,t)}))},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly-idempotent",(function(e){return t.targetCache.getLastRemoteSnapshotVersion(e)}))},t.prototype.applyRemoteEvent=function(e){var n=this,r=e.snapshotVersion,i=this.targetDataByTarget;return this.persistence.runTransaction("Apply remote event","readwrite-primary-idempotent",(function(o){var s=n.remoteDocuments.newChangeBuffer({trackRemovals:!0});i=n.targetDataByTarget;var a=[];I(e.targetChanges,(function(e,s){var c=i.get(e);if(c){a.push(n.targetCache.removeMatchingKeys(o,s.removedDocuments,e).next((function(){return n.targetCache.addMatchingKeys(o,s.addedDocuments,e)})));var u=s.resumeToken;if(u.length>0){var l=c.withResumeToken(u,r).withSequenceNumber(o.currentSequenceNumber);i=i.insert(e,l),t.shouldPersistTargetData(c,l,s)&&a.push(n.targetCache.updateTargetData(o,l))}}}));var c=Nt(),u=Vt();if(e.documentUpdates.forEach((function(t,e){u=u.add(t)})),a.push(s.getEntries(o,u).next((function(t){e.documentUpdates.forEach((function(i,u){var l=t.get(i);u instanceof ze&&u.version.isEqual(Tt.MIN)?(s.removeEntry(i,r),c=c.insert(i,u)):null==l||u.version.compareTo(l.version)>0||0===u.version.compareTo(l.version)&&l.hasPendingWrites?(b(!Tt.MIN.isEqual(r),"Cannot add a document when the remote version is zero"),s.addEntry(u,r),c=c.insert(i,u)):m("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",u.version),e.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,i))}))}))),!r.isEqual(Tt.MIN)){var l=n.targetCache.getLastRemoteSnapshotVersion(o).next((function(t){return b(r.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+r+" < "+t),n.targetCache.setTargetsMetadata(o,o.currentSequenceNumber,r)}));a.push(l)}return zt.waitFor(a).next((function(){return s.apply(o)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(o,c)}))})).then((function(t){return n.targetDataByTarget=i,t}))},t.shouldPersistTargetData=function(t,e,n){return b(e.resumeToken.length>0,"Attempted to persist target data with no resume token"),0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0},t.prototype.notifyLocalViewChanges=function(t){for(var e=this,n=0,r=t;n<r.length;n++){var i=r[n],o=i.targetId;if(this.localViewReferences.addReferences(i.addedKeys,o),this.localViewReferences.removeReferences(i.removedKeys,o),!i.fromCache){var s=this.targetDataByTarget.get(o);b(null!==s,"Can't set limbo-free snapshot version for unknown target: "+o);var a=s.withLastLimboFreeSnapshotVersion(s.snapshotVersion);this.targetDataByTarget=this.targetDataByTarget.insert(o,a)}}return this.persistence.runTransaction("notifyLocalViewChanges","readwrite-idempotent",(function(n){return zt.forEach(t,(function(t){return zt.forEach(t.removedKeys,(function(t){return e.persistence.referenceDelegate.removeReference(n,t)}))}))}))},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly-idempotent",(function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)}))},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly-idempotent",(function(n){return e.localDocuments.getDocument(n,t)}))},t.prototype.allocateTarget=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite-idempotent",(function(n){var r;return e.targetCache.getTargetData(n,t).next((function(i){return i?zt.resolve(r=i):e.targetCache.allocateTargetId(n).next((function(i){return r=new kn(t,i,Tn.Listen,n.currentSequenceNumber),e.targetCache.addTargetData(n,r).next((function(){return r}))}))}))})).then((function(n){return null===e.targetDataByTarget.get(n.targetId)&&(e.targetDataByTarget=e.targetDataByTarget.insert(n.targetId,n),e.targetIdByTarget.set(t,n.targetId)),n}))},t.prototype.getTargetData=function(t,e){var n=this.targetIdByTarget.get(e);return void 0!==n?zt.resolve(this.targetDataByTarget.get(n)):this.targetCache.getTargetData(t,e)},t.prototype.releaseTarget=function(t,e){var n=this,r=this.targetDataByTarget.get(t);return b(null!==r,"Tried to release nonexistent target: "+t),this.persistence.runTransaction("Release target",e?"readwrite-idempotent":"readwrite-primary-idempotent",(function(i){var o=n.localViewReferences.removeReferencesForId(t);return e?zt.resolve():zt.forEach(o,(function(t){return n.persistence.referenceDelegate.removeReference(i,t)})).next((function(){n.persistence.referenceDelegate.removeTarget(i,r)}))})).then((function(){n.targetDataByTarget=n.targetDataByTarget.remove(t),n.targetIdByTarget.delete(r.target)}))},t.prototype.executeQuery=function(t,e){var n=this,r=Tt.MIN,i=Vt();return this.persistence.runTransaction("Execute query","readonly-idempotent",(function(o){return n.getTargetData(o,t.toTarget()).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.targetCache.getMatchingKeysForTargetId(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.queryEngine.getDocumentsMatchingQuery(o,t,e?r:Tt.MIN,e?i:Vt())})).next((function(t){return{documents:t,remoteKeys:i}}))}))},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly-idempotent",(function(n){return e.targetCache.getMatchingKeysForTargetId(n,t)}))},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=zt.resolve();return o.forEach((function(r){s=s.next((function(){return n.getEntry(t,r)})).next((function(t){var o=t,s=e.docVersions.get(r);b(null!==s,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(s)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o,e.commitVersion):b(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))}))})),s.next((function(){return r.mutationQueue.removeMutationBatch(t,i)}))},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary-idempotent",(function(n){return t.collect(n,e.targetDataByTarget)}))},t.prototype.getTarget=function(t){var e=this,n=this.targetDataByTarget.get(t);return n?Promise.resolve(n.target):this.persistence.runTransaction("Get target data","readonly-idempotent",(function(n){return e.targetCache.getTargetDataForTarget(n,t).next((function(t){return t?t.target:null}))}))},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly-idempotent",(function(e){return t.remoteDocuments.getNewDocumentChanges(e,t.lastDocumentChangeReadTime)})).then((function(e){var n=e.changedDocs;return t.lastDocumentChangeReadTime=e.readTime,n}))},t.prototype.synchronizeLastDocumentChangeReadTime=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e=this;return o.__generator(this,(function(n){return this.remoteDocuments instanceof $e?(t=this.remoteDocuments,[2,this.persistence.runTransaction("Synchronize last document change read time","readonly-idempotent",(function(e){return t.getLastDocumentChange(e)})).then((function(t){e.lastDocumentChangeReadTime=t.readTime}))]):[2]}))}))},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),vr=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new Ot(gr.compareByKey)}return t.prototype.checkEmpty=function(t){return zt.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");b(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return b(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,zt.resolve()},t.prototype.getLastStreamToken=function(t){return zt.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,zt.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){b(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&b(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Ht(i,e,n,r);this.mutationQueue.push(o);for(var s=0,a=r;s<a.length;s++){var c=a[s];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new gr(c.key,i)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast())}return zt.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return zt.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return b(null!=n,"Failed to find local mutation batch."),zt.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return zt.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return zt.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},t.prototype.getAllMutationBatches=function(t){return zt.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new gr(e,0),i=new gr(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],(function(t){b(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);b(null!==r,"Batches in the index must exist in the main table"),o.push(r)})),zt.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Ot(Y);return e.forEach((function(t){var e=new gr(t,0),i=new gr(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],(function(e){b(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)}))})),zt.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;ht.isDocumentKey(i)||(i=i.child(""));var o=new gr(new ht(i),0),s=new Ot(Y);return this.batchesByDocumentKey.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.targetOrBatchId)),!0)}),o),zt.resolve(this.findMutationBatches(s))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;b(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return zt.forEach(e.mutations,(function(i){var o=new gr(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)})).next((function(){n.batchesByDocumentKey=r}))},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new gr(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return zt.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&b(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),zt.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return b(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return b(n.batchId===t,"If found batch must match"),n},t}(),br=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new kt(ht.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){b(!n.isEqual(Tt.MIN),"Cannot add a document with a read time of zero");var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.sizer(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:s,readTime:n}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return zt.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Rt();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)})),zt.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){b(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var r=Lt(),i=new ht(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,c=a.maybeDocument,u=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;u.compareTo(n)<=0||c instanceof We&&e.matches(c)&&(r=r.insert(c.key,c))}return zt.resolve(r)},t.prototype.forEachDocumentKey=function(t,e){return zt.forEach(this.docs,(function(t){return e(t)}))},t.prototype.getNewDocumentChanges=function(t,e){throw new Error("getNewDocumentChanges() is not supported with MemoryPersistence")},t.prototype.newChangeBuffer=function(e){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return zt.resolve(this.size)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return o.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i?n.push(e.documentCache.addEntry(t,i,e.readTime)):e.documentCache.removeEntry(r)})),zt.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getEntries(t,e)},e}(Qe),t}(),_r=function(){function t(t){this.persistence=t,this.targets=new Ke((function(t){return t.canonicalId()})),this.lastRemoteSnapshotVersion=Tt.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new mr,this.targetCount=0,this.targetIdGenerator=ue.forTargetCache()}return t.prototype.forEachTarget=function(t,e){return this.targets.forEach((function(t,n){return e(n)})),zt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return zt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return zt.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,zt.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),zt.resolve()},t.prototype.saveTargetData=function(t){this.targets.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return b(!this.targets.has(e.target),"Adding a target that already exists"),this.saveTargetData(e),this.targetCount+=1,zt.resolve()},t.prototype.updateTargetData=function(t,e){return b(this.targets.has(e.target),"Updating a non-existent target"),this.saveTargetData(e),zt.resolve()},t.prototype.removeTargetData=function(t,e){return b(this.targetCount>0,"Removing a target from an empty cache"),b(this.targets.has(e.target),"Removing a non-existent target from the cache"),this.targets.delete(e.target),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,zt.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.targets.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.targets.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),zt.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return zt.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.targets.get(e)||null;return zt.resolve(n)},t.prototype.getTargetDataForTarget=function(t,e){return v("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.addReference(t,e))})),zt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.removeReference(t,e))})),zt.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),zt.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return zt.resolve(n)},t.prototype.containsKey=function(t,e){return zt.resolve(this.references.containsKey(e))},t}(),wr=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new st(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.targetCache=new _r(this),this.indexManager=new tn,this.remoteDocumentCache=new br(this.indexManager,(function(t){return n.referenceDelegate.documentSize(t)}))}return t.createLruPersistence=function(e,n,r){return new t(e,(function(t){return new Er(t,new In(n),r)}))},t.createEagerPersistence=function(e){return new t(e,(function(t){return new Sr(t)}))},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return[2,[this.clientId]]}))}))},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new vr(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.targetCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;m("MemoryPersistence","Starting transaction:",t);var i=new Cr(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next((function(t){return r.referenceDelegate.onTransactionCommitted(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.mutationQueuesContainKey=function(t,e){return zt.or((n=this.mutationQueues,r=[],x(n,(function(t,e){return r.push(e)})),r).map((function(n){return function(){return n.containsKey(t,e)}})));var n,r},t}(),Cr=function(t){function e(e){var n=t.call(this)||this;return n.currentSequenceNumber=e,n}return o.__extends(e,t),e}(Rn),Sr=function(){function t(t){this.persistence=t,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(t.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw v("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),zt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),zt.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),zt.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.orphanedDocuments.add(t)}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zt.forEach(this.orphanedDocuments,(function(r){return e.isReferenced(t,r).next((function(t){t||n.removeEntry(r)}))})).next((function(){return e._orphanedDocuments=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next((function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)}))},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return zt.or([function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return zt.resolve(n.inMemoryPins.containsKey(e))}])},t}(),Er=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new Ke((function(t){return _t(t.path)})),this.garbageCollector=new Nn(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return zt.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return zt.forEach(this.orphanedSequenceNumbers,(function(r,i){return n.isPinned(t,r,i).next((function(t){return t?zt.resolve():e(i)}))}))},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getTargetCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(t,(function(i){return n.isPinned(t,i,e).next((function(t){t||(r++,o.removeEntry(i))}))})).next((function(){return o.apply(t)})).next((function(){return r}))},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t,t.version);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return zt.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return zt.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getTargetCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return zt.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),Tr=1e3,kr=1.5,Ir=6e4,xr=function(){function t(t,e,n,r,i){void 0===n&&(n=Tr),void 0===r&&(r=kr),void 0===i&&(i=Ir),this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&m("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,(function(){return e.lastAttemptTime=Date.now(),t()})),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),Ar=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),Or=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=Ar.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new xr(t,e)}return t.prototype.isStarted=function(){return this.state===Ar.Starting||this.state===Ar.Open||this.state===Ar.Backoff},t.prototype.isOpen=function(){return this.state===Ar.Open},t.prototype.start=function(){this.state!==Ar.Error?(b(this.state===Ar.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(Ar.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.inhibitBackoff=function(){b(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Ar.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,(function(){return t.handleIdleCloseTimer()})))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.isOpen()?[2,this.close(Ar.Initial)]:[2]}))}))},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return b(this.isStarted(),"Only started streams should be closed."),b(t===Ar.Error||$n(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==Ar.Error?this.backoff.reset():e&&e.code===C.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===C.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;b(this.state===Ar.Initial,"Must be in initial state to auth"),this.state=Ar.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then((function(e){t.closeCount===n&&t.startStream(e)}),(function(n){e((function(){var e=new S(C.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)}))}))},t.prototype.startStream=function(t){var e=this;b(this.state===Ar.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen((function(){n((function(){return b(e.state===Ar.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=Ar.Open,e.listener.onOpen()}))})),this.stream.onClose((function(t){n((function(){return e.handleStreamClose(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.performBackoff=function(){var t=this;b(this.state===Ar.Error,"Should only perform backoff when in Error state"),this.state=Ar.Backoff,this.backoff.backoffAndRun((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return b(this.state===Ar.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Ar.Initial,this.start(),b(this.isStarted(),"PersistentStream should have started"),[2]}))}))}))},t.prototype.handleStreamClose=function(t){return b(this.isStarted(),"Can't handle server close on non-started stream"),m("PersistentStream","close with error: "+t),this.stream=null,this.close(Ar.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget((function(){return e.closeCount===t?n():(m("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Dr=function(t){function e(e,n,r,i,o){var s=t.call(this,e,ft.ListenStreamConnectionBackoff,ft.ListenStreamIdle,n,r,o)||this;return s.serializer=i,s}return o.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(Or),Pr=function(t){function e(e,n,r,i,o){var s=t.call(this,e,ft.WriteStreamConnectionBackoff,ft.WriteStreamIdle,n,r,o)||this;return s.serializer=i,s.handshakeComplete_=!1,s.lastStreamToken=w(),s}return o.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(b(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return b(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){b(this.isOpen(),"Writing handshake requires an opened stream"),b(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;b(this.isOpen(),"Writing mutations requires an opened stream"),b(this.handshakeComplete_,"Handshake must be complete before writing mutations"),b(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map((function(t){return e.serializer.toMutation(t)}))};this.sendRequest(n)},e}(Or),Nr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new Pr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new Dr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map((function(t){return e.serializer.toMutation(t)}))};return this.invokeRPC("Commit",n).then((function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)}))},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map((function(t){return e.serializer.toName(t)}))};return this.invokeStreamingRPC("BatchGetDocuments",n).then((function(n){var r=Nt();n.forEach((function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)}));var i=[];return t.forEach((function(t){var e=r.get(t);b(!!e,"Missing entity in write response for "+t),i.push(e)})),i}))},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeRPC(t,e,r)})).catch((function(t){throw t.code===C.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then((function(r){return n.connection.invokeStreamingRPC(t,e,r)})).catch((function(t){throw t.code===C.UNAUTHENTICATED&&n.credentials.invalidateToken(),t}))},t}(),Rr=function(){function t(t){this.datastore=t,this.readVersions=Ut(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new S(C.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(t)];case 1:return(e=r.sent()).forEach((function(t){t instanceof ze||t instanceof We?n.recordVersion(t):v("Document in a transaction was a "+t.constructor.name)})),[2,e]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t))),this.writtenDocs.add(t)},t.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t)},t.prototype.delete=function(t){this.write([new Ee(t,this.precondition(t))]),this.writtenDocs.add(t)},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(t=this.readVersions,this.mutations.forEach((function(e){t=t.remove(e.key)})),!t.isEmpty())throw new S(C.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return e.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t instanceof We)e=t.version;else{if(!(t instanceof ze))throw v("Document in a transaction was a "+t.constructor.name);e=Tt.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new S(C.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return!this.writtenDocs.has(t)&&e?be.updateTime(e):be.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(!this.writtenDocs.has(t)&&e){if(e.isEqual(Tt.forDeletedDoc()))throw new S(C.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return be.updateTime(e)}return be.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},t.prototype.ensureCommitNotCalled=function(){b(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},t}(),Mr=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),Lr=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),Fr=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=Mr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Mr.Unknown),b(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ft.OnlineStateTimeout,1e4,(function(){return t.onlineStateTimer=null,b(t.state===Mr.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(Mr.Offline),Promise.resolve()})))},t.prototype.handleWatchStreamFailure=function(t){this.state===Mr.Online?(this.setAndBroadcast(Mr.Unknown),b(0===this.watchStreamFailures,"watchStreamFailures must be 0"),b(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(Mr.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===Mr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(g(e),this.shouldWarnClientIsOffline=!1):m("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),Ur=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function jr(t){switch(t){case C.OK:return v("Treated status OK as error");case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function Vr(t){if(void 0===t)return g("GRPC error has no .code"),C.UNKNOWN;switch(t){case Ur.OK:return C.OK;case Ur.CANCELLED:return C.CANCELLED;case Ur.UNKNOWN:return C.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return C.INTERNAL;case Ur.UNAVAILABLE:return C.UNAVAILABLE;case Ur.UNAUTHENTICATED:return C.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case Ur.NOT_FOUND:return C.NOT_FOUND;case Ur.ALREADY_EXISTS:return C.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return C.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case Ur.ABORTED:return C.ABORTED;case Ur.OUT_OF_RANGE:return C.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return C.UNIMPLEMENTED;case Ur.DATA_LOSS:return C.DATA_LOSS;default:return v("Unknown status code: "+t)}}function Br(t){if(void 0===t)return Ur.OK;switch(t){case C.OK:return Ur.OK;case C.CANCELLED:return Ur.CANCELLED;case C.UNKNOWN:return Ur.UNKNOWN;case C.DEADLINE_EXCEEDED:return Ur.DEADLINE_EXCEEDED;case C.RESOURCE_EXHAUSTED:return Ur.RESOURCE_EXHAUSTED;case C.INTERNAL:return Ur.INTERNAL;case C.UNAVAILABLE:return Ur.UNAVAILABLE;case C.UNAUTHENTICATED:return Ur.UNAUTHENTICATED;case C.INVALID_ARGUMENT:return Ur.INVALID_ARGUMENT;case C.NOT_FOUND:return Ur.NOT_FOUND;case C.ALREADY_EXISTS:return Ur.ALREADY_EXISTS;case C.PERMISSION_DENIED:return Ur.PERMISSION_DENIED;case C.FAILED_PRECONDITION:return Ur.FAILED_PRECONDITION;case C.ABORTED:return Ur.ABORTED;case C.OUT_OF_RANGE:return Ur.OUT_OF_RANGE;case C.UNIMPLEMENTED:return Ur.UNIMPLEMENTED;case C.DATA_LOSS:return Ur.DATA_LOSS;default:return v("Unknown status code: "+t)}}var qr=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ht.comparator(e.key,n.key)}:function(t,e){return ht.comparator(t.key,e.key)},this.keyedMap=Lt(),this.sortedSet=new kt(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Hr=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),Wr=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),zr=function(){function t(){this.changeMap=new kt(ht.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Hr.Added&&n.type===Hr.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Hr.Metadata&&n.type!==Hr.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Hr.Modified&&n.type===Hr.Modified?this.changeMap=this.changeMap.insert(e,{type:Hr.Modified,doc:t.doc}):t.type===Hr.Modified&&n.type===Hr.Added?this.changeMap=this.changeMap.insert(e,{type:Hr.Added,doc:t.doc}):t.type===Hr.Removed&&n.type===Hr.Added?this.changeMap=this.changeMap.remove(e):t.type===Hr.Removed&&n.type===Hr.Modified?this.changeMap=this.changeMap.insert(e,{type:Hr.Removed,doc:n.doc}):t.type===Hr.Added&&n.type===Hr.Removed?this.changeMap=this.changeMap.insert(e,{type:Hr.Modified,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Gr=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:Hr.Added,doc:t})})),new t(e,n,qr.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Kr=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Qr.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(Tt.MIN,i,qt(),Nt(),Vt())},t}(),Qr=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(w(),n,Vt(),Vt(),Vt())},t}(),$r=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),Yr=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),Xr=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Zr=function(){return function(t,e,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Jr=function(){function t(){this.pendingResponses=0,this.documentChanges=ni(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Vt(),e=Vt(),n=Vt();return this.documentChanges.forEach((function(r,i){switch(i){case Hr.Added:t=t.add(r);break;case Hr.Modified:e=e.add(r);break;case Hr.Removed:n=n.add(r);break;default:v("Encountered invalid change type: "+i)}})),new Qr(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=ni()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),ti=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Nt(),this.pendingDocumentTargetMapping=ei(),this.pendingTargetResets=new Ot(Y)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof We?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof ze&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.removeDocumentFromTarget(r=o[i],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.ensureTargetState(n);switch(t.state){case Xr.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Xr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Xr.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),b(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Xr.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Xr.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}}))},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):I(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.targetDataForActiveTarget(e);if(r){var i=r.target;if(i.isDocumentQuery())if(0===n){var o=new ht(i.path);this.removeDocumentFromTarget(e,o,new ze(o,Tt.forDeletedDoc()))}else b(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};I(this.targetStates,(function(r,i){var o=e.targetDataForActiveTarget(r);if(o){if(i.current&&o.target.isDocumentQuery()){var s=new ht(o.target.path);null!==e.pendingDocumentUpdates.get(s)||e.targetContainsDocument(r,s)||e.removeDocumentFromTarget(r,s,new ze(s,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}}));var r=Vt();this.pendingDocumentTargetMapping.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.targetDataForActiveTarget(t);return!n||n.purpose===Tn.LimboResolution||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Kr(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Nt(),this.pendingDocumentTargetMapping=ei(),this.pendingTargetResets=new Ot(Y),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Hr.Modified:Hr.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Hr.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Jr),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new Ot(Y),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){var e=null!==this.targetDataForActiveTarget(t);return e||m("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.targetDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getTargetDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;b(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Jr,this.metadataProvider.getRemoteKeysForTarget(t).forEach((function(n){e.removeDocumentFromTarget(t,n,null)}))},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function ei(){return new kt(ht.comparator)}function ni(){return new kt(ht.comparator)}var ri="RemoteStore",ii=function(){function t(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback((function(t){n.enqueueAndForget((function(){return o.__awaiter(s,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.canUseNetwork()?(m(ri,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.onlineStateTracker=new Fr(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Mr.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.disableNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Mr.Offline),[2]}}))}))},t.prototype.disableNetworkInternal=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(m(ri,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}}))}))},t.prototype.shutdown=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return m(ri,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(Mr.Unknown),[2]}}))}))},t.prototype.listen=function(t){T(this.listenTargets,t.targetId)||(this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t))},t.prototype.unlisten=function(t){b(T(this.listenTargets,t),"unlisten called on target no currently watched: "+t),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),A(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Mr.Unknown))},t.prototype.getTargetDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){b(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new ti(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return o.__awaiter(this,void 0,void 0,(function(){var t=this;return o.__generator(this,(function(e){return I(this.listenTargets,(function(e,n){t.sendWatchRequest(n)})),[2]}))}))},t.prototype.onWatchStreamClose=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return void 0===t&&b(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(Mr.Unknown),[2]}))}))},t.prototype.onWatchStreamChange=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.onlineStateTracker.set(Mr.Online),t instanceof Zr&&t.state===Xr.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof $r?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Yr?this.watchChangeAggregator.handleExistenceFilter(t):(b(t instanceof Zr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(Tt.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.raiseWatchSnapshot=function(t){var e=this;b(!t.isEqual(Tt.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return I(n.targetChanges,(function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.withResumeToken(r.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.withResumeToken(w(),n.snapshotVersion),e.sendUnwatchRequest(t);var r=new kn(n.target,t,Tn.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}})),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;b(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach((function(t){r=r.then((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return T(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]}))}))}))})),r},t.prototype.fillWritePipeline=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}}))}))},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){b(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){b(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.writeStream.writeHandshake(),[2]}))}))},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then((function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)})).catch(Vn)},t.prototype.onMutationResult=function(t,e){var n=this;b(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Wt.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then((function(){return n.fillWritePipeline()}))},t.prototype.onWriteStreamClose=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(n){return void 0===t&&b(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then((function(){e.shouldStartWriteStream()&&e.startWriteStream()}))]:[2]}))}))},t.prototype.handleHandshakeError=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return jr(t.code)?(m(ri,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(Vn)]):[2]}))}))},t.prototype.handleWriteError=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){return jr(i=t.code)&&i!==C.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then((function(){return n.fillWritePipeline()}))]):[2];var i}))}))},t.prototype.createTransaction=function(){return new Rr(this.datastore)},t.prototype.restartNetwork=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Mr.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}}))}))},t.prototype.handleCredentialChange=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.canUseNetwork()?(m(ri,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(Mr.Unknown),e.label=4;case 4:return[2]}}))}))},t}(),oi=function(){function t(t,e){if(D("GeoPoint",arguments,2),R("GeoPoint","number",1,t),R("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new S(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new S(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return Y(this._lat,t._lat)||Y(this._long,t._long)},t}(),si=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Fe(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ai=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=li(t),n=function(t){e.find((function(e){return e.isEqual(t)}))||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new qe(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&X(e.elements,this.elements)},t}(),ci=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=li(t),n=function(t){e=e.filter((function(e){return!e.isEqual(t)}))},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new qe(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&X(e.elements,this.elements)},t}(),ui=function(){function t(t){this.operand=t}return t.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);return n instanceof Ne&&this.operand instanceof Ne?new Ne(n.internalValue+this.operand.internalValue):new Re(n.internalValue+this.operand.internalValue)},t.prototype.applyToRemoteDocument=function(t,e){return b(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.computeBaseValue=function(t){return t instanceof De?t:new Ne(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function li(t){return t instanceof qe?t.internalValue.slice():[]}var hi,di,fi=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),pi=((hi={})[cr.ASCENDING.name]="ASCENDING",hi[cr.DESCENDING.name]="DESCENDING",hi),mi=((di={})[er.LESS_THAN.name]="LESS_THAN",di[er.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",di[er.GREATER_THAN.name]="GREATER_THAN",di[er.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",di[er.EQUAL.name]="EQUAL",di[er.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",di[er.IN.name]="IN",di[er.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",di),gi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(t,e){b(!$n(t),e+" is missing")}function vi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):v("can't parse "+t)}var bi=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?C.UNKNOWN:Vr(t.code);return new S(e,t.message||"")},t.prototype.toInt32Value=function(t){return this.options.useProto3Json||$n(t)?t:{value:t}},t.prototype.fromInt32Value=function(t){var e;return $n(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return this.options.useProto3Json?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);b(!!t,"Cannot deserialize null or undefined timestamp.");var e=vi(t.seconds||"0");return new Et(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=gi.exec(t);if(b(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new Et(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(b(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),et.fromBase64String(t)):(b(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),et.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return b(!!t,"Trying to deserialize version that isn't set"),Tt.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=ct.fromString(t);return b(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return b(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),b(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ht(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?ct.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new ct(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new ct(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return b(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof Ae)return{nullValue:"NULL_VALUE"};if(t instanceof Oe)return{booleanValue:t.value()};if(t instanceof Ne)return{integerValue:""+t.value()};if(t instanceof Re){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Me?{stringValue:t.value()}:t instanceof Be?{mapValue:this.toMapValue(t)}:t instanceof qe?{arrayValue:this.toArrayValue(t)}:t instanceof Le?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Ve?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Ue?{bytesValue:this.toBytes(t.value())}:t instanceof je?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return Ae.INSTANCE;if("booleanValue"in t)return Oe.of(t.booleanValue);if("integerValue"in t)return new Ne(vi(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Re.NAN;if("Infinity"===t.doubleValue)return Re.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Re.NEGATIVE_INFINITY}return new Re(t.doubleValue)}if("stringValue"in t)return new Me(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t)return yi(t.arrayValue,"arrayValue"),new qe((t.arrayValue.values||[]).map((function(t){return e.fromValue(t)})));if("timestampValue"in t)return yi(t.timestampValue,"timestampValue"),new Le(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t)return yi(t.geoPointValue,"geoPointValue"),new Ve(new oi(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){yi(t.bytesValue,"bytesValue");var n=this.fromBlob(t.bytesValue);return new Ue(n)}if("referenceValue"in t){yi(t.referenceValue,"referenceValue");var r=this.fromResourceName(t.referenceValue),i=new ot(r.get(1),r.get(3)),o=new ht(this.extractLocalPathFromResourceName(r));return new je(i,o)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return b(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){var n=this,r=this.fromName(t.name),i=this.fromVersion(t.updateTime);return new We(r,i,{hasCommittedMutations:!!e},void 0,t,(function(t){return n.fromValue(t)}))},t.prototype.toFields=function(t){var e=this,n={};return t.forEach((function(t,r){n[t]=e.toValue(r)})),n},t.prototype.fromFields=function(t){var e=this,n=Be.EMPTY;return x(t,(function(t,r){n=n.set(new lt([t]),e.fromValue(r))})),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach((function(t){n.push(e.toValue(t))})),{values:n}},t.prototype.fromFound=function(t){var e=this;b(!!t.found,"Tried to deserialize a found document from a missing document."),yi(t.found.name,"doc.found.name"),yi(t.found.updateTime,"doc.found.updateTime");var n=this.fromName(t.found.name),r=this.fromVersion(t.found.updateTime);return new We(n,r,{},void 0,t.found,(function(t){return e.fromValue(t)}))},t.prototype.fromMissing=function(t){b(!!t.missing,"Tried to deserialize a missing document from a found document."),b(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ze(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Xr.Added:return"ADD";case Xr.Current:return"CURRENT";case Xr.NoChange:return"NO_CHANGE";case Xr.Removed:return"REMOVE";case Xr.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Yr)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof $r){var e;if(t.newDoc instanceof We)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof ze)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Zr){var n=void 0;return t.cause&&(n={code:Br(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=this;if("targetChange"in t){yi(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),s=t.targetChange.cause,a=s&&this.fromRpcStatus(s);e=new Zr(r,i,o,a||null)}else if("documentChange"in t){yi(t.documentChange,"documentChange");var c=t.documentChange;yi(c.document,"documentChange.name"),yi(c.document.name,"documentChange.document.name"),yi(c.document.updateTime,"documentChange.document.updateTime");var u=this.fromName(c.document.name),l=this.fromVersion(c.document.updateTime),h=new We(u,l,{},void 0,c.document,(function(t){return n.fromValue(t)}));e=new $r(c.targetIds||[],c.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){yi(t.documentDelete,"documentDelete");var d=t.documentDelete;yi(d.document,"documentDelete.document"),u=this.fromName(d.document),l=d.readTime?this.fromVersion(d.readTime):Tt.forDeletedDoc(),h=new ze(u,l),e=new $r([],d.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){yi(t.documentRemove,"documentRemove");var f=t.documentRemove;yi(f.document,"documentRemove"),u=this.fromName(f.document),e=new $r([],f.removedTargetIds||[],u,null)}else{if(!("filter"in t))return v("Unknown change type "+JSON.stringify(t));yi(t.filter,"filter");var p=t.filter;yi(p.targetId,"filter.targetId");var m=new fi(p.count||0);e=new Yr(p.targetId,m)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Xr.NoChange:"ADD"===t?Xr.Added:"REMOVE"===t?Xr.Removed:"CURRENT"===t?Xr.Current:"RESET"===t?Xr.Reset:v("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return Tt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Tt.MIN:e.readTime?this.fromVersion(e.readTime):Tt.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof we)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Ee)e={delete:this.toName(t.key)};else if(t instanceof Ce)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof Se))return v("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map((function(t){return n.toFieldTransform(t)}))}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):be.NONE;if(t.update){yi(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new Ce(r,i,o,n)}return new we(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new Ee(r,n);if(t.transform){r=this.fromName(t.transform.document);var s=t.transform.fieldTransforms.map((function(t){return e.fromFieldTransform(t)}));return b(!0===n.exists,'Transforms only support precondition "exists == true"'),new Se(r,s)}return v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return b(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?be.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?be.exists(t.exists):be.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e);r.isEqual(Tt.MIN)&&(r=this.fromVersion(e));var i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map((function(t){return n.fromValue(t)}))),new ye(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(b(void 0!==e,"Received a write result without a commit time"),t.map((function(t){return n.fromWriteResult(t,e)}))):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof si)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ai)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof ci)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map((function(t){return e.toValue(t)}))}};if(n instanceof ui)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw v("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)b("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=si.instance;else if("appendMissingElements"in t)n=new ai((t.appendMissingElements.values||[]).map((function(t){return e.fromValue(t)})));else if("removeAllFromArray"in t)n=new ci((t.removeAllFromArray.values||[]).map((function(t){return e.fromValue(t)})));else if("increment"in t){var r=this.fromValue(t.increment);b(r instanceof De,"NUMERIC_ADD transform requires a NumberValue"),n=new ui(r)}else v("Unknown transform proto: "+JSON.stringify(t));var i=lt.fromServerFormat(t.fieldPath);return new ge(i,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return b(1===e,"DocumentsTarget contained other than 1 document: "+e),Jn.atPath(this.fromQueryPath(t.documents[0])).toTarget()},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(b(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(b(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return null!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){b(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var c=null;n.limit&&(c=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var l=null;return n.endAt&&(l=this.fromCursor(n.endAt)),new Jn(e,i,a,s,c,Zn.First,u,l).toTarget()},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Tn.Listen:return null;case Tn.ExistenceFilterMismatch:return"existence-filter-mismatch";case Tn.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.target;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map((function(t){return t instanceof nr?e.toUnaryOrFieldFilter(t):v("Unrecognized filter: "+JSON.stringify(t))}));return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e.fromFilter(t)})).reduce((function(t,e){return t.concat(e)})):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map((function(t){return e.toPropertyOrder(t)}))},t.prototype.fromOrder=function(t){var e=this;return t.map((function(t){return e.fromPropertyOrder(t)}))},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map((function(t){return e.toValue(t)}))}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map((function(t){return e.fromValue(t)}));return new ur(r,n)},t.prototype.toDirection=function(t){return pi[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return cr.ASCENDING;case"DESCENDING":return cr.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return mi[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return er.EQUAL;case"GREATER_THAN":return er.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return er.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return er.LESS_THAN;case"LESS_THAN_OR_EQUAL":return er.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return er.ARRAY_CONTAINS;case"IN":return er.IN;case"ARRAY_CONTAINS_ANY":return er.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return v("Unspecified operator");default:return v("Unknown operator")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return lt.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new lr(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.fromFieldFilter=function(t){return nr.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryOrFieldFilter=function(t){if(t.op===er.EQUAL){if(t.value.isEqual(Re.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}};if(t.value.isEqual(Ae.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return nr.create(e,er.EQUAL,Re.NAN);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return nr.create(n,er.EQUAL,Ae.INSTANCE);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map((function(t){return lt.fromServerFormat(t)}));return me.fromArray(e)},t}(),_i=function(){return function(){this.viewSnap=null,this.targetId=0,this.listeners=[]}}(),wi=function(){function t(t){this.syncEngine=t,this.queries=new Ke((function(t){return t.canonicalId()})),this.onlineState=Mr.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new _i,this.queries.set(e,r)),r.listeners.push(t),b(!t.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap&&t.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(e).then((function(t){return r.targetId=t,t})):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return o.__generator(this,(function(o){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]}))}))},t.prototype.onWatchChange=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.queries.get(i.query);if(o){for(var s=0,a=o.listeners;s<a.length;s++)a[s].onViewSnapshot(i)&&(e=!0);o.viewSnap=i}}e&&this.raiseSnapshotsInSyncEvent()},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t;var e=!1;this.queries.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].applyOnlineStateChange(t)&&(e=!0)})),e&&this.raiseSnapshotsInSyncEvent()},t.prototype.addSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.add(t),t.next()},t.prototype.removeSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.delete(t)},t.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach((function(t){t.next()}))},t}(),Ci=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=Mr.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(b(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Hr.Metadata&&e.push(i)}t=new Gr(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(t)&&(this.queryObserver.next(t),o=!0):this.shouldRaiseInitialEvent(t,this.onlineState)&&(this.raiseInitialEvent(t),o=!0),this.snap=t,o},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t;var e=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&(this.raiseInitialEvent(this.snap),e=!0),e},t.prototype.shouldRaiseInitialEvent=function(t,e){return b(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==Mr.Offline?(b(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===Mr.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){b(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Gr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),Si=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.addedKeys=n,this.removedKeys=r}return t.fromSnapshot=function(e,n){for(var r=Vt(),i=Vt(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case Hr.Added:r=r.add(a.doc.key);break;case Hr.Removed:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Ei=function(){return function(t){this.key=t}}(),Ti=function(){return function(t){this.key=t}}(),ki=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Vt(),this.mutatedKeys=Vt(),this.documentSet=new qr(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new zr,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.hasLimitToFirst()&&i.size===this.query.limit?i.last():null,u=this.query.hasLimitToLast()&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=e instanceof We?e:null;h&&(b(t.isEqual(h.key),"Mismatching keys found in document changes: "+t+" != "+h.key),h=n.query.matches(h)?h:null);var d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?d!==f&&(r.track({type:Hr.Metadata,doc:h}),p=!0):n.shouldWaitForSyncedDocument(l,h)||(r.track({type:Hr.Modified,doc:h}),p=!0,(c&&n.query.docComparator(h,c)>0||u&&n.query.docComparator(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:Hr.Added,doc:h}),p=!0):l&&!h&&(r.track({type:Hr.Removed,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.hasLimitToFirst()||this.query.hasLimitToLast())for(;s.size>this.query.limit;){var l=this.query.hasLimitToFirst()?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:Hr.Removed,doc:l})}return b(!a||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:s,changeSet:r,needsRefill:a,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;b(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case Hr.Added:return 1;case Hr.Modified:case Hr.Metadata:return 2;case Hr.Removed:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)})),this.applyTargetChange(n);var s=e?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current?Wr.Synced:Wr.Local,c=a!==this.syncState;return this.syncState=a,0!==o.length||c?{snapshot:new Gr(this.query,t.documentSet,i,o,t.mutatedKeys,a===Wr.Local,c,!1),limboChanges:s}:{limboChanges:s}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===Mr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new zr,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.add(t)})),t.modifiedDocuments.forEach((function(t){return b(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")})),t.removedDocuments.forEach((function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)})),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Vt(),this.documentSet.forEach((function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))}));var n=[];return e.forEach((function(e){t.limboDocuments.has(e)||n.push(new Ti(e))})),this.limboDocuments.forEach((function(t){e.has(t)||n.push(new Ei(t))})),n},t.prototype.synchronizeWithPersistedState=function(t){this._syncedDocuments=t.remoteKeys,this.limboDocuments=Vt();var e=this.computeDocChanges(t.documents);return this.applyChanges(e,!0)},t.prototype.computeInitialSnapshot=function(){return Gr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Wr.Local)},t}(),Ii=5,xi=function(){function t(t,e,n,r){this.asyncQueue=t,this.remoteStore=e,this.updateFunction=n,this.deferred=r,this.retries=Ii,this.backoff=new xr(this.asyncQueue,ft.RetryTransaction)}return t.prototype.run=function(){this.runWithBackOff()},t.prototype.runWithBackOff=function(){var t=this;this.backoff.backoffAndRun((function(){return o.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return o.__generator(this,(function(r){return t=this.remoteStore.createTransaction(),(e=this.tryRunUpdateFunction(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.handleTransactionError(t)}))}))})).catch((function(t){n.handleTransactionError(t)})),[2]}))}))}))},t.prototype.tryRunUpdateFunction=function(t){try{var e=this.updateFunction(t);return!$n(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(g){return this.deferred.reject(g),null}},t.prototype.handleTransactionError=function(t){var e=this;this.retries>0&&this.isRetryableTransactionError(t)?(this.retries-=1,this.asyncQueue.enqueueAndForget((function(){return e.runWithBackOff(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.isRetryableTransactionError=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!jr(e)}return!1},t}(),Ai=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Oi=function(){return function(t){this.key=t,this.receivedDocument=!1}}(),Di=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Ke((function(t){return t.canonicalId()})),this.queriesByTarget={},this.limboTargetsByKey=new kt(ht.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new mr,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=ue.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Mr.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){b(null!==t,"SyncEngine listener cannot be null"),b(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateTarget(t.toTarget())];case 2:return i=o.sent(),s=this.sharedClientState.addLocalQueryTarget(i.targetId),[4,this.initializeViewAndComputeSnapshot(t,e=i.targetId,"current"===s)];case 3:n=o.sent(),this.isPrimary&&this.remoteStore.listen(i),o.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}}))}))},t.prototype.initializeViewAndComputeSnapshot=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,c,u;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.localStore.executeQuery(t,!0)];case 1:return r=o.sent(),i=new ki(t,r.remoteKeys),s=i.computeDocChanges(r.documents),a=Qr.createSynthesizedTargetChangeForCurrentChange(e,n&&this.onlineState!==Mr.Offline),b(0===(c=i.applyChanges(s,!0===this.isPrimary,a)).limboChanges.length,"View returned limbo docs before target ack from the server."),b(!!c.snapshot,"applyChanges for new view should always return a snapshot"),u=new Ai(t,e,i),this.queryViewsByQuery.set(t,u),this.queriesByTarget[e]||(this.queriesByTarget[e]=[]),this.queriesByTarget[e].push(t),[2,c.snapshot]}}))}))},t.prototype.synchronizeViewAndComputeSnapshot=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this.localStore.executeQuery(t.query,!0)];case 1:return e=r.sent(),n=t.view.synchronizeWithPersistedState(e),this.isPrimary&&this.updateTrackedLimbos(t.targetId,n.limboChanges),[2,n]}}))}))},t.prototype.unlisten=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r=this;return o.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("unlisten()"),b(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),(n=this.queriesByTarget[e.targetId]).length>1?(this.queriesByTarget[e.targetId]=n.filter((function(e){return!e.isEqual(t)})),this.queryViewsByQuery.delete(t),[2]):this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseTarget(e.targetId,!1).then((function(){r.sharedClientState.clearQueryState(e.targetId),r.remoteStore.unlisten(e.targetId),r.removeAndCleanupTarget(e.targetId)})).catch(Vn)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupTarget(e.targetId),[4,this.localStore.releaseTarget(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(t)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,e),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}}))}))},t.prototype.runTransaction=function(t,e,n){new xi(t,this.remoteStore,e,n).run()},t.prototype.applyRemoteEvent=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(t)];case 2:return e=r.sent(),x(t.targetChanges,(function(t,e){var r=n.limboResolutionsByTarget[Number(t)];r&&(b(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),e.addedDocuments.size>0?r.receivedDocument=!0:e.modifiedDocuments.size>0?b(r.receivedDocument,"Received change for limbo target document without add."):e.removedDocuments.size>0&&(b(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))})),[4,this.emitNewSnapsAndNotifyLocalStore(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Vn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===Lr.RemoteStore||!this.isPrimary&&e===Lr.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach((function(e,r){var i=r.view.applyOnlineStateChange(t);b(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)})),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,c=this;return o.__generator(this,(function(o){switch(o.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new kt(ht.comparator)).insert(r,new ze(r,Tt.forDeletedDoc())),s=Vt().add(r),a=new Kr(Tt.MIN,{},new Ot(Y),i,s),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return[4,this.localStore.releaseTarget(t,!1).then((function(){return c.removeAndCleanupTarget(t,e)})).catch(Vn)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.applyBatchState=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(m("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):v("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}}))}))},t.prototype.applySuccessfulWrite=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(e=t.batch.batchId,null),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Vn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.rejectFailedWrite=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"rejected",e),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Vn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.registerPendingWritesCallback=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||m("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.pendingWritesCallbacks.get(e)||[]).push(t),this.pendingWritesCallbacks.set(e,n),[2])}}))}))},t.prototype.triggerPendingWritesCallbacks=function(t){(this.pendingWritesCallbacks.get(t)||[]).forEach((function(t){t.resolve()})),this.pendingWritesCallbacks.delete(t)},t.prototype.rejectOutstandingPendingWritesCallbacks=function(t){this.pendingWritesCallbacks.forEach((function(e){e.forEach((function(e){e.reject(new S(C.CANCELLED,t))}))})),this.pendingWritesCallbacks.clear()},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new kt(Y)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(b(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupTarget=function(t,e){var n=this;void 0===e&&(e=null),this.sharedClientState.removeLocalQueryTarget(t),b(this.queriesByTarget[t]&&0!==this.queriesByTarget[t].length,"There are no queries mapped to target id "+t);for(var r=0,i=this.queriesByTarget[t];r<i.length;r++){var o=i[r];this.queryViewsByQuery.delete(o),e&&this.syncEngineListener.onWatchError(o,e)}if(delete this.queriesByTarget[t],this.isPrimary){var s=this.limboDocumentRefs.referencesForId(t);this.limboDocumentRefs.removeReferencesForId(t),s.forEach((function(t){n.limboDocumentRefs.containsKey(t)||n.removeLimboTarget(t)}))}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof Ei?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof Ti?(m("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):v("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){m("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Jn.atPath(e.path);this.limboResolutionsByTarget[n]=new Oi(e),this.remoteStore.listen(new kn(r.toTarget(),n,Tn.LimboResolution,st.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s=this;return o.__generator(this,(function(o){switch(o.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach((function(o,a){i.push(Promise.resolve().then((function(){var e=a.view.computeDocChanges(t);return e.needsRefill?s.localStore.executeQuery(a.query,!1).then((function(t){return a.view.computeDocChanges(t.documents,e)})):e})).then((function(t){var i=a.view.applyChanges(t,!0===s.isPrimary,e&&e.targetChanges[a.targetId]);if(s.updateTrackedLimbos(a.targetId,i.limboChanges),i.snapshot){s.isPrimary&&s.sharedClientState.updateQueryState(a.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var o=Si.fromSnapshot(a.targetId,i.snapshot);r.push(o)}})))})),[4,Promise.all(i)];case 1:return o.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return o.sent(),[2]}}))}))},t.prototype.assertSubscribed=function(t){b(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(t)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}}))}))},t.prototype.applyPrimaryState=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,a,c=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return o.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=o.sent(),r=0,i=n;r<i.length;r++)this.remoteStore.listen(i[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],a=Promise.resolve(),I(this.queriesByTarget,(function(t,e){c.sharedClientState.isLocalQueryTarget(t)?s.push(t):a=a.then((function(){return c.removeAndCleanupTarget(t),c.localStore.releaseTarget(t,!0)})),c.remoteStore.unlisten(t)})),[4,a]);case 4:return o.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(s)];case 5:return o.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))},t.prototype.resetLimboDocuments=function(){var t=this;I(this.limboResolutionsByTarget,(function(e){t.remoteStore.unlisten(e)})),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new kt(ht.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,s,a,c,u,l,h,d,f,p;return o.__generator(this,(function(o){switch(o.label){case 0:e=[],n=[],r=0,i=t,o.label=1;case 1:return r<i.length?(a=void 0,(c=this.queriesByTarget[s=i[r]])&&0!==c.length?[4,this.localStore.releaseTarget(s,!0)]:[3,8]):[3,14];case 2:return o.sent(),[4,this.localStore.allocateTarget(c[0].toTarget())];case 3:a=o.sent(),u=0,l=c,o.label=4;case 4:return u<l.length?(b(!!(d=this.queryViewsByQuery.get(h=l[u])),"No query view found for "+h),[4,this.synchronizeViewAndComputeSnapshot(d)]):[3,7];case 5:(f=o.sent()).snapshot&&n.push(f.snapshot),o.label=6;case 6:return u++,[3,4];case 7:return[3,12];case 8:return b(!0===this.isPrimary,"A secondary tab should never have an active target without an active query."),[4,this.localStore.getTarget(s)];case 9:return b(!!(p=o.sent()),"Target for id "+s+" not found"),[4,this.localStore.allocateTarget(p)];case 10:return a=o.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(p),s,!1)];case 11:o.sent(),o.label=12;case 12:e.push(a),o.label=13;case 13:return r++,[3,1];case 14:return this.syncEngineListener.onWatchChange(n),[2,e]}}))}))},t.prototype.synthesizeTargetToQuery=function(t){return new Jn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,Zn.First,t.startAt,t.endAt)},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:if(this.isPrimary)return m("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queriesByTarget[t])return[3,7];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,4]}return[3,6];case 1:return[4,this.localStore.getNewDocumentChanges()];case 2:return r=o.sent(),i=Kr.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return o.sent(),[3,7];case 4:return[4,this.localStore.releaseTarget(t,!0)];case 5:return o.sent(),this.removeAndCleanupTarget(t,n),[3,7];case 6:v("Unexpected target state: "+e),o.label=7;case 7:return[2]}}))}))},t.prototype.applyActiveTargetsChange=function(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,c,u,l,h,d=this;return o.__generator(this,(function(f){switch(f.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,f.label=1;case 1:return n<r.length?(b(!this.queriesByTarget[h=r[n]],"Trying to add an already active target"),[4,this.localStore.getTarget(h)]):[3,6];case 2:return b(!!(i=f.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateTarget(i)];case 3:return s=f.sent(),[4,this.initializeViewAndComputeSnapshot(this.synthesizeTargetToQuery(i),s.targetId,!1)];case 4:f.sent(),this.remoteStore.listen(s),f.label=5;case 5:return n++,[3,1];case 6:a=function(t){return o.__generator(this,(function(e){switch(e.label){case 0:return c.queriesByTarget[t]?[4,c.localStore.releaseTarget(t,!1).then((function(){d.remoteStore.unlisten(t),d.removeAndCleanupTarget(t)})).catch(Vn)]:[2,"continue"];case 1:return e.sent(),[2]}}))},c=this,u=0,l=e,f.label=7;case 7:return u<l.length?[5,a(h=l[u])]:[3,10];case 8:f.sent(),f.label=9;case 9:return u++,[3,7];case 10:return[2]}}))}))},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];if(e&&e.receivedDocument)return Vt().add(e.key);var n=Vt(),r=this.queriesByTarget[t];if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.queryViewsByQuery.get(s);b(!!a,"No query view found for "+s),n=n.unionWith(a.view.syncedDocuments)}return n},t}(),Pi=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),Ni="firestore_clients";function Ri(t,e){return b(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),Ni+"_"+t+"_"+e}var Mi="firestore_mutations";function Li(t,e,n){var r=Mi+"_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}var Fi="firestore_targets";function Ui(t,e){return Fi+"_"+t+"_"+e}var ji="firestore_online_state",Vi="firestore_sequence_number",Bi="SharedClientState",qi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,b(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new S(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(g(Bi,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Hi=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,b(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new S(r.error.code,r.error.message)),i?new t(e,r.state,o):(g(Bi,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Wi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=qt(),s=0;i&&s<r.activeTargetIds.length;++s)i=Yn(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(g(Bi,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),zi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&n.onlineState in Mr&&"string"==typeof n.clientId?new t(n.clientId,Mr[n.onlineState]):(g(Bi,"Failed to parse online state: "+e),null)},t}(),Gi=function(){function t(){this.activeTargetIds=qt()}return t.prototype.addQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ki=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new S(C.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=Ri(this.persistenceKey,this.localClientId),this.sequenceNumberKey=function(t){return Vi+"_"+t}(this.persistenceKey),this.activeClients[this.localClientId]=new Gi,this.clientStateKeyRe=new RegExp("^"+Ni+"_"+s+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Mi+"_"+s+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Fi+"_"+s+"_(\\d+)$"),this.onlineStateKey=function(t){return ji+"_"+t}(this.persistenceKey),this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,s,a,c,u,l,h=this;return o.__generator(this,(function(o){switch(o.label){case 0:return b(!this.started,"WebStorageSharedClientState already started"),b(null!==this.syncEngine,"syncEngine property must be set before calling start()"),b(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=o.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(Ri(this.persistenceKey,r)))&&(s=Wi.fromWebStorageEntry(r,i))&&(this.activeClients[s.clientId]=s);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(c=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(c),u=0,l=this.earlyEvents;u<l.length;u++)this.handleWebStorageEvent(l[u]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=qt();return x(this.activeClients,(function(e,n){t=t.unionWith(n.activeTargetIds)})),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Ui(this.persistenceKey,t));if(n){var r=Hi.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Ui(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.removeMutationState(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return m(Bi,"READ",t,e),e},t.prototype.setItem=function(t,e){m(Bi,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){m(Bi,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(m(Bi,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r,i,s,a;return o.__generator(this,(function(o){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(s=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(s)]}else t.key===this.sequenceNumberKey&&(b(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(t){var e=st.INVALID;if(null!=t)try{var n=JSON.parse(t);b("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){g(Bi,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==st.INVALID&&this.sequenceNumberHandler(a));return[2]}))}))}))}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new qi(this.currentUser,t,e,n),i=Li(this.persistenceKey,this.currentUser,t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=Li(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:Mr[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=Ui(this.persistenceKey,t),i=new Hi(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return b(null!==n,"Cannot parse client state key '"+t+"'"),Wi.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);b(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return qi.fromWebStorageEntry(new Pi(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);b(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Hi.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return zi.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return t.user.uid!==this.currentUser.uid?(m(Bi,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]}))}))},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),s=[],a=[];return i.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return r.has(t)||s.push(t),[2]}))}))})),r.forEach((function(t){return o.__awaiter(n,void 0,void 0,(function(){return o.__generator(this,(function(e){return i.has(t)||a.push(t),[2]}))}))})),this.syncEngine.applyActiveTargetsChange(s,a)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Qi=function(){function t(){this.localState=new Gi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Gi,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),$i=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return Dn.withCacheSize(this.cacheSizeBytes)},t}(),Yi=function(){return function(){}}(),Xi=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=$.newId()}return t.prototype.start=function(t){var e=this;this.verifyNotTerminated();var n=new dt,r=new dt,i=!1;return this.credentials.setChangeListener((function(o){i?e.asyncQueue.enqueueAndForget((function(){return e.handleCredentialChange(o)})):(i=!0,e.initializePersistence(t,r,o).then((function(t){return e.initializeRest(o,t)})).then(n.resolve,n.reject))})),this.asyncQueue.enqueueAndForget((function(){return n.promise})),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.syncEngine.enableNetwork()}))},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof $i?this.startIndexedDbPersistence(n,t).then((function(t){return e.resolve(),t})).catch((function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.startMemoryPersistence()})):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof S?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new S(C.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=jn.buildStoragePrefix(this.databaseInfo),i=new bi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then((function(){return o.__awaiter(n,void 0,void 0,(function(){var n,s;return o.__generator(this,(function(o){switch(o.label){case 0:if(e.synchronizeTabs&&!Ki.isAvailable(this.platform))throw new S(C.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.lruParams(),this.sharedClientState=e.synchronizeTabs?new Ki(this.asyncQueue,this.platform,r,this.clientId,t):new Qi,[4,jn.createIndexedDbPersistence({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return s=o.sent(),this.persistence=s,[2,s.referenceDelegate.garbageCollector]}}))}))}))},t.prototype.startMemoryPersistence=function(){return this.persistence=wr.createEagerPersistence(this.clientId),this.sharedClientState=new Qi,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return m("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then((function(r){return o.__awaiter(n,void 0,void 0,(function(){var n,i,s,a,c,u=this;return o.__generator(this,(function(l){switch(l.label){case 0:return n=new fr,this.localStore=new yr(this.persistence,n,t),[4,this.localStore.start()];case 1:return l.sent(),e&&(this.lruScheduler=new Pn(e,this.asyncQueue,this.localStore)),i=this.platform.newConnectivityMonitor(),s=this.platform.newSerializer(this.databaseInfo.databaseId),a=new Nr(this.asyncQueue,r,this.credentials,s),c=function(t){return u.syncEngine.applyOnlineStateChange(t,Lr.SharedClientState)},this.remoteStore=new ii(this.localStore,a,this.asyncQueue,(function(t){return u.syncEngine.applyOnlineStateChange(t,Lr.RemoteStore)}),i),this.syncEngine=new Di(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=c,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new wi(this.syncEngine),[4,this.sharedClientState.start()];case 2:return l.sent(),[4,this.remoteStore.start()];case 3:return l.sent(),[4,this.persistence.setPrimaryStateListener((function(t){return o.__awaiter(u,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}}))}))}))];case 4:return l.sent(),[4,this.persistence.setDatabaseDeletedListener((function(){return o.__awaiter(u,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))}))];case 5:return l.sent(),[2]}}))}))}))},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),m("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return t.syncEngine.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.asyncQueue.enqueueAndInitiateShutdown((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.verifyNotTerminated();var e=new dt;return this.asyncQueue.enqueueAndForget((function(){return t.syncEngine.registerPendingWritesCallback(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotTerminated();var i=new Ci(t,e,n);return this.asyncQueue.enqueueAndForget((function(){return r.eventMgr.listen(i)})),i},t.prototype.unlisten=function(t){var e=this;this.clientTerminated||this.asyncQueue.enqueueAndForget((function(){return e.eventMgr.unlisten(t)}))},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return e.localStore.readDocument(t)})).then((function(t){if(t instanceof We)return t;if(t instanceof ze)return null;throw new S(C.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")}))},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(t,!0)];case 1:return e=i.sent(),n=new ki(t,e.remoteKeys),r=n.computeDocChanges(e.documents),[2,n.applyChanges(r,!1).snapshot]}}))}))}))},t.prototype.write=function(t){var e=this;this.verifyNotTerminated();var n=new dt;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.write(t,n)})),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.addSnapshotsInSyncListener=function(t){var e=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget((function(){return e.eventMgr.addSnapshotsInSyncListener(t),Promise.resolve()}))},t.prototype.removeSnapshotsInSyncListener=function(t){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(t)},Object.defineProperty(t.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.verifyNotTerminated();var n=new dt;return this.asyncQueue.enqueueAndForget((function(){return e.syncEngine.runTransaction(e.asyncQueue,t,n),Promise.resolve()})),n.promise},t}(),Zi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Ji=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new S(C.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Q(1,"element")+".")}(0,t);for(var n=0;n<t.length;++n)if(R("FieldPath","string",n,t[n]),0===t[n].length)throw new S(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(lt.keyField().canonicalString()),t}(),to=new RegExp("[~\\*/\\[\\]]"),eo=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t}}(),no=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){b(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(Pi.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){b(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),ro=function(){function t(t){var e=this;this.tokenListener=null,this.currentUser=Pi.UNAUTHENTICATED,this.receivedInitialUser=!1,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.tokenListener):(this.tokenListener(null),t.get().then((function(t){e.auth=t,e.tokenListener&&e.auth.addAuthTokenListener(e.tokenListener)}),(function(){})))}return t.prototype.getToken=function(){var t=this;b(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){if(t.tokenCounter!==e)throw new S(C.ABORTED,"getToken aborted due to token change.");return n?(b("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new eo(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){b(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){b(null!=this.tokenListener,"removeChangeListener() called twice"),b(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.auth&&this.auth.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.auth&&this.auth.getUid();return b(null===t||"string"==typeof t,"Received invalid UID: "+t),new Pi(t)},t}(),io=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=Pi.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),oo=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new io(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(Pi.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function so(t){if(!t)return new no;switch(t.type){case"gapi":var e=t.client;return b(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new oo(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new S(C.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function ao(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var co=function(){function t(t){this._methodName=t}return t.delete=function(){return O("FieldValue.delete",arguments),uo.instance},t.serverTimestamp=function(){return O("FieldValue.serverTimestamp",arguments),lo.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("FieldValue.arrayUnion",arguments,1),new ho(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("FieldValue.arrayRemove",arguments,1),new fo(t)},t.increment=function(t){return R("FieldValue.increment","number",1,t),D("FieldValue.increment",arguments,1),new po(t)},t.prototype.isEqual=function(t){return this===t},t}(),uo=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return o.__extends(e,t),e.instance=new e,e}(co),lo=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return o.__extends(e,t),e.instance=new e,e}(co),ho=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return o.__extends(e,t),e}(co),fo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return o.__extends(e,t),e}(co),po=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return o.__extends(e,t),e}(co),mo=E(co,"Use FieldValue.<field>() instead."),go=/^__.*__$/,yo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new Ce(t,this.data,this.fieldMask,e):new we(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Se(t,this.fieldTransforms)),n},t}(),vo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new Ce(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new Se(t,this.fieldTransforms)),n},t}(),bo=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t[t.ArrayArgument=4]="ArrayArgument",t}({});function _o(t){switch(t){case bo.Set:case bo.MergeSet:case bo.Update:return!0;case bo.Argument:case bo.ArrayArgument:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}var wo=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new S(C.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(0===t.length)throw this.createError("Document fields must not be empty");if(_o(this.dataSource)&&go.test(t))throw this.createError('Document fields cannot begin and end with "__"')},t}(),Co=function(){return function(t,e){this.databaseId=t,this.key=e}}(),So=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new wo(bo.Set,t,lt.EMPTY_PATH);To("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new yo(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new wo(bo.MergeSet,t,lt.EMPTY_PATH);To("Data must be an object, but it was:",r,e);var i,o,s=this.parseData(e,r);if(n){for(var a=new Ot(lt.comparator),c=0,u=n;c<u.length;c++){var l=u[c],h=void 0;if(l instanceof Ji)h=l._internalPath;else{if("string"!=typeof l)throw v("Expected stringOrFieldPath to be a string or a FieldPath");h=Io(t,l)}if(!r.contains(h))throw new S(C.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}i=me.fromSet(a),o=r.fieldTransforms.filter((function(t){return i.covers(t.field)}))}else i=me.fromArray(r.fieldMask),o=r.fieldTransforms;return new yo(s,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new wo(bo.Update,t,lt.EMPTY_PATH);To("Data must be an object, but it was:",r,e);var i=new Ot(lt.comparator),o=Be.EMPTY;x(e,(function(e,s){var a=Io(t,e),c=r.childContextForFieldPath(a);if((s=n.runPreConverter(s,c))instanceof uo)i=i.add(a);else{var u=n.parseData(s,c);null!=u&&(i=i.add(a),o=o.set(a,u))}}));var s=me.fromSet(i);return new vo(o,s,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new wo(bo.Update,t,lt.EMPTY_PATH),o=[ko(t,e)],s=[n];if(r.length%2!=0)throw new S(C.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(ko(t,r[a])),s.push(r[a+1]);var c=new Ot(lt.comparator),u=Be.EMPTY;for(a=0;a<o.length;++a){var l=o[a],h=i.childContextForFieldPath(l),d=this.runPreConverter(s[a],h);if(d instanceof uo)c=c.add(l);else{var f=this.parseData(d,h);null!=f&&(c=c.add(l),u=u.set(l,f))}}var p=me.fromSet(c);return new vo(u,p,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e,n){void 0===n&&(n=!1);var r=new wo(n?bo.ArrayArgument:bo.Argument,t,lt.EMPTY_PATH),i=this.parseData(e,r);return b(null!=i,"Parsed data should not be null."),b(0===r.fieldTransforms.length,"Field transforms should have been disallowed."),i},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=xo(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(Eo(t=this.runPreConverter(t,e)))return To("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof co)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement&&e.dataSource!==bo.ArrayArgument)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new kt(Y);return A(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):x(t,(function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))})),new Be(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=this.parseData(o[i],e.childContextForArray(r));null==s&&(s=Ae.INSTANCE),n.push(s),r++}return new qe(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!_o(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof uo){if(e.dataSource!==bo.MergeSet)throw e.dataSource===bo.Update?(b(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof lo)e.fieldTransforms.push(new ge(e.path,si.instance));else if(t instanceof ho){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ai(n);e.fieldTransforms.push(new ge(e.path,r))}else if(t instanceof fo){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new ci(n);e.fieldTransforms.push(new ge(e.path,i))}else if(t instanceof po){var o=this.parseQueryValue("FieldValue.increment",t._operand),s=new ui(o);e.fieldTransforms.push(new ge(e.path,s))}else v("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return Ae.INSTANCE;if("number"==typeof t)return Yn(t)?new Ne(t):new Re(t);if("boolean"==typeof t)return Oe.of(t);if("string"==typeof t)return new Me(t);if(t instanceof Date)return new Le(Et.fromDate(t));if(t instanceof Et)return new Le(new Et(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof oi)return new Ve(t);if(t instanceof et)return new Ue(t);if(t instanceof Co)return new je(t.databaseId,t.key);throw e.createError("Unsupported field value: "+q(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map((function(e,r){var i=new wo(bo.Argument,t,lt.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))}))},t}();function Eo(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof oi||t instanceof et||t instanceof Co||t instanceof co)}function To(t,e,n){if(!Eo(n)||!B(n)){var r=q(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function ko(t,e){if(e instanceof Ji)return e._internalPath;if("string"==typeof e)return Io(t,e);throw new S(C.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function Io(t,e){try{return function(t){if(t.search(to)>=0)throw new S(C.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Ji.bind.apply(Ji,o.__spreadArrays([void 0],t.split("."))))}catch(e){throw new S(C.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=xo(r);throw new S(C.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function xo(t){return t instanceof Error?t.message:t.toString()}var Ao="firestore.googleapis.com",Oo=!0,Do=!0,Po=!1,No=Dn.COLLECTION_DISABLED,Ro=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new S(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ao,this.ssl=Oo}else L("settings","non-empty string","host",t.host),this.host=t.host,F("settings","boolean","ssl",t.ssl),this.ssl=k(t.ssl,Oo);if(W("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),F("settings","object","credentials",t.credentials),this.credentials=t.credentials,F("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?g("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&g("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=k(t.timestampsInSnapshots,Do),F("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Dn.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==No&&t.cacheSizeBytes<Dn.MINIMUM_CACHE_SIZE_BYTES)throw new S(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Dn.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}F("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Po:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),Mo=function(){function t(e,n){var r=this;if(this._firebaseApp=null,this._queue=new mt,this.INTERNAL={delete:function(){return o.__awaiter(r,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var i=e;this._firebaseApp=i,this._databaseId=t.databaseIdFromApp(i),this._persistenceKey=i.name,this._credentials=new ro(n)}else{var s=e;if(!s.projectId)throw new S(C.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new ot(s.projectId,s.database),this._persistenceKey="[DEFAULT]",this._credentials=new no}this._settings=new Ro({}),this._dataConverter=this.createDataConverter(this._databaseId)}return t.prototype.settings=function(t){if(D("Firestore.settings",arguments,1),R("Firestore.settings","object",1,t),T(t,"persistence"))throw new S(C.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Ro(t);if(this._firestoreClient&&!this._settings.isEqual(e))throw new S(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=e,void 0!==e.credentials&&(this._credentials=so(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new S(C.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=k(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new $i(this._settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=jn.buildStoragePrefix(this.makeDatabaseInfo()),n=new dt;return this._queue.enqueueAndForgetEvenAfterShutdown((function(){return o.__awaiter(t,void 0,void 0,(function(){var t;return o.__generator(this,(function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new S(C.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,jn.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.ensureClientConfigured(),ao(t)?this.onSnapshotsInSyncInternal(t):(R("Firestore.onSnapshotsInSync","function",1,t),this.onSnapshotsInSyncInternal({next:t}))},t.prototype.onSnapshotsInSyncInternal=function(t){var e=this,n=new Zi({next:function(){t.next&&t.next()},error:function(t){throw v("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),e._firestoreClient.removeSnapshotsInSyncListener(n)}},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Yi),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new rt(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},t.prototype.configureClient=function(t){b(!!this._settings.host,"FirestoreSettings.host is not set"),b(!this._firestoreClient,"configureClient() called multiple times");var e=this.makeDatabaseInfo();return this._firestoreClient=new Xi(_.getPlatform(),e,this._credentials,this._queue),this._firestoreClient.start(t)},t.prototype.createDataConverter=function(t){return new So((function(e){if(e instanceof Uo){var n=t,r=e.firestore._databaseId;if(!r.isEqual(n))throw new S(C.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Co(t,e._key)}return e}))},t.databaseIdFromApp=function(t){var e=t.options;if(!T(e,"projectId"))throw new S(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new S(C.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ot(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._firebaseApp)throw new S(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return D("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Wo(ct.fromString(t),this)},t.prototype.doc=function(t){return D("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Uo.forPath(ct.fromString(t),this)},t.prototype.collectionGroup=function(t){if(D("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new S(C.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new qo(new Jn(ct.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return D("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction((function(n){return t(new Lo(e,n))}))},t.prototype.batch=function(){return this.ensureClientConfigured(),new Fo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(f()){case d.DEBUG:return"debug";case d.ERROR:return"error";case d.SILENT:return"silent";default:return v("Unknown log level: "+f())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(D("Firestore.setLogLevel",arguments,1),R("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(d.DEBUG);break;case"error":p(d.ERROR);break;case"silent":p(d.SILENT);break;default:throw new S(C.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},t}(),Lo=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;D("Transaction.get",arguments,1);var n=Qo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof ze)return new Vo(e._firestore,n._key,null,!1,!1,n._converter);if(r instanceof We)return new Vo(e._firestore,n._key,r,!1,!1,n._converter);throw v("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)}))},t.prototype.set=function(t,e,n){N("Transaction.set",arguments,2,3);var r=Qo("Transaction.set",t,this._firestore);n=zo("Transaction.set",n);var i=Yo(r._converter,e,"Transaction.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(s,o,n.mergeFields):this._firestore._dataConverter.parseSetData(s,o);return this._transaction.set(r._key,a),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Ji?(P("Transaction.update",arguments,3),r=Qo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(D("Transaction.update",arguments,2),r=Qo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){D("Transaction.delete",arguments,1);var e=Qo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Fo=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){N("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Qo("WriteBatch.set",t,this._firestore);n=zo("WriteBatch.set",n);var i=Yo(r._converter,e,"WriteBatch.set"),o=i[0],s=i[1],a=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData(s,o,n.mergeFields):this._firestore._dataConverter.parseSetData(s,o);return this._mutations=this._mutations.concat(a.toMutations(r._key,be.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Ji?(P("WriteBatch.update",arguments,3),r=Qo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(D("WriteBatch.update",arguments,2),r=Qo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,be.exists(!0))),this},t.prototype.delete=function(t){D("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Qo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Ee(e._key,be.NONE)),this},t.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]}))}))},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new S(C.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Uo=function(){function t(t,e,n){this._key=t,this.firestore=e,this._converter=n,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n,r){if(e.length%2!=0)throw new S(C.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ht(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Wo(this._key.path.popLast(),this.firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(D("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,t),!t)throw new S(C.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=ct.fromString(t);return new Wo(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)&&this._converter===e._converter},t.prototype.set=function(t,e){N("DocumentReference.set",arguments,1,2),e=zo("DocumentReference.set",e);var n=Yo(this._converter,t,"DocumentReference.set"),r=n[0],i=n[1],o=e.merge||e.mergeFields?this.firestore._dataConverter.parseMergeData(i,r,e.mergeFields):this.firestore._dataConverter.parseSetData(i,r);return this._firestoreClient.write(o.toMutations(this._key,be.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Ji?(P("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(D("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,be.exists(!0)))},t.prototype.delete=function(){return D("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Ee(this._key,be.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||ao(t[i])||(W("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),F("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return ao(t[i])?n=t[i]:(R("DocumentReference.onSnapshot","function",i,t[i]),M("DocumentReference.onSnapshot","function",i+1,t[i+1]),M("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Zi({next:function(t){if(e.next){b(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new Vo(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites,n._converter))}},error:r}),o=this._firestoreClient.listen(Jn.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return N("DocumentReference.get",arguments,0,1),Ko("DocumentReference.get",t),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then((function(t){n(new Vo(e.firestore,e._key,t,!0,t instanceof We&&t.hasLocalMutations,e._converter))}),r):e.getViaSnapshotListener(n,r,t)}))},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new S(C.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new S(C.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t.prototype.withConverter=function(e){return new t(this._key,this.firestore,e)},t}(),jo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Vo=function(){function t(t,e,n,r,i,o){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i,this._converter=o}return t.prototype.data=function(t){if(N("DocumentSnapshot.data",arguments,0,1),t=Go("DocumentSnapshot.data",t),this._document){if(this._converter){var e=new Bo(this._firestore,this._key,this._document,this._fromCache,this._hasPendingWrites);return this._converter.fromFirestore(e,t)}return this.toJSObject(this._document.data(),Ie.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},t.prototype.get=function(t,e){if(N("DocumentSnapshot.get",arguments,1,2),e=Go("DocumentSnapshot.get",e),this._document){var n=this._document.data().field(ko("DocumentSnapshot.get",t));if(null!==n)return this.toJSValue(n,Ie.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Uo(this._key,this._firestore,this._converter)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new jo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))&&this._converter===e._converter},t.prototype.toJSObject=function(t,e){var n=this,r={};return t.forEach((function(t,i){r[t]=n.toJSValue(i,e)})),r},t.prototype.toJSValue=function(t,e){if(t instanceof Be)return this.toJSObject(t,e);if(t instanceof qe)return this.toJSArray(t,e);if(t instanceof je){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||g("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Uo(n,this._firestore,this._converter)}return t.value(e)},t.prototype.toJSArray=function(t,e){var n=this;return t.internalValue.map((function(t){return n.toJSValue(t,e)}))},t}(),Bo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return b(void 0!==n,"Document in a QueryDocumentSnapshot should exist"),n},e}(Vo),qo=function(){function t(t,e,n){this._query=t,this.firestore=e,this._converter=n}return t.prototype.where=function(e,n,r){D("Query.where",arguments,3),H("Query.where",3,r);var i,o=["<","<=","==",">=",">","array-contains","in","array-contains-any"];j("Query.where",o,2,n);var s=ko("Query.where",e),a=er.fromString(n);if(s.isKeyField()){if(a===er.ARRAY_CONTAINS||a===er.ARRAY_CONTAINS_ANY)throw new S(C.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===er.IN){this.validateDisjunctiveFilterElements(r,a);for(var c=[],u=0,l=r;u<l.length;u++){var h=l[u];c.push(this.parseDocumentIdValue(h))}i=new qe(c)}else i=this.parseDocumentIdValue(r)}else a!==er.IN&&a!==er.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,a),i=this.firestore._dataConverter.parseQueryValue("Query.where",r,a===er.IN);var d=nr.create(s,a,i);return this.validateNewFilter(d),new t(this._query.addFilter(d),this.firestore,this._converter)},t.prototype.orderBy=function(e,n){var r;if(N("Query.orderBy",arguments,1,2),M("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=cr.ASCENDING;else{if("desc"!==n)throw new S(C.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=cr.DESCENDING}if(null!==this._query.startAt)throw new S(C.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new S(C.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=ko("Query.orderBy",e),o=new lr(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore,this._converter)},t.prototype.limit=function(e){return D("Query.limit",arguments,1),R("Query.limit","number",1,e),G("Query.limit",1,e),new t(this._query.withLimitToFirst(e),this.firestore,this._converter)},t.prototype.limitToLast=function(e){return D("Query.limitToLast",arguments,1),R("Query.limitToLast","number",1,e),G("Query.limitToLast",1,e),new t(this._query.withLimitToLast(e),this.firestore,this._converter)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore,this._converter)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore,this._converter)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore,this._converter)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore,this._converter)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.withConverter=function(e){return new t(this._query,this.firestore,e)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(H(t,1,e),e instanceof Vo){if(n.length>0)throw new S(C.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new S(C.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var s=o[i];if(s.field.isKeyField())r.push(new je(this.firestore._databaseId,e.key));else{var a=e.field(s.field);if(a instanceof Fe)throw new S(C.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var c=s.field.canonicalString();throw new S(C.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}r.push(a)}}return new ur(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new S(C.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.isKeyField()){if("string"!=typeof s)throw new S(C.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this._query.isCollectionGroupQuery()&&-1!==s.indexOf("/"))throw new S(C.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this._query.path.child(ct.fromString(s));if(!ht.isDocumentKey(a))throw new S(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var c=new ht(a);i.push(new je(this.firestore._databaseId,c))}else{var u=this.firestore._dataConverter.parseQueryValue(t,s);i.push(u)}}return new ur(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||ao(t[i])||(W("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),F("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),ao(t[i])?n=t[i]:(R("Query.onSnapshot","function",i,t[i]),M("Query.onSnapshot","function",i+1,t[i+1]),M("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.validateHasExplicitOrderByForLimitToLast(this._query),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Zi({next:function(t){e.next&&e.next(new Ho(n.firestore,n._query,t,n._converter))},error:r}),o=this.firestore.ensureClientConfigured(),s=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(s)}},t.prototype.validateHasExplicitOrderByForLimitToLast=function(t){if(t.hasLimitToLast()&&0===t.explicitOrderBy.length)throw new S(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")},t.prototype.get=function(t){var e=this;return N("Query.get",arguments,0,1),Ko("Query.get",t),this.validateHasExplicitOrderByForLimitToLast(this._query),new Promise((function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then((function(t){n(new Ho(e.firestore,e._query,t,e._converter))}),r):e.getViaSnapshotListener(n,r,t)}))},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new S(C.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.parseDocumentIdValue=function(t){if("string"==typeof t){if(""===t)throw new S(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf("/"))throw new S(C.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this._query.path.child(ct.fromString(t));if(!ht.isDocumentKey(e))throw new S(C.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new je(this.firestore._databaseId,new ht(e))}if(t instanceof Uo)return new je(this.firestore._databaseId,t._key);throw new S(C.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+q(t)+".")},t.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new S(C.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new S(C.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new S(C.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new S(C.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.validateNewFilter=function(t){if(t instanceof nr){var e=[er.ARRAY_CONTAINS,er.ARRAY_CONTAINS_ANY],n=[er.IN,er.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(t.field))throw new S(C.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this._query.getFirstOrderByField();null!==s&&this.validateOrderByAndInequalityMatch(t.field,s)}else if(i||r){var a=null;if(i&&(a=this._query.findFilterOperator(n)),null===a&&r&&(a=this._query.findFilterOperator(e)),null!=a)throw new S(C.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new S(C.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Ho=function(){function t(t,e,n,r){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._converter=r,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new jo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;N("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach((function(r){t.call(e,n.convertToDocumentImpl(r))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new qo(this._originalQuery,this._firestore,this._converter)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(W("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),F("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new S(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n,r){if(n.oldDocs.isEmpty()){var i,o=0;return n.docChanges.map((function(e){var s=new Bo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key),r);return b(e.type===Hr.Added,"Invalid event type for first snapshot"),b(!i||n.query.docComparator(i,e.doc)<0,"Got added events in wrong order"),i=e.doc,{type:"added",doc:s,oldIndex:-1,newIndex:o++}}))}var s=n.oldDocs;return n.docChanges.filter((function(t){return e||t.type!==Hr.Metadata})).map((function(e){var i=new Bo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key),r),o=-1,a=-1;return e.type!==Hr.Added&&(b((o=s.indexOf(e.doc.key))>=0,"Index for document not found"),s=s.delete(e.doc.key)),e.type!==Hr.Removed&&(a=(s=s.add(e.doc)).indexOf(e.doc.key)),{type:$o(e.type),doc:i,oldIndex:o,newIndex:a}}))}(this._firestore,e,this._snapshot,this._converter),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw z("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)&&this._converter===e._converter},t.prototype.convertToDocumentImpl=function(t){return new Bo(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key),this._converter)},t}();o.__spreadArrays(["length","forEach","map"],"undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach((function(t){try{Object.defineProperty(Ho.prototype.docChanges,t,{get:function(){return function(){throw new S(C.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}}));var Wo=function(t){function e(e,n,r){var i=t.call(this,Jn.atPath(e),n,r)||this;if(i._path=e,e.length%2!=1)throw new S(C.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return i}return o.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Uo(new ht(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(N("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=$.newId()),R("CollectionReference.doc","non-empty string",1,t),""===t)throw new S(C.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=ct.fromString(t);return Uo.forPath(this._query.path.child(e),this.firestore,this._converter)},e.prototype.add=function(t){D("CollectionReference.add",arguments,1),R("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this._path,this.firestore,t)},e}(qo);function zo(t,e){if(void 0===e)return{merge:!1};if(W(t,e,["merge","mergeFields"]),F(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new S(C.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+q(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new S(C.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+q(r[o]))}(t,0,0,n,(function(t){return"string"==typeof t||t instanceof Ji})),void 0!==e.mergeFields&&void 0!==e.merge)throw new S(C.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Go(t,e){return void 0===e?{}:(W(t,e,["serverTimestamps"]),U(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Ko(t,e){M(t,"object",1,e),e&&(W(t,e,["source"]),U(t,0,"source",e.source,["default","server","cache"]))}function Qo(t,e,n){if(e instanceof Uo){if(e.firestore!==n)throw new S(C.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw z(t,"DocumentReference",1,e)}function $o(t){switch(t){case Hr.Added:return"added";case Hr.Modified:case Hr.Metadata:return"modified";case Hr.Removed:return"removed";default:return v("Unknown change type: "+t)}}function Yo(t,e,n){var r;return t?(r=t.toFirestore(e),n="toFirestore() in "+n):r=e,[r,n]}var Xo=E(Mo,"Use firebase.firestore() instead."),Zo=E(Lo,"Use firebase.firestore().runTransaction() instead."),Jo=E(Fo,"Use firebase.firestore().batch() instead."),ts=E(Uo,"Use firebase.firestore().doc() instead."),es=E(Vo),ns=E(Bo),rs=E(qo),is=E(Ho),os=E(Wo,"Use firebase.firestore().collection() instead."),ss={Firestore:Xo,GeoPoint:oi,Timestamp:Et,Blob:nt,Transaction:Zo,WriteBatch:Jo,DocumentReference:ts,DocumentSnapshot:es,Query:rs,QueryDocumentSnapshot:ns,QuerySnapshot:is,CollectionReference:os,FieldPath:Ji,FieldValue:mo,setLogLevel:Mo.setLogLevel,CACHE_SIZE_UNLIMITED:No},as=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),cs=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){m("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(0)},t.prototype.onNetworkUnavailable=function(){m("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(1)},t.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),us=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){b(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){b(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){b(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){b(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){b(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){b(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),ls="Connection",hs=function(){return{BatchGetDocuments:"batchGet",Commit:"commit"}}(),ds="gl-js/ fire/"+l,fs=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=ds},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise((function(s,a){var c=new u.XhrIo;c.listenOnce(u.EventType.COMPLETE,(function(){try{switch(c.getLastErrorCode()){case u.ErrorCode.NO_ERROR:var e=c.getResponseJson();m(ls,"XHR received:",JSON.stringify(e)),s(e);break;case u.ErrorCode.TIMEOUT:m(ls,'RPC "'+t+'" timed out'),a(new S(C.DEADLINE_EXCEEDED,"Request time out"));break;case u.ErrorCode.HTTP_ERROR:var n=c.getStatus();if(m(ls,'RPC "'+t+'" failed with status:',n,"response text:",c.getResponseText()),n>0){var r=c.getResponseJson().error;if(r&&r.status&&r.message){var i=(o=r.status.toLowerCase().replace("_","-"),Object.values(C).indexOf(o)>=0?o:C.UNKNOWN);a(new S(i,r.message))}else a(new S(C.UNKNOWN,"Server responded with status "+c.getStatus()))}else m(ls,'RPC "'+t+'" failed'),a(new S(C.UNAVAILABLE,"Connection failed."));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+c.getLastErrorCode()+": "+c.getLastError()+", giving up.")}}finally{m(ls,'RPC "'+t+'" completed.')}var o}));var l=o.__assign({},e);delete l.database;var h=JSON.stringify(l);m(ls,"XHR sending: ",i+" "+h);var d={"Content-Type":"text/plain"};r.modifyHeadersForRequest(d,n),c.send(i,"POST",h,d,15)}))},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=u.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),a.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");m(ls,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),c=!1,l=!1,h=new us({sendFn:function(t){l?m(ls,"Not sending because WebChannel is closed:",t):(c||(m(ls,"Opening WebChannel transport."),s.open(),c=!0),m(ls,"WebChannel sending:",t),s.send(t))},closeFn:function(){return s.close()}}),d=function(t,e){s.listen(t,(function(t){try{e(t)}catch(n){setTimeout((function(){throw n}),0)}}))};return d(u.WebChannel.EventType.OPEN,(function(){l||m(ls,"WebChannel transport opened.")})),d(u.WebChannel.EventType.CLOSE,(function(){l||(l=!0,m(ls,"WebChannel transport closed"),h.callOnClose())})),d(u.WebChannel.EventType.ERROR,(function(t){l||(l=!0,m(ls,"WebChannel transport errored:",t),h.callOnClose(new S(C.UNAVAILABLE,"The operation could not be completed")))})),d(u.WebChannel.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];b(!!n,"Got a webchannel message without data.");var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){m(ls,"WebChannel received error:",r);var i=r.status,o=function(t){var e=Ur[t];if(void 0!==e)return Vr(e)}(i),a=r.message;void 0===o&&(o=C.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),l=!0,h.callOnClose(new S(o,a)),s.close()}else m(ls,"WebChannel received:",n),h.callOnMessage(n)}})),setTimeout((function(){h.callOnOpen()}),0),h},t.prototype.makeUrl=function(t){var e=hs[t];return b(void 0!==e,"Unknown REST mapping for: "+t),this.baseUrl+"/v1/projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents:"+e},t}();_.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new fs(t))},t.prototype.newConnectivityMonitor=function(){return cs.isAvailable()?new cs:new as},t.prototype.newSerializer=function(t){return new bi(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var ps="@firebase/firestore",ms="1.9.1";function gs(t){(function(t){t.INTERNAL.registerComponent(new c.Component("firestore",(function(t){var e=t.getProvider("app").getImmediate();return new Mo(e,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(function(t){b(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(ss)))})(t),t.registerVersion(ps,ms)}gs(i),e.registerFirestore=gs},ABqa:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("mrSG"),s=n("S+S0"),a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return o.__extends(e,t),e}(Error),u=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),this.messaging?[4,this.messaging.getToken()]:[2,void 0];case 1:return(t=e.sent())?[2,t]:[2,void 0];case 2:return e.sent(),[2,void 0];case 3:return[2]}}))}))},t.prototype.getContext=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e;return o.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function l(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var h,d=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return l(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?l(t,(function(t){return e.decode(t)})):t},t}(),f=function(){function t(t,e,n,r){var i=this;void 0===r&&(r="us-central1"),this.app_=t,this.region_=r,this.serializer=new d,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return i.deleteService()}},this.contextProvider=new u(e,n),this.cancelAllRequests=new Promise((function(t){i.deleteService=function(){return t()}}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+n+"/"+t:"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:n.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,u,l,h,d,f;return o.__generator(this,(function(o){switch(o.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},s=new Headers,[4,this.contextProvider.getContext()];case 1:return(u=o.sent()).authToken&&s.append("Authorization","Bearer "+u.authToken),u.instanceIdToken&&s.append("Firebase-Instance-ID-Token",u.instanceIdToken),l=n.timeout||7e4,[4,Promise.race([this.postJSON(r,i,s),(p=l,new Promise((function(t,e){setTimeout((function(){e(new c("deadline-exceeded","deadline-exceeded"))}),p)}))),this.cancelAllRequests])];case 2:if(!(h=o.sent()))throw new c("cancelled","Firebase Functions instance was deleted.");if(d=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var u=s.status;if("string"==typeof u){if(!a[u])return new c("internal","internal");r=a[u],i=u}var l=s.message;"string"==typeof l&&(i=l),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(h){}return"ok"===r?null:new c(r,i,o)}(h.status,h.json,this.serializer))throw d;if(!h.json)throw new c("internal","Response is not valid JSON object.");if(void 0===(f=h.json.data)&&(f=h.json.result),void 0===f)throw new c("internal","Response is missing data field.");return[2,{data:this.serializer.decode(f)}]}var p}))}))},t}();h={Functions:f},i.INTERNAL.registerComponent(new s.Component("functions",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new f(n,r,i,e)}),"PUBLIC").setServiceProps(h).setMultipleInstances(!0)),i.registerVersion("@firebase/functions","0.4.28")},B9Yq:function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},"F/NL":function(t,e){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialProgress=t,t.prototype.Constant_={},t.prototype.CssClasses_={INDETERMINATE_CLASS:"mdl-progress__indeterminate"},t.prototype.setProgress=t.prototype.setProgress=function(t){this.element_.classList.contains(this.CssClasses_.INDETERMINATE_CLASS)||(this.progressbar_.style.width=t+"%")},t.prototype.setBuffer=t.prototype.setBuffer=function(t){this.bufferbar_.style.width=t+"%",this.auxbar_.style.width=100-t+"%"},t.prototype.init=function(){if(this.element_){var t=document.createElement("div");t.className="progressbar bar bar1",this.element_.appendChild(t),this.progressbar_=t,(t=document.createElement("div")).className="bufferbar bar bar2",this.element_.appendChild(t),this.bufferbar_=t,(t=document.createElement("div")).className="auxbar bar bar3",this.element_.appendChild(t),this.auxbar_=t,this.progressbar_.style.width="0%",this.bufferbar_.style.width="100%",this.auxbar_.style.width="0%",this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialProgress",cssClass:"mdl-js-progress",widget:!0})}()},FWf1:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("pshJ"),o=n("GiSu"),s=n("zB/H"),a=n("p//D"),c=n("n3uD"),u=n("MkmW"),l=function(t){function e(n,r,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.empty;break;case 1:if(!n){s.destination=o.empty;break}if("object"==typeof n){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new h(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new h(s,n,r,i)}return s}return r(e,t),e.prototype[a.rxSubscriber]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(s.Subscription);e.Subscriber=l;var h=function(t){function e(e,n,r,s){var a,c=t.call(this)||this;c._parentSubscriber=e;var u=c;return i.isFunction(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.empty&&(u=Object.create(n),i.isFunction(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=r,c._complete=s,c}return r(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):u.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;u.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw n;u.hostReportError(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return c.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(u.hostReportError(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l);e.SafeSubscriber=h},GMZp:function(t,e,n){"use strict";e.isObject=function(t){return null!==t&&"object"==typeof t}},GiSu:function(t,e,n){"use strict";var r=n("n3uD"),i=n("MkmW");e.empty={closed:!0,next:function(t){},error:function(t){if(r.config.useDeprecatedSynchronousErrorHandling)throw t;i.hostReportError(t)},complete:function(){}}},LBXl:function(t,e,n){"use strict";e.UnsubscriptionError=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},LmZi:function(t,e,n){"use strict";n.r(e),n.d(e,"registerStorage",(function(){return Jt}));var r=n("wj3C"),i=n.n(r),o=n("mrSG"),s=n("S+S0"),a="firebasestorage.googleapis.com",c="storageBucket",u=12e4,l=6e5,h=-9007199254740991,d=function(){function t(t,e){this.code_=p(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return p(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),f={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function p(t){return"storage/"+t}function m(){return new d(f.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function g(){return new d(f.CANCELED,"User canceled the upload/download.")}function y(){return new d(f.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function v(){return new d(f.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function b(t,e,n){return new d(f.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function _(){return new d(f.APP_DELETED,"The Firebase app was deleted.")}function w(t,e){return new d(f.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function C(t){throw new d(f.INTERNAL_ERROR,"Internal error: "+t)}var S={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function E(t){switch(t){case S.RAW:case S.BASE64:case S.BASE64URL:case S.DATA_URL:return;default:throw"Expected one of the event types: ["+S.RAW+", "+S.BASE64+", "+S.BASE64URL+", "+S.DATA_URL+"]."}}var T=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function k(t,e){switch(t){case S.RAW:return new T(I(e));case S.BASE64:case S.BASE64URL:return new T(x(t,e));case S.DATA_URL:return new T((n=new A(e)).base64?x(S.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw w(S.DATA_URL,"Malformed data URL.")}return I(e)}(n.rest),function(t){return new A(t).contentType}(e))}var n;throw m()}function I(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function x(t,e){switch(t){case S.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw w(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case S.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw w(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(u){throw w(t,"Invalid character found")}for(var a=new Uint8Array(s.length),c=0;c<s.length;c++)a[c]=s.charCodeAt(c);return a}var A=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw w(S.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}}(),O={STATE_CHANGED:"state_changed"},D={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},P={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function N(t){switch(t){case D.RUNNING:case D.PAUSING:case D.CANCELING:return P.RUNNING;case D.PAUSED:return P.PAUSED;case D.SUCCESS:return P.SUCCESS;case D.CANCELED:return P.CANCELED;case D.ERROR:default:return P.ERROR}}function R(t){return null!=t}function M(t){return void 0!==t}function L(t){return"function"==typeof t}function F(t){return"object"==typeof t}function U(t){return F(t)&&null!==t}function j(t){return"string"==typeof t||t instanceof String}function V(t){return B(t)&&Number.isInteger(t)}function B(t){return"number"==typeof t||t instanceof Number}function q(t){return H()&&t instanceof Blob}function H(){return"undefined"!=typeof Blob}var W=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),z=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=W.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=W.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=W.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw C("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),R(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return R(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw C("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw C("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw C("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){R(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){R(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),G=function(){function t(){}return t.prototype.createXhrIo=function(){return new z},t}();function K(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=K();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(H())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}var $=function(){function t(t,e){var n=0,r="";q(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(q(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(H()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Q.apply(null,r))}var i=e.map((function(t){return j(t)?k(S.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Y=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new d(f.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){for(var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),i=a.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+i+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(t){t.path_=decodeURIComponent(t.path)}}],s=0;s<o.length;s++){var c=o[s],u=c.regex.exec(e);if(u){var l=u[c.indices.path];l||(l=""),n=new t(u[c.indices.bucket],l),c.postModify(n);break}}if(null==n)throw function(t){return new d(f.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return n},t}();function X(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return F(n=e)&&!Array.isArray(n)?e:null}function Z(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function J(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function tt(t){return"https://"+a+"/v0"+t}function et(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function nt(t,e){return e}var rt=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||nt}}(),it=null;function ot(t,e,n){var r=X(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Y(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function st(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function at(t){if(!F(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!F(n))throw"Expected object for 'customMetadata' mapping."}else if(U(n))throw"Mapping for '"+e+"' cannot be an object."}}var ct="maxResults",ut=1e3,lt="pageToken",ht="prefixes",dt="items";function ft(t){if(!F(t)||!t)throw"Expected ListOptions object.";for(var e in t)if(e===ct){if(!V(t[ct])||t[ct]<=0)throw"Expected maxResults to be a positive number.";if(t[ct]>1e3)throw"Expected maxResults to be less than or equal to "+ut+"."}else{if(e!==lt)throw"Unknown option: "+e;if(t[lt]&&!j(t[lt]))throw"Expected pageToken to be string."}}var pt=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function mt(t){if(!t)throw m()}function gt(t,e){return function(n,r){var i=ot(t,r,e);return mt(null!==i),i}}function yt(t){return function(e,n){var r;return(r=401===e.getStatus()?new d(f.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new d(f.QUOTA_EXCEEDED,"Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new d(f.UNAUTHORIZED,"User does not have permission to access '"+t.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function vt(t){var e=yt(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new d(f.OBJECT_NOT_FOUND,"Object '"+t.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function bt(t,e,n){var r=tt(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new pt(r,"GET",gt(t,n),i);return o.errorHandler=vt(e),o}function _t(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=tt(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime(),u=new pt(s,"GET",function(t){return function(e,n){var r=function(t,e){var n=X(e);return null===n?null:function(t,e){var n={prefixes:[],items:[],nextPageToken:e.nextPageToken},r=t.bucket();if(null===r)throw new d(f.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+c+"' property when initializing the app?");if(e[ht])for(var i=0,o=e[ht];i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new Y(r,s));n.prefixes.push(a)}if(e[dt])for(var u=0,l=e[dt];u<l.length;u++)a=t.makeStorageReference(new Y(r,l[u].name)),n.items.push(a);return n}(t,n)}(t,n);return mt(null!==r),r}}(t),a);return u.urlParams=o,u.errorHandler=yt(e),u}function wt(t,e,n){var r=tt(e.fullServerUrl()),i=t.maxOperationRetryTime(),o=new pt(r,"GET",function(t,e){return function(n,r){var i=ot(t,r,e);return mt(null!==i),function(t,e){var n=X(e);if(null===n)return null;if(!j(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.fullPath;return tt("/b/"+i(t.bucket)+"/o/"+i(n))+et({alt:"media",token:e})}))[0]}(i,r)}}(t,n),i);return o.errorHandler=vt(e),o}function Ct(t,e,n,r){var i=tt(e.fullServerUrl()),o=st(n,r),s=t.maxOperationRetryTime(),a=new pt(i,"PATCH",gt(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=vt(e),a}function St(t,e){var n=tt(e.fullServerUrl()),r=t.maxOperationRetryTime(),i=new pt(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=vt(e),i}function Et(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Tt=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function kt(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){mt(!1)}return mt(!!n&&-1!==(e||["active"]).indexOf(n)),n}var It=function(){return function(t,e,n){if(L(t)||R(e)||R(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),xt=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function At(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var s,a,c,u;if(!(r<=n.length&&n.length<=i))throw(s=r)===(a=i)?(c=s,u=1===s?"argument":"arguments"):(c="between "+s+" and "+a,u="arguments"),new d(f.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+t+"`: Expected "+c+" "+u+", received "+n.length+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(l){throw l instanceof Error?b(o,t,l.message):b(o,t,l)}}var Ot=function(){return function(t,e){var n=this;this.validator=function(e){n.optional&&!M(e)||t(e)},this.optional=!!e}}();function Dt(t,e){function n(t){if(!j(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new Ot(r,e)}function Pt(){return new Ot((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||H()&&t instanceof Blob))throw"Expected Blob or File."}))}function Nt(t){return new Ot(at,t)}function Rt(t){return new Ot(ft,t)}function Mt(){return new Ot((function(t){if(!(B(t)&&t>=0))throw"Expected a number 0 or greater."}))}function Lt(t,e){return new Ot((function(e){if(!(null===e||R(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function Ft(t){return new Ot((function(t){if(null!==t&&!L(t))throw"Expected a Function."}),t)}function Ut(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var jt=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=D.RUNNING,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(f.CANCELED)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(D.ERROR))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(f.CANCELED)?s.completeTransitions_():(s.error_=t,s.transition_(D.ERROR))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===D.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then((function(n){switch(e.state_){case D.RUNNING:t(n);break;case D.CANCELING:e.transition_(D.CANCELED);break;case D.PAUSING:e.transition_(D.PAUSED)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Et(e,r,i),a={name:s.fullPath},c=tt(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=st(s,n),h=t.maxUploadRetryTime(),d=new pt(c,"POST",(function(t){var e;kt(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){mt(!1)}return mt(j(e)),e}),h);return d.urlParams=a,d.headers=u,d.body=l,d.errorHandler=yt(e),d}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime(),o=new pt(n,"POST",(function(t){var e=kt(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){mt(!1)}n||mt(!1);var i=Number(n);return mt(!isNaN(i)),new Tt(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=yt(e),o}(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new Tt(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(t,e,n,r,i,o,s,a){var c=new Tt(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new d(f.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,p={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},m=r.slice(h,h+l);if(null===m)throw y();var g=e.maxUploadRetryTime(),v=new pt(n,"POST",(function(t,n){var i,s=kt(t,["active","final"]),a=c.current+l,u=r.size();return i="final"===s?gt(e,o)(t,n):null,new Tt(a,u,"final"===s,i)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=yt(t),v}(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(a){return t.error_=a,void t.transition_(D.ERROR)}var s=t.authWrapper_.makeRequest(o,i);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(D.SUCCESS)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=bt(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(D.SUCCESS)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var c=Et(e,r,i),u=st(c,n),l=$.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw y();var h={name:c.fullPath},d=tt(o),f=t.maxUploadRetryTime(),p=new pt(d,"POST",gt(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=yt(e),p}(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(D.SUCCESS)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case D.CANCELING:case D.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case D.RUNNING:var e=this.state_===D.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case D.PAUSED:this.state_=t,this.notifyObservers_();break;case D.CANCELED:this.error_=g(),this.state_=t,this.notifyObservers_();break;case D.ERROR:case D.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case D.PAUSING:this.transition_(D.PAUSED);break;case D.CANCELING:this.transition_(D.CANCELED);break;case D.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=N(this.state_);return new xt(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==O.STATE_CHANGED)throw"Expected one of the event types: ["+O.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=Ft(!0).validator,a=Lt(null,!0).validator;function c(t){try{return void s(t)}catch(e){}try{if(a(t),!(M(t.next)||M(t.error)||M(t.complete)))throw"";return}catch(e){throw o}}var u=[Dt(i),Lt(c,!0),Ft(!0),Ft(!0)];At("on",u,arguments);var l=this;function h(t){return function(e,n,i){null!==t&&At("on",t,arguments);var o=new It(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function d(t){if(null===t)throw o;c(t)}var f=[Lt(d),Ft(!0),Ft(!0)],p=!(M(e)||M(n)||M(r));return p?h(f):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(N(this.state_)){case P.SUCCESS:Ut(this.resolve_.bind(null,this.snapshot))();break;case P.CANCELED:case P.ERROR:Ut(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(N(this.state_)){case P.RUNNING:case P.PAUSED:t.next&&Ut(t.next.bind(t,this.snapshot))();break;case P.SUCCESS:t.complete&&Ut(t.complete.bind(t))();break;case P.CANCELED:case P.ERROR:t.error&&Ut(t.error.bind(t,this.error_))();break;default:t.error&&Ut(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){At("resume",[],arguments);var t=this.state_===D.PAUSED||this.state_===D.PAUSING;return t&&this.transition_(D.RUNNING),t},t.prototype.pause=function(){At("pause",[],arguments);var t=this.state_===D.RUNNING;return t&&this.transition_(D.PAUSING),t},t.prototype.cancel=function(){At("cancel",[],arguments);var t=this.state_===D.RUNNING||this.state_===D.PAUSING;return t&&this.transition_(D.CANCELING),t},t}(),Vt=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof Y?e:Y.makeFromUrl(e)}return t.prototype.toString=function(){return At("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return function(){if(it)return it;var t=[];t.push(new rt("bucket")),t.push(new rt("generation")),t.push(new rt("metageneration")),t.push(new rt("name","fullPath",!0));var e=new rt("name");e.xform=function(t,e){return function(t){return!j(t)||t.length<2?t:J(t)}(e)},t.push(e);var n=new rt("size");return n.xform=function(t,e){return R(e)?Number(e):e},t.push(n),t.push(new rt("timeCreated")),t.push(new rt("updated")),t.push(new rt("md5Hash",null,!0)),t.push(new rt("cacheControl",null,!0)),t.push(new rt("contentDisposition",null,!0)),t.push(new rt("contentEncoding",null,!0)),t.push(new rt("contentLanguage",null,!0)),t.push(new rt("contentType",null,!0)),t.push(new rt("metadata","customMetadata",!0)),it=t}()},t.prototype.child=function(t){At("child",[Dt()],arguments);var e=Z(this.location.path,t),n=new Y(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new Y(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new Y(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return J(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),At("put",[Pt(),Nt(!0)],arguments),this.throwIfRoot_("put"),new jt(this,this.authWrapper,this.location,this.mappings(),new $(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=S.RAW),At("putString",[Dt(),Dt(E,!0),Nt(!0)],arguments),this.throwIfRoot_("putString");var r=k(e,t),i=Object.assign({},n);return!R(i.contentType)&&R(r.contentType)&&(i.contentType=r.contentType),new jt(this,this.authWrapper,this.location,this.mappings(),new $(r.data,!0),i)},t.prototype.delete=function(){var t=this;return At("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(e){var n=St(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){At("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return Object(o.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:e})];case 1:return n=o.sent(),(r=t.prefixes).push.apply(r,n.prefixes),(i=t.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(t,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){At("list",[Rt(!0)],arguments);var e=this;return this.authWrapper.getAuthToken().then((function(n){var r=t||{},i=_t(e.authWrapper,e.location,"/",r.pageToken,r.maxResults);return e.authWrapper.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return At("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(e){var n=bt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return At("updateMetadata",[Nt()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=Ct(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return At("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(e){var n=wt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw v();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new d(f.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),Bt=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),qt=function(){function t(){this.map=new Map,this.id=h}return t.prototype.addRequest=function(t){var e=this,n=this.id;this.id++,this.map.set(n,t),t.getPromise().then((function(){return e.map.delete(n)}),(function(){return e.map.delete(n)}))},t.prototype.clear=function(){this.map.forEach((function(t){t&&t.cancel(!0)})),this.map.clear()},t}(),Ht=function(){function t(e,n,r,i,o,s){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;R(a)&&(this.bucket_=t.extractBucket_(a))}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=s,this.service_=o,this.maxOperationRetryTime_=u,this.maxUploadRetryTime_=l,this.requestMap_=new qt}return t.extractBucket_=function(t){var e=t[c]||null;return null==e?null:Y.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){var t=this.authProvider_.getImmediate({optional:!0});return t?t.getToken().then((function(t){return null!==t?t.accessToken:null}),(function(){return null})):Promise.resolve(null)},t.prototype.bucket=function(){if(this.deleted_)throw _();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Bt(_());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),Wt=function(){function t(t,e,n,r,i,o,s,a,c,u,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());M(a)?i(a):i()}catch(c){o(c)}else null!==s?((r=m()).setServerResponseProp(s.getResponseText()),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?_():g():new d(f.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new zt(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,i=null,s=!1,a=0;function c(){return 2===a}var u=!1;function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function h(e){i=setTimeout((function(){i=null,t(d,c())}),e)}function d(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(t?l.call.apply(l,Object(o.__spreadArrays)([null,t],n)):c()||s?l.call.apply(l,Object(o.__spreadArrays)([null,t],n)):(r<64&&(r*=2),1===a?(a=2,e=0):e=1e3*(r+Math.random()),h(e)))}var f=!1;function p(t){f||(f=!0,u||(null!==i?(t||(a=2),clearTimeout(i),h(0)):t||(a=1)))}return h(0),setTimeout((function(){s=!0,p(!0)}),n),p}((function(e,n){if(n)e(!1,new zt(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===W.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new zt(s,n))}else{var a=n.getErrorCode()===W.ABORT;e(!1,new zt(!1,null,a))}}))}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),zt=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function Gt(t,e,n){var r=et(t.urlParams),o=t.url+r,s=Object.assign({},t.headers);return function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,e),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==i.a?i.a.SDK_VERSION:"AppManager")}(s),new Wt(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var Kt=function(){function t(t,e,n,r){if(this.bucket_=null,this.authWrapper_=new Ht(t,e,(function(t,e){return new Vt(t,e)}),Gt,this,n),this.app_=t,null!=r)this.bucket_=Y.makeFromBucketSpec(r);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new Y(i,""))}this.internals_=new Qt(this)}return t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(At("ref",[Dt(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Vt(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{Y.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return At("refFromURL",[Dt(e,!1)],arguments),new Vt(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){At("setMaxUploadRetryTime",[Mt()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},t.prototype.setMaxOperationRetryTime=function(t){At("setMaxOperationRetryTime",[Mt()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Qt=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},t}(),$t="@firebase/storage",Yt="0.3.22",Xt="storage";function Zt(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new Kt(n,r,new G,e)}function Jt(t){var e={TaskState:P,TaskEvent:O,StringFormat:S,Storage:Kt,Reference:Vt};t.INTERNAL.registerComponent(new s.Component(Xt,Zt,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion($t,Yt)}Jt(i.a)},MkmW:function(t,e,n){"use strict";e.hostReportError=function(t){setTimeout((function(){throw t}),0)}},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,s=n("mrSG"),a=n("zVF4"),c=n("q/0M"),u=n("S+S0"),l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),a.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:a.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return a.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(n){}return new h},f=d("localStorage"),p=d("sessionStorage"),m=new c.Logger("@firebase/database"),g=(i=1,function(){return i++}),y=function(t){var e=a.stringToByteArray(t),n=new a.Sha1;n.update(e);var r=n.digest();return a.base64.encodeByteArray(r)},v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"==typeof t[r]&&"number"==typeof t[r].length?n+=v.apply(null,t[r]):n+="object"==typeof t[r]?a.stringify(t[r]):t[r],n+=" ";return n},b=null,_=!0,w=function(t,e){a.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=c.LogLevel.VERBOSE,b=m.log.bind(m),e&&p.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,p.remove("logging_enabled"))},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===_&&(_=!1,null===b&&!0===p.get("logging_enabled")&&w(!0)),b){var n=v.apply(null,t);b(n)}},S=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];C.apply(void 0,s.__spread([t],e))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+v.apply(void 0,s.__spread(t));m.error(n)},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+v.apply(void 0,s.__spread(t));throw m.error(n),new Error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+v.apply(void 0,s.__spread(t));m.warn(n)},I=function(t){return"number"==typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},x="[MIN_NAME]",A="[MAX_NAME]",O=function(t,e){if(t===e)return 0;if(t===x||e===A)return-1;if(e===x||t===A)return 1;var n=Q(t),r=Q(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},D=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+a.stringify(e))},N=function(t){if("object"!=typeof t||null===t)return a.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=a.stringify(e[i]),r+=":",r+=N(t[e[i]]);return r+"}"},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function M(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L,F,U,j,V,B,q,H,W,z,G=function(t){var e,n,r,i,o,s,c;for(a.assert(!I(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),s=[],o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse(),c=s.join("");var u="";for(o=0;o<64;o+=8){var l=parseInt(c.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},K=new RegExp("^-?(0*)\\d{1,10}$"),Q=function(t){if(K.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},$=function(t){try{t()}catch(e){setTimeout((function(){throw k("Exception was thrown by user callback.",e.stack||""),e}),Math.floor(0))}},Y=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},X=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Z=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=O(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),J=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=a.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=a.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=a.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),tt="long_polling",et=function(){function t(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(a.assert("string"==typeof t,"typeof type must == string"),a.assert("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==tt)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return M(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),nt=function(t){var e=rt(t),n=e.namespace;return"firebase"===e.domain&&T(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new et(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,"",n!=e.subdomain),path:new Z(e.pathString)}},rt=function(t){var e="",n="",r="",i="",o="",a=!0,c="https",u=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=s.__values(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var c=a.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):k("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,u=parseInt(e.substring(l+1),10)):l=t.length;var p=e.split(".");3===p.length?(n=p[1],o=r=p[0].toLowerCase()):2===p.length?n=p[0]:"localhost"===p[0].slice(0,l).toLowerCase()&&(n="localhost"),"ns"in f&&(o=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:o}},it=/[\[\].#$\/\u0000-\u001F\u007F]/,ot=/[\[\].#$\u0000-\u001F\u007F]/,st=function(t){return"string"==typeof t&&0!==t.length&&!it.test(t)},at=function(t){return"string"==typeof t&&0!==t.length&&!ot.test(t)},ct=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!I(t)||t&&"object"==typeof t&&a.contains(t,".sv")},ut=function(t,e,n,r,i){i&&void 0===n||lt(a.errorPrefix(t,e,i),n,r)},lt=function(t,e,n){var r=n instanceof Z?new J(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(I(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&a.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(M(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!st(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),lt(t,n,r),r.pop()})),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},ht=function(t,e,n,r,i){if(!i||void 0!==n){var o=a.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];M(n,(function(t,e){var n=new Z(t);if(lt(o,e,r.child(n)),".priority"===n.getBack()&&!ct(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!st(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Z.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},dt=function(t,e,n,r){if(!r||void 0!==n){if(I(n))throw new Error(a.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ct(n))throw new Error(a.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ft=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(a.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},pt=function(t,e,n,r){if(!(r&&void 0===n||st(n)))throw new Error(a.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},mt=function(t,e,n,r){if(!(r&&void 0===n||at(n)))throw new Error(a.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},gt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),mt(t,e,n,r)},yt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},vt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!st(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),at(t)}(r))throw new Error(a.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},bt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(a.errorPrefix(t,e,r)+"must be a boolean.")},_t=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){a.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),a.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){a.validateArgCount("OnDisconnect.remove",0,1,arguments.length),yt("OnDisconnect.remove",this.path_),a.validateCallback("OnDisconnect.remove",1,t,!0);var e=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){a.validateArgCount("OnDisconnect.set",1,2,arguments.length),yt("OnDisconnect.set",this.path_),ut("OnDisconnect.set",1,t,this.path_,!1),a.validateCallback("OnDisconnect.set",2,e,!0);var n=new a.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){a.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),yt("OnDisconnect.setWithPriority",this.path_),ut("OnDisconnect.setWithPriority",1,t,this.path_,!1),dt("OnDisconnect.setWithPriority",2,e,!1),a.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new a.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(a.validateArgCount("OnDisconnect.update",1,2,arguments.length),yt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("OnDisconnect.update",1,t,this.path_,!1),a.validateCallback("OnDisconnect.update",2,e,!0);var i=new a.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),wt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return a.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ct=(L="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",F=0,U=[],function(t){var e,n=t===F;F=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=L.charAt(t%64),t=Math.floor(t/64);a.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===U[e];e--)U[e]=0;U[e]++}else for(e=0;e<12;e++)U[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=L.charAt(U[e]);return a.assert(20===i.length,"nextPushId: Length should be 20."),i}),St=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Et=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new St(x,t),r=new St(x,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return St.MIN},t}(),Tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return j},set:function(t){j=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return O(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw a.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return St.MIN},e.prototype.maxPost=function(){return new St(A,j)},e.prototype.makePost=function(t,e){return a.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new St(t,j)},e.prototype.toString=function(){return".key"},e}(Et),kt=new Tt,It=function(t){return"number"==typeof t?"number:"+G(t):"string:"+t},xt=function(t){if(t.isLeafNode()){var e=t.val();a.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&a.contains(e,".sv"),"Priority must be a string or number.")}else a.assert(t===V||t.isEmpty(),"priority of unexpected type.");a.assert(t===V||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},At=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,a.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),xt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return B},set:function(t){B=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(a.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+It(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?G(this.value_):this.value_,this.lazyHash_=y(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(a.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return a.assert(i>=0,"Unknown leaf type: "+n),a.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Ot=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?O(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return St.MIN},e.prototype.maxPost=function(){return new St(A,new At("[PRIORITY-POST]",H))},e.prototype.makePost=function(t,e){var n=q(t);return new St(e,new At("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Et)),Dt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Pt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Rt.EMPTY_NODE,this.right=null!=o?o:Rt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return(i=(r=n(t,(i=this).key))<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Rt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Rt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Nt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Pt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Rt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Pt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Dt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Dt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Dt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Nt,t}(),Mt=Math.log(2),Lt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Mt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Ft=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0==a)return null;if(1==a)return o=t[e],s=n?n(o):o,new Pt(s,o.node,Pt.BLACK,null,null);var c=parseInt(a/2,10)+e,u=i(e,c),l=i(c+1,r);return o=t[c],s=n?n(o):o,new Pt(s,o.node,Pt.BLACK,u,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var u=i(o+1,a),l=t[o],h=n?n(l):l;c(new Pt(h,l.node,r,null,u))},c=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));l?a(h,Pt.BLACK):(a(h,Pt.BLACK),a(h,Pt.RED))}return o}(new Lt(t.length));return new Rt(r||e,o)},Ut={},jt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return a.assert(Ut&&Ot,"ChildrenNode.ts has not been loaded"),W=W||new t({".priority":Ut},{".priority":Ot})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=a.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Rt?e:null},t.prototype.hasIndex=function(t){return a.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){a.assert(e!==kt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,c=n.getIterator(St.Wrap),u=c.getNext();u;)o=o||e.isDefinedOn(u.node),i.push(u),u=c.getNext();r=o?Ft(i,e.getCompare()):Ut;var l=e.toString(),h=s.__assign({},this.indexSet_);h[l]=e;var d=s.__assign({},this.indexes_);return d[l]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(a.map(this.indexes_,(function(t,i){var o=a.safeGet(r.indexSet_,i);if(a.assert(o,"Missing index implementation for "+i),t===Ut){if(o.isDefinedOn(e.node)){for(var s=[],c=n.getIterator(St.Wrap),u=c.getNext();u;)u.name!=e.name&&s.push(u),u=c.getNext();return s.push(e),Ft(s,o.getCompare())}return Ut}var l=n.get(e.name),h=t;return l&&(h=h.remove(new St(e.name,l))),h.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(a.map(this.indexes_,(function(t){if(t===Ut)return t;var r=n.get(e.name);return r?t.remove(new St(e.name,r)):t})),this.indexSet_)},t}();function Vt(t,e){return O(t.name,e.name)}function Bt(t,e){return O(t,e)}var qt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&xt(this.priorityNode_),this.children_.isEmpty()&&a.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return z||(z=new t(new Rt(Bt),null,jt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||z},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?z:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(a.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r,i=new St(e,n),o=void 0,s=void 0;return n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(i,this.children_)),r=o.isEmpty()?z:this.priorityNode_,new t(o,r,s)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;a.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ot,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+It(this.getPriority().val())+":"),this.forEachChild(Ot,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":y(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new St(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new St(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new St(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,St.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,St.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ht?-1:0},t.prototype.withIndex=function(e){if(e===kt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===kt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Ot),r=e.getIterator(Ot),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===kt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Ht=new(function(t){function e(){return t.call(this,new Rt(Bt),qt.EMPTY_NODE,jt.Default)||this}return s.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return qt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(qt));Object.defineProperties(St,{MIN:{value:new St(x,qt.EMPTY_NODE)},MAX:{value:new St(A,Ht)}}),Tt.__EMPTY_NODE=qt.EMPTY_NODE,At.__childrenNodeConstructor=qt,V=Ht,function(t){H=t}(Ht);var Wt=!0;function zt(t,e){if(void 0===e&&(e=null),null===t)return qt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),a.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new At(t,zt(e));if(t instanceof Array||!Wt){var n=qt.EMPTY_NODE;return M(t,(function(e,r){if(a.contains(t,e)&&"."!==e.substring(0,1)){var i=zt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(zt(e))}var r=[],i=!1;if(M(t,(function(t,e){if("."!==t.substring(0,1)){var n=zt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new St(t,n)))}})),0==r.length)return qt.EMPTY_NODE;var o=Ft(r,Vt,(function(t){return t.name}),Bt);if(i){var s=Ft(r,Ot.getCompare());return new qt(o,zt(e),new jt({".priority":s},{".priority":Ot}))}return new qt(o,zt(e),jt.Default)}!function(t){q=t}(zt);var Gt,Kt,Qt,$t=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?O(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return St.MIN},e.prototype.maxPost=function(){return St.MAX},e.prototype.makePost=function(t,e){var n=zt(t);return new St(e,n)},e.prototype.toString=function(){return".value"},e}(Et)),Yt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,a.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return s.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?O(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=zt(t),r=qt.EMPTY_NODE.updateChild(this.indexPath_,n);return new St(e,r)},e.prototype.maxPost=function(){var t=qt.EMPTY_NODE.updateChild(this.indexPath_,Ht);return new St(A,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Et),Xt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return a.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return a.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return a.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return a.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){a.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),mt("DataSnapshot.child",1,e,!1);var n=new Z(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Ot)},t.prototype.hasChild=function(t){a.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),mt("DataSnapshot.hasChild",1,t,!1);var e=new Z(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return a.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(a.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),a.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Ot))}))},t.prototype.hasChildren=function(){return a.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return a.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return a.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),Zt=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+a.stringify(this.snapshot.exportVal())},t}(),Jt=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),te=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Zt("value",this,new Xt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Jt(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),ee=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return a.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Jt(this,t,e):null},t.prototype.createEvent=function(t,e){a.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Zt(t.type,this,new Xt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){a.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),ne=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(Gt,"Reference.ts has not been loaded"),Gt},set:function(t){Gt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===kt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=x)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!=A)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Ot){if(null!=e&&!ct(e)||null!=n&&!ct(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(a.assert(t.getIndex()instanceof Yt||t.getIndex()===$t,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return a.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){a.validateArgCount("Query.on",2,4,arguments.length),ft("Query.on",1,e,!1),a.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new te(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new ee(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){a.validateArgCount("Query.off",0,3,arguments.length),ft("Query.off",1,t,!0),a.validateCallback("Query.off",2,e,!0),a.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new te(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new ee(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;a.validateArgCount("Query.once",1,4,arguments.length),ft("Query.once",1,e,!1),a.validateCallback("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),c=!0,u=new a.Deferred;u.promise.catch((function(){}));var l=function(t){c&&(c=!1,o.off(e,l),n&&n.bind(s.context)(t),u.resolve(t))};return this.on(e,l,(function(t){o.off(e,l),s.cancel&&s.cancel.bind(s.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if(a.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(a.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(a.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');mt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Z(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Yt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){a.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){a.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Ot);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){a.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy($t);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.startAt",0,2,arguments.length),ut("Query.startAt",1,e,this.path,!0),pt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),a.validateArgCount("Query.endAt",0,2,arguments.length),ut("Query.endAt",1,e,this.path,!0),pt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(a.validateArgCount("Query.equalTo",1,2,arguments.length),ut("Query.equalTo",1,t,this.path,!1),pt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return a.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return a.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=N(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(a.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,a.validateCallback(t,3,r.cancel,!0),r.context=n,a.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(a.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),re=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Ot,(function(t,e){n.remember(new Z(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new Z(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}(),ie=function(t,e,n){return t&&"object"==typeof t?(a.assert(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?oe(t[".sv"],e,n):"object"==typeof t[".sv"]?se(t[".sv"],e):void a.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},oe=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:a.assert(!1,"Unexpected server value: "+t)}},se=function(t,e,n){t.hasOwnProperty("increment")||a.assert(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;if("number"!=typeof r&&a.assert(!1,"Unexpected increment value: "+r),!e.isLeafNode())return r;var i=e.getValue();return"number"!=typeof i?r:i+r},ae=function(t,e,n){var r,i=t.getPriority().val(),o=ie(i,e.getPriority(),n);if(t.isLeafNode()){var s=t,a=ie(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new At(a,zt(o)):t}var c=t;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new At(o))),c.forEachChild(Ot,(function(t,i){var o=ae(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r},ce=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),ue=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,a.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),le=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ce.ACK_USER_WRITE,this.source=ue.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return a.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Z(e));return new t(Z.Empty,n,this.revert)}return a.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),he=function(){return Kt||(Kt=new Rt(D)),Kt},de=function(){function t(t,e){void 0===e&&(e=he()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return M(e,(function(t,e){n=n.set(new Z(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Z.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new Z(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(Z.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Z.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Z.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Z.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),fe=function(){function t(t,e){this.source=t,this.path=e,this.type=ce.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Z.Empty):new t(this.source,this.path.popFront())},t}(),pe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ce.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Z.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),me=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ce.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Z(e));return n.isEmpty()?null:n.value?new pe(this.source,Z.Empty,n.value):new t(this.source,Z.Empty,n)}return a.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),ge=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ye=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new ge(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new ge(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new ge(qt.EMPTY_NODE,!1,!1),new ge(qt.EMPTY_NODE,!1,!1)),t}(),ve=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),be=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){a.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ve.childRemovedChange(e,s)):a.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(ve.childAddedChange(e,n)):o.trackChildChange(ve.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ot,(function(t,r){e.hasChild(t)||n.trackChildChange(ve.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Ot,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ve.childChangedChange(e,r,i))}else n.trackChildChange(ve.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?qt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),_e=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;a.assert(e==ve.CHILD_ADDED||e==ve.CHILD_CHANGED||e==ve.CHILD_REMOVED,"Only child changes supported for tracking"),a.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e==ve.CHILD_ADDED&&i==ve.CHILD_REMOVED)this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e==ve.CHILD_REMOVED&&i==ve.CHILD_ADDED)this.changeMap.delete(n);else if(e==ve.CHILD_REMOVED&&i==ve.CHILD_CHANGED)this.changeMap.set(n,ve.childRemovedChange(n,r.oldSnap));else if(e==ve.CHILD_CHANGED&&i==ve.CHILD_ADDED)this.changeMap.set(n,ve.childAddedChange(n,t.snapshotNode));else{if(e!=ve.CHILD_CHANGED||i!=ve.CHILD_CHANGED)throw a.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),we=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ce=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new ge(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Se=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),Ee=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){a.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),a.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,s,c=new _e;if(n.type===ce.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,c):(a.assert(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,s,c))}else if(n.type===ce.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(e,l.path,l.children,r,i,c):(a.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,l.path,l.children,r,i,s,c))}else if(n.type===ce.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,r,i,c):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,c)}else{if(n.type!==ce.LISTEN_COMPLETE)throw a.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,c)}var d=c.getChanges();return t.maybeAddValueEvent_(e,o,d),new Se(o,d)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ve.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,c=void 0;if(e.isEmpty())if(a.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(u instanceof qt?u:qt.EMPTY_NODE);s=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var d=e.getFront();if(".priority"==d){a.assert(1==e.getLength(),"Can't have a priority with additional path components");var f=o.getNode();c=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,f,c);s=null!=p?this.filter_.updatePriority(f,p):o.getNode()}else{var m=e.popFront(),g=void 0;if(o.isCompleteForChild(d)){c=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),c);g=null!=y?o.getNode().getImmediateChild(d).updateChild(m,y):o.getNode().getImmediateChild(d)}else g=n.calcCompleteChild(d,t.getServerCache());s=null!=g?this.filter_.updateChild(o.getNode(),d,g,m,r,i):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,c=t.getServerCache(),u=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=u.updateFullNode(c.getNode(),n,null);else if(u.filtersNodes()&&!c.isFiltered()){var l=c.getNode().updateChild(e,n);a=u.updateFullNode(c.getNode(),l,null)}else{var h=e.getFront();if(!c.isCompleteForPath(e)&&e.getLength()>1)return t;var d=e.popFront(),f=c.getNode().getImmediateChild(h).updateChild(d,n);a=".priority"==h?u.updatePriority(c.getNode(),f):u.updateChild(c.getNode(),h,f,d,we,null)}var p=t.updateServerSnap(a,c.isFullyInitialized()||e.isEmpty(),u.filtersNodes()),m=new Ce(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,m,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,c=t.getEventCache(),u=new Ce(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,c.isFullyInitialized(),c.isFiltered());else{var h=e.popFront(),d=c.getNode().getImmediateChild(l),f=void 0;if(h.isEmpty())f=n;else{var p=u.getCompleteChild(l);f=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):qt.EMPTY_NODE}if(d.equals(f))s=t;else{var m=this.filter_.updateChild(c.getNode(),l,f,h,u,o);s=t.updateEventSnap(m,c.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,c=e;return r.foreach((function(r,u){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(c=a.applyUserOverwrite_(c,l,u,i,o,s))})),r.foreach((function(r,u){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(c=a.applyUserOverwrite_(c,l,u,i,o,s))})),c},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var c,u=t;c=e.isEmpty()?n:de.Empty.setTree(e,n);var l=t.getServerCache().getNode();return c.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var c=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(c,n);u=a.applyServerOverwrite_(u,new Z(e),h,r,i,o,s)}})),c.children.inorderTraversal((function(e,n){var c=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!c){var h=t.getServerCache().getNode().getImmediateChild(e),d=a.applyMerge_(h,n);u=a.applyServerOverwrite_(u,new Z(e),d,r,i,o,s)}})),u},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var c=de.Empty;return a.getNode().forEachChild(kt,(function(t,e){c=c.set(new Z(t),e)})),this.applyServerMerge_(t,e,c,r,i,s,o)}return t}var u=de.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(u=u.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,u,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,we,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var s=new Ce(n,t,r),c=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();a.assert(h instanceof qt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}u=this.filter_.updateFullNode(c,l=l,i)}else{var d=e.getFront(),f=n.calcCompleteChild(d,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(d)&&(f=c.getImmediateChild(d)),(u=null!=f?this.filter_.updateChild(c,d,f,e.popFront(),s,i):t.getEventCache().getNode().hasChild(d)?this.filter_.updateChild(c,d,qt.EMPTY_NODE,e.popFront(),s,i):c).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Z.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),Te=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===ve.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ve.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,ve.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,ve.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,ve.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,ve.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,ve.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw a.assertionError("Should only compare child_ events.");var n=new St(t.childName,t.snapshotNode),r=new St(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),ke=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new be(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ee(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(qt.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(qt.EMPTY_NODE,s.getNode(),null),u=new ge(a,o.isFullyInitialized(),r.filtersNodes()),l=new ge(c,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ye(l,u),this.eventGenerator_=new Te(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){a.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===ce.MERGE&&null!==t.source.queryId&&(a.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),a.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),a.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Ot,(function(t,e){n.push(ve.childAddedChange(t,e))})),e.isFullyInitialized()&&n.push(ve.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Ie=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return a.assert(Qt,"Reference.ts has not been loaded"),Qt},set:function(t){a.assert(!Qt,"__referenceConstructor has already been defined"),Qt=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var c=this.views.get(o);return a.assert(null!=c,"SyncTree gave us an op for an invalid query."),c.applyOperation(t,e,n)}var u=[];try{for(var l=s.__values(this.views.values()),h=l.next();!h.done;h=l.next())u=u.concat((c=h.value).applyOperation(t,e,n))}catch(d){r={error:d}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return u},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),c=!1;a?c=!0:r instanceof qt?(a=n.calcCompleteEventChildren(r),c=!1):(a=qt.EMPTY_NODE,c=!1);var u=new ye(new ge(a,c,!1),new ge(r,i,!1));s=new ke(t,u),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,a=e.queryIdentifier(),c=[],u=[],l=this.hasCompleteView();if("default"===a)try{for(var h=s.__values(this.views.entries()),d=h.next();!d.done;d=h.next()){var f,p=s.__read(d.value,2),m=p[0];u=u.concat((f=p[1]).removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(m),f.getQuery().getQueryParams().loadsAllData()||c.push(f.getQuery()))}}catch(g){i={error:g}}finally{try{d&&!d.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(f=this.views.get(a))&&(u=u.concat(f.removeEventRegistration(n,r)),f.isEmpty()&&(this.views.delete(a),f.getQuery().getQueryParams().loadsAllData()||c.push(f.getQuery())));return l&&!this.hasCompleteView()&&c.push(new t.__referenceConstructor(e.repo,e.path)),{removed:c,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=s.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=s.__values(this.views.values()),o=i.next();!o.done;o=i.next())r=r||o.value.getCompleteServerCache(t)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=s.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),xe=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new de(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=Z.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new de(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return M(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,de.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Z.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ot,(function(e,n){t.push(new St(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new St(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new de(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(a.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}(Z.Empty,this.writeTree_,t)},t.Empty=new t(new de(null)),t}(),Ae=function(){function t(){this.visibleWrites_=xe.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Oe(t,this)},t.prototype.addOverwrite=function(t,e,n,r){a.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){a.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));a.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var c=this.allWrites_[s];c.visible&&(s>=n&&this.recordContainsPath_(c,r.path)?i=!1:r.path.contains(c.path)&&(o=!0)),s--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):M(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(Z.Empty)?t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e).apply(n||qt.EMPTY_NODE):null}var s=this.visibleWrites_.getCompleteNode(e);if(null!=s)return s;var a=this.visibleWrites_.childCompoundWrite(e);return a.isEmpty()?n:null!=n||a.hasCompleteWrite(Z.Empty)?a.apply(n||qt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=qt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Ot,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Ot,(function(t,e){var r=i.childCompoundWrite(new Z(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){a.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),c=a.getCompleteNode(Z.Empty);if(null!=c)s=c;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var u=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),d=h.getNext();d&&u.length<r;)0!==l(d,n)&&u.push(d),d=h.getNext();return u},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Z.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=xe.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,c=void 0;if(o.snap)n.contains(s)?(c=Z.relativePath(n,s),r=r.addWrite(c,o.snap)):s.contains(n)&&(c=Z.relativePath(s,n),r=r.addWrite(Z.Empty,o.snap.getChild(c)));else{if(!o.children)throw a.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))c=Z.relativePath(n,s),r=r.addWrites(c,o.children);else if(s.contains(n))if((c=Z.relativePath(s,n)).isEmpty())r=r.addWrites(Z.Empty,o.children);else{var u=a.safeGet(o.children,c.getFront());if(u){var l=u.getChild(c.popFront());r=r.addWrite(Z.Empty,l)}}}}}return r},t}(),Oe=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),De=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=de.Empty,this.pendingWriteTree_=new Ae,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new pe(ue.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=de.fromObject(e);return this.applyOperationToSyncPoints_(new me(ue.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=de.Empty;return null!=n.snap?r=r.set(Z.Empty,!0):M(n.children,(function(t,e){r=r.set(new Z(t),e)})),this.applyOperationToSyncPoints_(new le(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new pe(ue.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=de.fromObject(e);return this.applyOperationToSyncPoints_(new me(ue.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new fe(ue.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,c=Z.relativePath(s,e),u=new pe(ue.forServerTaggedQuery(a),c,n);return this.applyTaggedOperation_(s,u)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,c=Z.relativePath(s,e),u=de.fromObject(n),l=new me(ue.forServerTaggedQuery(a),c,u);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=Z.relativePath(o,e),c=new fe(ue.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,c)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Z.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var s,c=this.syncPointTree_.get(r);c?(o=o||c.hasCompleteView(),i=i||c.getCompleteServerCache(Z.Empty)):(c=new Ie,this.syncPointTree_=this.syncPointTree_.set(r,c)),null!=i?s=!0:(s=!1,i=qt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(Z.Empty);n&&(i=i.updateImmediateChild(t,n))})));var u=c.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);a.assert(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var d=this.pendingWriteTree_.childWrites(r),f=c.addEventRegistration(e,n,d,i,s);if(!u&&!o){var p=c.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var c=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var u=c.removed;a=c.events;var l=-1!==u.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var d=this.syncPointTree_.subtree(o);if(!d.isEmpty())for(var f=this.collectDistinctViewsForSubTree_(d),p=0;p<f.length;++p){var m=f[p],g=m.getQuery(),y=this.createListenerForView_(m);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}!h&&u.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):u.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}))),this.removeTags_(u)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=Z.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),M(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),c=this.syncPointTree_.subtree(r);if(i)a.assert(!c.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),M(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<u.length;++l){var h=u[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||qt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return a.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Z(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);a.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Z.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Z.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Z.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){var u=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,c,u,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Z.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Z.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,c=r.child(e),u=t.operationForChild(e);u&&(s=s.concat(i.applyOperationDescendantsHelper_(u,o,a,c)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Pe=function(){function t(){this.rootNode_=qt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ne=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';k(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Re=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),a.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return a.deepCopy(this.counters_)},t}(),Me=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Re),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Le=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=s.__assign({},t);return this.last_&&M(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Fe=1e4,Ue=3e4,je=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Le(t);var n=Fe+(Ue-Fe)*Math.random();X(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;M(e,(function(e,i){i>0&&a.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),X(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Ve=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Be(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Be=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();b&&C("event: "+e.toString()),$(n)}}},t.prototype.getPath=function(){return this.path_},t}(),qe=function(){function t(t){this.allowedEvents_=t,this.listeners_={},a.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=s.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){a.assert(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),He=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(qe),We=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||a.isMobileCordova()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return a.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(qe),ze=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&$((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),Ge="pLPCommand",Ke="pRTLPCB",Qe=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(t),this.stats_=Me.getCollection(e),this.urlFn=function(t){return e.connectionURL(tt,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ze(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if(a.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new $e((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=s.__read(t,5),i=r[0],o=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==i)n.id=o,n.password=a;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=s.__read(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(a.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=a.base64Encode(e),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!a.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=a.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),$e=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,a.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window[Ge+this.uniqueCallbackIdentifier]=e,window[Ke+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(c){C("frame writing exception"),c.stack&&C(c.stack),C(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||C("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;a.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){C("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Ye="",Xe=null;"undefined"!=typeof MozWebSocket?Xe=MozWebSocket:"undefined"!=typeof WebSocket&&(Xe=WebSocket);var Ze=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=Me.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!a.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(a.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+Ye+"/"+process.platform+"/"+(a.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,o=0==this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new Xe(this.connURL,[],r)}else this.mySock=new Xe(this.connURL)}catch(c){this.log_("Error instantiating WebSocket.");var s=c.message||c.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Xe&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=a.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(a.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=a.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Je=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Qe,Ze]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Ze&&Ze.isAvailable(),o=i&&!Ze.previouslyFailed();if(e.webSocketOnly&&(i||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ze];else{var a=this.transports_=[];try{for(var c=s.__values(t.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),tn=function(){function t(t,e,n,r,i,o,s){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new Je(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=X((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),X((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):X((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),en=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),nn=1e3,rn=3e5,on=function(t){function e(n,r,i,o,s,c){var u=t.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=i,u.onServerInfoUpdate_=o,u.authTokenProvider_=s,u.authOverride_=c,u.id=e.nextPersistentConnectionId_++,u.log_=S("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=nn,u.maxReconnectDelay_=rn,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,c&&!a.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),He.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&We.getInstance().on("online",u.onOnline_,u),u}return s.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r,a:t,b:e};this.log_(a.stringify(i)),a.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),a.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,c=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(i,o),t.onComplete&&t.onComplete(c,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&a.contains(t,"w")){var n=a.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||a.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=a.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),a.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+a.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+a.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;a.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=nn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,s=this.lastSessionId,c=!1,u=null,l=function(){u?u.close():(c=!0,r())};this.realtime_={close:l,sendRequest:function(t){a.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){c?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new tn(i,o.repoInfo_,t,n,r,(function(t){k(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),s))})).then(null,(function(t){o.log_("Failed to get token: "+t),c||(a.CONSTANTS.NODE_ADMIN&&k(t),l())}))}},e.prototype.interrupt=function(t){C("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){C("Resuming connection for reason: "+t),delete this.interruptReasons_[t],a.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=nn,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return N(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Z(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){C("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=s.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var c=(n=void 0,s.__values(a.values())),u=c.next();!u.done;u=c.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";a.CONSTANTS.NODE_ADMIN?e="admin_node":a.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+Ye.replace(/\./g,"-")]=1,a.isMobileCordova()?t["framework.cordova"]=1:a.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=We.getInstance().currentlyOnline();return a.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(en),sn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=S("p:rest:"),i.listens_={},i}return s.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(a.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var c=e.getListenId_(t,r),u={};this.listens_[c]=u;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,(function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),a.safeGet(o.listens_,c)===u&&i(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+a.querystring(e);r.log_("Sending REST request for "+s);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(n&&4===c.readyState){r.log_("REST Response for "+s+" received. status:",c.status,"response:",c.responseText);var t=null;if(c.status>=200&&c.status<300){try{t=a.jsonEval(c.responseText)}catch(e){k("Failed to parse JSON response for "+s+": "+c.responseText)}n(null,t)}else 401!==c.status&&404!==c.status&&k("Got unsuccessful REST response for "+s+" Status: "+c.status),n(c.status);n=null}},c.open("GET",s,!0),c.send()}))},e}(en),an=function(){function t(t,e,n,r){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ve,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new re,this.persistentConnection_=null;var o=new Ne(n,r);if(this.stats_=Me.getCollection(t),e||Y())this.server_=new sn(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var s=n.options.databaseAuthVariableOverride;if(null!=s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{a.stringify(s)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}this.persistentConnection_=new on(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,s),this.server_=this.persistentConnection_}o.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=Me.getOrCreateReporter(t,(function(){return new je(i.stats_,i.server_)})),this.transactions_init_(),this.infoData_=new Pe,this.infoSyncTree_=new De({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new De({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Z(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var s=a.map(e,(function(t){return zt(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var c=zt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,c,r)}else if(n){var u=a.map(e,(function(t){return zt(t)}));o=this.serverSyncTree_.applyServerMerge(i,u)}else{var l=zt(e);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;M(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new Z("/.info/"+t),r=zt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=zt(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),c=ae(s,a,o),u=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,c,u,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o="ok"===e;o||k("set at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(M(e,(function(e,n){i=!1;var a=zt(n);s[e]=ae(a,r.serverSyncTree_.calcCompleteEventCache(t),o)})),i)C("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(c),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||k("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),c=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(c,s),r.callOnCompleteCallback(n,e,i)})),M(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e,n){var r=new re;return t.forEachTree(new Z(""),(function(t,i){var o=e.calcCompleteEventCache(t);a.assert(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),r.remember(t,ae(i,o,n))})),r}(this.onDisconnect_,this.serverSyncTree_,e),r=[];n.forEachTree(Z.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new re,this.eventQueue_.raiseEventsForChangedPath(Z.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=zt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=zt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(a.isEmpty(e))return C("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&M(e,(function(e,n){var i=zt(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Le(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);M(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),C.apply(void 0,s.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&$((function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new yn(this))},enumerable:!0,configurable:!0}),t}(),cn=function(){function t(e){this.indexedFilter_=new be(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new St(e,n))||(n=qt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=qt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(qt.EMPTY_NODE);var i=this;return e.forEachChild(Ot,(function(t,e){i.matches(new St(t,e))||(r=r.updateImmediateChild(t,qt.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),un=function(){function t(t){this.rangedFilter_=new cn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new St(e,n))||(n=qt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=qt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(qt.EMPTY_NODE);var a=void 0,c=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&u(a,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,c)<=0?o++:r=r.updateImmediateChild(s.name,qt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var c=t;a.assert(c.numChildren()==this.limit_,"");var u=new St(e,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name==e||c.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ve.childChangedChange(e,n,d)),c.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ve.childRemovedChange(e,d));var m=c.updateImmediateChild(e,qt.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(ve.childAddedChange(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}return n.isEmpty()?t:h&&o(l,u)>=0?(null!=i&&(i.trackChildChange(ve.childRemovedChange(l.name,l.node)),i.trackChildChange(ve.childAddedChange(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(l.name,qt.EMPTY_NODE)):t},t}(),ln=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ot}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return a.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return a.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:A},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return a.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Ot&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Ot},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new be(this.getIndex()):this.hasLimit()?new un(this):new cn(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Ot?e=n.PRIORITY_INDEX:this.index_===$t?e=n.VALUE_INDEX:this.index_===kt?e=n.KEY_INDEX:(a.assert(this.index_ instanceof Yt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=a.stringify(e),this.startSet_&&(r[n.START_AT]=a.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+a.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=a.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+a.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),hn=function(t){function e(e,n){if(!(e instanceof an))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,ln.DEFAULT,!1)||this}return s.__extends(e,t),e.prototype.getKey=function(){return a.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return a.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Z||(null===this.path.getFront()?gt("Reference.child",1,t,!1):mt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){a.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){a.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){a.validateArgCount("Reference.set",1,2,arguments.length),yt("Reference.set",this.path),ut("Reference.set",1,t,this.path,!1),a.validateCallback("Reference.set",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(a.validateArgCount("Reference.update",1,2,arguments.length),yt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ht("Reference.update",1,t,this.path,!1),a.validateCallback("Reference.update",2,e,!0);var i=new a.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(a.validateArgCount("Reference.setWithPriority",2,3,arguments.length),yt("Reference.setWithPriority",this.path),ut("Reference.setWithPriority",1,t,this.path,!1),dt("Reference.setWithPriority",2,e,!1),a.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new a.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return a.validateArgCount("Reference.remove",0,1,arguments.length),yt("Reference.remove",this.path),a.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(a.validateArgCount("Reference.transaction",1,3,arguments.length),yt("Reference.transaction",this.path),a.validateCallback("Reference.transaction",1,t,!1),a.validateCallback("Reference.transaction",2,e,!0),bt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new a.Deferred;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new wt(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){a.validateArgCount("Reference.setPriority",1,2,arguments.length),yt("Reference.setPriority",this.path),dt("Reference.setPriority",1,t,!1),a.validateCallback("Reference.setPriority",2,e,!0);var n=new a.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){a.validateArgCount("Reference.push",0,2,arguments.length),yt("Reference.push",this.path),ut("Reference.push",1,t,this.path,!0),a.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Ct(r),o=this.child(i),s=this.child(i);return n=null!=t?o.set(t,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return yt("Reference.onDisconnect",this.path),new _t(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(ne);ne.__referenceConstructor=hn,Ie.__referenceConstructor=hn;var dn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),fn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new dn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof Z?e:new Z(e),i=this;null!==(n=r.getFront());)i=new t(n,i,a.safeGet(i.node_.children,n)||new dn),r=r.popFront();return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){a.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;M(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new Z(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=a.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),pn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});an.MAX_TRANSACTION_RETRIES_=25,an.prototype.transactions_init_=function(){this.transactionQueueTree_=new fn},an.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new hn(this,t);o.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:g(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(t);s.currentInputSnapshot=c;var u=s.update(c.val());if(void 0===u){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new Xt(s.currentInputSnapshot,new hn(this,s.path),Ot);s.onComplete(null,!1,l)}}else{lt("transaction failed: Data returned ",u,s.path),s.status=pn.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(s),h.setValue(d);var f=void 0;"object"==typeof u&&null!==u&&a.contains(u,".priority")?(f=a.safeGet(u,".priority"),a.assert(ct(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(this.serverSyncTree_.calcCompleteEventCache(t)||qt.EMPTY_NODE).getPriority().val(),f=f;var p=this.generateServerValues(),m=zt(u,f),y=ae(m,c,p);s.currentOutputSnapshotRaw=m,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(t,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,v),this.sendReadyTransactions_()}},an.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||qt.EMPTY_NODE},an.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);a.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===pn.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},an.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,s=i.hash(),c=0;c<e.length;c++){var u=e[c];a.assert(u.status===pn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=pn.SENT,u.retryCount++;var l=Z.relativePath(t,u.path);o=o.updateChild(l,u.currentOutputSnapshotRaw)}var h=o.val(!0),d=t;this.server_.put(d.toString(),h,(function(r){n.log_("transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=pn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,c=new hn(n,e[s].path),u=new Xt(a,c,Ot);o.push(e[s].onComplete.bind(null,null,!0,u))}e[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),s=0;s<o.length;s++)$(o[s])}else{if("datastale"===r)for(s=0;s<e.length;s++)e[s].status=e[s].status===pn.SENT_NEEDS_ABORT?pn.NEEDS_ABORT:pn.RUN;else for(k("transaction at "+d.toString()+" failed: "+r),s=0;s<e.length;s++)e[s].status=pn.NEEDS_ABORT,e[s].abortReason=r;n.rerunTransactions_(t)}}),s)},an.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},an.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter((function(t){return t.status===pn.RUN})).map((function(t){return t.currentWriteId})),o=0;o<t.length;o++){var s=t[o],c=Z.relativePath(e,s.path),u=!1,l=void 0;if(a.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===pn.NEEDS_ABORT)u=!0,l=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===pn.RUN)if(s.retryCount>=an.MAX_TRANSACTION_RETRIES_)u=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,i);s.currentInputSnapshot=h;var d=t[o].update(h.val());if(void 0!==d){lt("transaction failed: Data returned ",d,s.path);var f=zt(d);"object"==typeof d&&null!=d&&a.contains(d,".priority")||(f=f.updatePriority(h.getPriority()));var p=s.currentWriteId,m=this.generateServerValues(),g=ae(f,h,m);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,g,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else u=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],u&&(t[o].status=pn.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===l){var y=new hn(this,t[o].path),v=new Xt(t[o].currentInputSnapshot,y,Ot);n.push(t[o].onComplete.bind(null,null,!1,v))}else n.push(t[o].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)$(n[o]);this.sendReadyTransactions_()}},an.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},an.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},an.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},an.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==pn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},an.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},an.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===pn.SENT_NEEDS_ABORT||(e[o].status===pn.SENT?(a.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=pn.SENT_NEEDS_ABORT,e[o].abortReason="set"):(a.assert(e[o].status===pn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)$(n[o])}};var mn,gn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return mn||(mn=new t),mn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e,n){var r=n||t.options.databaseURL;void 0===r&&T("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=nt(r),o=i.repoInfo,s=void 0;return"undefined"!=typeof process&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s&&(o=(i=nt(r="http://"+s+"?ns="+o.namespace)).repoInfo),vt("Invalid Firebase Database URL",1,i),i.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t,e).database},t.prototype.deleteRepo=function(t){var e=a.safeGet(this.repos_,t.app.name);e&&a.safeGet(e,t.repoInfo_.toURLString())===t||T("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=a.safeGet(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=a.safeGet(r,t.toURLString());return i&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new an(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),yn=function(){function t(t){this.repo_=t,t instanceof an||T("Don't call new Database() directly - please use firebase.database()."),this.root_=new hn(t,Z.Empty),this.INTERNAL=new vn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),a.validateArgCount("database.ref",0,1,arguments.length),t instanceof hn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),a.validateArgCount(e,1,1,arguments.length);var n=nt(t);vt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&T(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&T("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){a.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){a.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},_increment:function(t){return{".sv":{increment:t}}}},t}(),vn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){return this.database.checkDeleted_("delete"),gn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),bn=Object.freeze({__proto__:null,forceLongPolling:function(){Ze.forceDisallow(),Qe.forceAllow()},forceWebSockets:function(){Qe.forceDisallow()},isWebSocketsAvailable:function(){return Ze.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),_n=on;on.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},on.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var wn=Object.freeze({__proto__:null,DataConnection:_n,RealTimeConnection:tn,hijackHash:function(t){var e=on.prototype.put;return on.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){on.prototype.put=e}},ConnectionTarget:et,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){gn.getInstance().forceRestClient(t)}}),Cn="@firebase/database",Sn="0.5.17",En=yn.ServerValue;function Tn(e){!function(t){Ye=t}(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new u.Component("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return gn.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:hn,Query:ne,Database:yn,DataSnapshot:Xt,enableLogging:w,INTERNAL:bn,ServerValue:En,TEST_ACCESS:wn}).setMultipleInstances(!0));e.registerVersion(Cn,Sn),a.isNodeSdk()&&(t.exports=n)}Tn(o),e.DataSnapshot=Xt,e.Database=yn,e.OnDisconnect=_t,e.Query=ne,e.Reference=hn,e.ServerValue=En,e.enableLogging=w,e.registerDatabase=Tn},O1kn:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;n("fSjL");var o,s=n("mrSG"),a=n("zVF4"),c=n("q/0M"),u=n("S+S0"),l=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}}))}))},t}(),h=((o={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",o["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",o["registration-api-key"]="Undefined API key. Check Firebase app initialization.",o["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",o["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",o["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",o["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",o["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",o["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",o["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',o["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',o["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",o["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",o),d=new a.ErrorFactory("remoteconfig","Remote Config",h),f=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n,r,i,o,a,c,u,l,h,f,p,m,g,y,v;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=s.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===b&&(b=navigator),b.languages&&b.languages[0]||b.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},a=fetch(r,o),c=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),s.label=2;case 2:return s.trys.push([2,5,,6]),[4,Promise.race([a,c])];case 3:return s.sent(),[4,a];case 4:return u=s.sent(),[3,6];case 5:throw l=s.sent(),h="fetch-client-network","AbortError"===l.name&&(h="fetch-timeout"),d.create(h,{originalErrorMessage:l.message});case 6:if(f=u.status,p=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];y=void 0,s.label=7;case 7:return s.trys.push([7,9,,10]),[4,u.json()];case 8:return y=s.sent(),[3,10];case 9:throw v=s.sent(),d.create("fetch-client-parse",{originalErrorMessage:v.message});case 10:m=y.entries,g=y.state,s.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===g?f=500:"NO_CHANGE"===g?f=304:"NO_TEMPLATE"!==g&&"EMPTY_CONFIG"!==g||(m={}),304!==f&&200!==f)throw d.create("fetch-status",{httpStatus:f});return[2,{status:f,eTag:p,config:m}]}var b}))}))},t}(),p=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),m="",g=["1","true","t","yes","y","on"],y=function(){function t(t,e){void 0===e&&(e=m),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&g.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),v=6e4,b=432e5,_=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:v,minimumFetchIntervalMillis:b},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=c.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=c.LogLevel.SILENT;break;default:this._logger.logLevel=c.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!0,configurable:!0}),t.prototype.activate=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e,n;return s.__generator(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e,n,r=this;return s.__generator(this,(function(i){switch(i.label){case 0:t=new p,setTimeout((function(){return s.__awaiter(r,void 0,void 0,(function(){return s.__generator(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=(o=e)instanceof a.FirebaseError&&-1!==o.code.indexOf("fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o}))}))},t.prototype.fetchAndActivate=function(){return s.__awaiter(this,void 0,void 0,(function(){return s.__generator(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(s.__assign(s.__assign({},t),e))).reduce((function(t,e){return t[e]=n.getValue(e),t}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new y("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new y("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new y("static"))},t}();function w(t,e){var n=t.target.error||void 0;return d.create(e,{originalErrorMessage:n&&n.message})}var C="app_namespace_store",S="firebase_remote_config",E=1,T=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open(S,E);n.onerror=function(t){e(w(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(C,{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([C],"readonly").objectStore(C),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(w(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(c){i(d.create("storage-get",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.set=function(t,e){return s.__awaiter(this,void 0,void 0,(function(){var n,r=this;return s.__generator(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction([C],"readwrite").objectStore(C),a=r.createCompositeKey(t);try{var c=s.put({compositeKey:a,value:e});c.onerror=function(t){o(w(t,"storage-set"))},c.onsuccess=function(){i()}}catch(u){o(d.create("storage-set",{originalErrorMessage:u&&u.message}))}}))]}}))}))},t.prototype.delete=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e,n=this;return s.__generator(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([C],"readwrite").objectStore(C),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(w(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(c){i(d.create("storage-delete",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),k=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return s.__awaiter(this,void 0,void 0,(function(){var t,e,n,r,i,o;return s.__generator(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}(),I=1e3,x=2,A=144e5,O=.5;function D(t){var e=I*Math.pow(x,t),n=Math.round(O*e*(Math.random()-.5)*2);return Math.min(A,e+n)}function P(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(d.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var N=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return s.__awaiter(this,void 0,void 0,(function(){var e;return s.__generator(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return s.__awaiter(this,void 0,void 0,(function(){var e,i,o;return s.__generator(this,(function(s){switch(s.label){case 0:return[4,P(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof a.FirebaseError))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+D(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),R="@firebase/remote-config",M="0.1.9";function L(t){t.INTERNAL.registerComponent(new u.Component("remoteConfig",(function(e,n){var r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw d.create("registration-window");var o=r.options,s=o.projectId,a=o.apiKey,u=o.appId;if(!s)throw d.create("registration-project-id");if(!a)throw d.create("registration-api-key");if(!u)throw d.create("registration-app-id");var h=new T(u,r.name,n=n||"firebase"),p=new k(h),m=new c.Logger(R);m.logLevel=c.LogLevel.ERROR;var g=new f(i,t.SDK_VERSION,n,s,a,u),y=new N(g,h),v=new l(y,h,p,m),b=new _(r,v,p,h,m);return b.ensureInitialized(),b}),"PUBLIC").setMultipleInstances(!0)),t.registerVersion(R,M)}L(i),e.registerRemoteConfig=L},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),a=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var u=this.getOrInitializeService(c);a.resolve(u)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=a,e.Provider=s},Tlfp:function(t,e){var n={upgradeDom:function(t,e){},upgradeElement:function(t,e){},upgradeElements:function(t){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(t,e){},register:function(t){},downgradeElements:function(t){}};(n=function(){"use strict";var t=[],e=[],n="mdlComponentConfigInternal_";function r(e,n){for(var r=0;r<t.length;r++)if(t[r].className===e)return void 0!==n&&(t[r]=n),t[r];return!1}function i(t){var e=t.getAttribute("data-upgraded");return null===e?[""]:e.split(",")}function o(t,e){return-1!==i(t).indexOf(e)}function s(t,e,n){if("CustomEvent"in window&&"function"==typeof window.CustomEvent)return new CustomEvent(t,{bubbles:e,cancelable:n});var r=document.createEvent("Events");return r.initEvent(t,e,n),r}function a(e,n){if(void 0===e&&void 0===n)for(var i=0;i<t.length;i++)a(t[i].className,t[i].cssClass);else{var o=e;if(void 0===n){var s=r(o);s&&(n=s.cssClass)}for(var u=document.querySelectorAll("."+n),l=0;l<u.length;l++)c(u[l],o)}}function c(a,c){if(!("object"==typeof a&&a instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var u=s("mdl-componentupgrading",!0,!0);if(a.dispatchEvent(u),!u.defaultPrevented){var l=i(a),h=[];if(c)o(a,c)||h.push(r(c));else{var d=a.classList;t.forEach((function(t){d.contains(t.cssClass)&&-1===h.indexOf(t)&&!o(a,t.className)&&h.push(t)}))}for(var f,p=0,m=h.length;p<m;p++){if(!(f=h[p]))throw new Error("Unable to find a registered component for the given class.");l.push(f.className),a.setAttribute("data-upgraded",l.join(","));var g=new f.classConstructor(a);g[n]=f,e.push(g);for(var y=0,v=f.callbacks.length;y<v;y++)f.callbacks[y](a);f.widget&&(a[f.className]=g);var b=s("mdl-componentupgraded",!0,!1);a.dispatchEvent(b)}}}function u(t){if(t){var r=e.indexOf(t);e.splice(r,1);var i=t.element_.getAttribute("data-upgraded").split(","),o=i.indexOf(t[n].classAsString);i.splice(o,1),t.element_.setAttribute("data-upgraded",i.join(","));var a=s("mdl-componentdowngraded",!0,!1);t.element_.dispatchEvent(a)}}return{upgradeDom:a,upgradeElement:c,upgradeElements:function t(e){Array.isArray(e)||(e=e instanceof Element?[e]:Array.prototype.slice.call(e));for(var n,r=0,i=e.length;r<i;r++)(n=e[r])instanceof HTMLElement&&(c(n),n.children.length>0&&t(n.children))},upgradeAllRegistered:function(){for(var e=0;e<t.length;e++)a(t[e].className)},registerUpgradedCallback:function(t,e){var n=r(t);n&&n.callbacks.push(e)},register:function(e){var i=!0;void 0===e.widget&&void 0===e.widget||(i=e.widget||e.widget);var o={classConstructor:e.constructor||e.constructor,className:e.classAsString||e.classAsString,cssClass:e.cssClass||e.cssClass,widget:i,callbacks:[]};if(t.forEach((function(t){if(t.cssClass===o.cssClass)throw new Error("The provided cssClass has already been registered: "+t.cssClass);if(t.className===o.className)throw new Error("The provided className has already been registered")})),e.constructor.prototype.hasOwnProperty(n))throw new Error("MDL component classes must not have "+n+" defined as a property.");r(e.classAsString,o)||t.push(o)},downgradeElements:function(t){var n=function(t){e.filter((function(e){return e.element_===t})).forEach(u)};if(t instanceof Array||t instanceof NodeList)for(var r=0;r<t.length;r++)n(t[r]);else{if(!(t instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");n(t)}}}}()).upgradeDom=n.upgradeDom,n.upgradeElement=n.upgradeElement,n.upgradeElements=n.upgradeElements,n.upgradeAllRegistered=n.upgradeAllRegistered,n.registerUpgradedCallback=n.registerUpgradedCallback,n.register=n.register,n.downgradeElements=n.downgradeElements,window.componentHandler=n,window.componentHandler=n,window.addEventListener("load",(function(){"use strict";"classList"in document.createElement("div")&&"querySelector"in document&&"addEventListener"in window&&Array.prototype.forEach?(document.documentElement.classList.add("mdl-js"),n.upgradeAllRegistered()):(n.upgradeElement=function(){},n.register=function(){})}))},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.6.1","app"),t.exports=i},XBV3:function(t,e){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialSpinner=t,t.prototype.Constant_={MDL_SPINNER_LAYER_COUNT:4},t.prototype.CssClasses_={MDL_SPINNER_LAYER:"mdl-spinner__layer",MDL_SPINNER_CIRCLE_CLIPPER:"mdl-spinner__circle-clipper",MDL_SPINNER_CIRCLE:"mdl-spinner__circle",MDL_SPINNER_GAP_PATCH:"mdl-spinner__gap-patch",MDL_SPINNER_LEFT:"mdl-spinner__left",MDL_SPINNER_RIGHT:"mdl-spinner__right"},t.prototype.createLayer=t.prototype.createLayer=function(t){var e=document.createElement("div");e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER),e.classList.add(this.CssClasses_.MDL_SPINNER_LAYER+"-"+t);var n=document.createElement("div");n.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),n.classList.add(this.CssClasses_.MDL_SPINNER_LEFT);var r=document.createElement("div");r.classList.add(this.CssClasses_.MDL_SPINNER_GAP_PATCH);var i=document.createElement("div");i.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE_CLIPPER),i.classList.add(this.CssClasses_.MDL_SPINNER_RIGHT);for(var o=[n,r,i],s=0;s<o.length;s++){var a=document.createElement("div");a.classList.add(this.CssClasses_.MDL_SPINNER_CIRCLE),o[s].appendChild(a)}e.appendChild(n),e.appendChild(r),e.appendChild(i),this.element_.appendChild(e)},t.prototype.stop=t.prototype.stop=function(){this.element_.classList.remove("is-active")},t.prototype.start=t.prototype.start=function(){this.element_.classList.add("is-active")},t.prototype.init=function(){if(this.element_){for(var t=1;t<=this.Constant_.MDL_SPINNER_LAYER_COUNT;t++)this.createLayer(t);this.element_.classList.add("is-upgraded")}},componentHandler.register({constructor:t,classAsString:"MaterialSpinner",cssClass:"mdl-js-spinner",widget:!0})}()},bQlE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;n("fSjL");var o,s,a,c,u,l=n("mrSG"),h=n("zVF4"),d=n("q/0M"),f=n("S+S0"),p="@firebase/performance",m="0.2.28",g=m,y="FB-PERF-TRACE-START",v="FB-PERF-TRACE-STOP",b="FB-PERF-TRACE-MEASURE",_="@firebase/performance/config",w="@firebase/performance/configexpire",C=((o={})["trace started"]="Trace {$traceName} was started before.",o["trace stopped"]="Trace {$traceName} is not running.",o["no window"]="Window is not available.",o["no app id"]="App id is not available.",o["no project id"]="Project id is not available.",o["no api key"]="Api key is not available.",o["invalid cc log"]="Attempted to queue invalid cc event",o["FB not default"]="Performance can only start when Firebase app instance is the default one.",o["RC response not ok"]="RC response is not ok",o["invalid attribute name"]="Attribute name {$attributeName} is invalid.",o["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",o["invalide custom metric name"]="Custom metric name {$customMetricName} is invalid",o),S=new h.ErrorFactory("performance","Performance",C),E=function(){function t(t){if(this.window=t,!t)throw S.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===s&&(s=new t(a)),s},t}(),T=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw S.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw S.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw S.create("no api key");return t},t.getInstance=function(){return void 0===c&&(c=new t),c},t}();function k(){return u}var I=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),x=["firebase_","google_","ga_"],A=new RegExp("^[a-zA-Z]\\w*$");function O(){var t=E.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function D(){switch(E.getInstance().document.visibilityState){case"visible":return I.VISIBLE;case"hidden":return I.HIDDEN;default:return I.UNKNOWN}}function P(){var t=E.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var N=new d.Logger("Performance");N.logLevel=d.LogLevel.INFO;var R="0.0.1",M={loggingEnabled:!0},L="FIREBASE_INSTALLATIONS_AUTH",F="Could not fetch config, will use default configs";function U(t){if(!t)return t;var e=T.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):M.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=j(e.tracesSamplingRate),e.logNetworkAfterSampling=j(e.networkRequestsSamplingRate),t}function j(t){return Math.random()<=t}var V,B=1;function q(){return B=2,V=V||function(){var t=E.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=T.getInstance().installationsService.getId()).then((function(t){u=t})),t;var t})).then((function(t){return function(t){var e=function(){var t=E.getInstance().localStorage;if(t){var e=t.getItem(w);if(e&&Number(e)>Date.now()){var n=t.getItem(_);if(n)try{return JSON.parse(n)}catch(o){return}}}}();return e?(U(e),Promise.resolve()):function(t){return(e=T.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+T.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+T.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:L+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:T.getInstance().getAppId(),app_version:g,sdk_version:R})});return fetch(r).then((function(t){if(t.ok)return t.json();throw S.create("RC response not ok")}))})).catch((function(){N.info(F)}));var e}(t).then((function(t){return U(t)})).then((function(t){return function(t){var e=E.getInstance().localStorage;t&&e&&(e.setItem(_,JSON.stringify(t)),e.setItem(w,String(Date.now()+60*T.getInstance().configTimeToLive*60*1e3)))}(t)}),(function(){}))}(t)})).then((function(){return H()}),(function(){return H()}))}function H(){B=3}var W,z=3,G=[];function K(t){if(!t.eventTime||!t.message)throw S.create("invalid cc log");G=l.__spreadArrays(G,[t])}function Q(){if(W)return W;var t=function(t){return function(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=t.apply(void 0,r);K({message:o,eventTime:Date.now()})}}(X);return(W=new d.Logger("@firebase/performance/cc")).logHandler=t,W}function $(t){var e=T.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&E.getInstance().requiredApisAvailable()&&(t.isAuto&&D()!==I.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===B?Y(t):q().then((function(){return Y(t)}),(function(){return Y(t)}))))}function Y(t){k()&&setTimeout((function(){return Q().log(t,1)}),0)}function X(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:Z(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=J(t.counters));var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=J(n));var r={application_info:Z(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function Z(){return{google_app_id:T.getInstance().getAppId(),app_instance_id:k(),web_app_info:{sdk_version:g,page_url:E.getInstance().getUrl(),service_worker_status:O(),visibility_state:D(),effective_connection_type:P()},application_process_state:0}}function J(t){return Object.keys(t).map((function(e){return{key:e,value:t[e]}}))}!function t(e){setTimeout((function(){if(0!==z){if(!G.length)return t(1e4);var e=l.__spreadArrays(G);G=[];var n=e.map((function(t){return{source_extension_json:t.message,event_time_ms:String(t.eventTime)}})),r={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:T.getInstance().logSource,log_event:n};fetch(T.getInstance().logEndPointUrl,{method:"POST",body:JSON.stringify(r)}).then((function(t){return t.ok||N.info("Call to Firebase backend failed."),t.json()})).then((function(e){var n=Number(e.next_request_wait_millis),r=isNaN(n)?1e4:Math.max(1e4,n);z=3,t(r)})).catch((function(){G=l.__spreadArrays(e,G),z--,N.info("Tries left: "+z+"."),t(1e4)}))}}),e)}(5500);var tt=["_fp","_fcp","_fid"],et=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=E.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=y+"-"+this.randomId+"-"+this.name,this.traceStopMark=v+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||b+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw S.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw S.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),$(this)},t.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=l.__assign({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}$(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]&&this.putMetric(t,0),this.counters[t]+=e},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&tt.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw S.create("invalide custom metric name",{customMetricName:t});this.counters[t]=e},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40||x.some((function(e){return t.startsWith(e)}))||!t.match(A))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw S.create("invalid attribute name",{attributeName:t});if(!r)throw S.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return l.__assign({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=E.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),s=Math.floor(1e3*E.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var c=n.find((function(t){return"first-contentful-paint"===t.name}));c&&c.startTime&&o.putMetric("_fcp",Math.floor(1e3*c.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}$(o)}},t.createUserTimingTrace=function(e){$(new t(e,!1,e))},t}();function nt(t){var e,n,r=t;if(r&&void 0!==r.responseStart){var i=E.getInstance().getTimeOrigin(),o=Math.floor(1e3*(r.startTime+i)),s=r.responseStart?Math.floor(1e3*(r.responseStart-r.startTime)):void 0,a=Math.floor(1e3*(r.responseEnd-r.startTime));e={url:r.name&&r.name.split("?")[0],responsePayloadBytes:r.transferSize,startTimeUs:o,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:a},(n=T.getInstance()).instrumentationEnabled&&e.url!==n.logEndPointUrl.split("?")[0]&&n.loggingEnabled&&n.logNetworkAfterSampling&&setTimeout((function(){return Q().log(e,0)}),0)}}var rt=5e3;function it(){k()&&(setTimeout((function(){return function(){var t=E.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){et.createOobTrace(e,n),r=void 0}),rt);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),et.createOobTrace(e,n,t))}))}else et.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=E.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)nt(n[e]);t.setupObserver("resource",nt)}()}),0),setTimeout((function(){return function(){for(var t=E.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)ot(n[e]);t.setupObserver("measure",ot)}()}),0))}function ot(t){var e=t.name;e.substring(0,b.length)!==b&&et.createUserTimingTrace(e)}var st=function(){function t(t){this.app=t,E.getInstance().requiredApisAvailable()?q().then(it,it):N.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return t.prototype.trace=function(t){return new et(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return T.getInstance().instrumentationEnabled},set:function(t){T.getInstance().instrumentationEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return T.getInstance().dataCollectionEnabled},set:function(t){T.getInstance().dataCollectionEnabled=t},enumerable:!0,configurable:!0}),t}(),at="[DEFAULT]";function ct(t){t.INTERNAL.registerComponent(new f.Component("performance",(function(t){return function(t,e){if(t.name!==at)throw S.create("FB not default");if("undefined"==typeof window)throw S.create("no window");return function(t){a=t}(window),T.getInstance().firebaseAppInstance=t,T.getInstance().installationsService=e,new st(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC")),t.registerVersion(p,m)}ct(i),e.registerPerformance=ct},crnd:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},fSjL:function(t,e,n){"use strict";n.r(e),n.d(e,"registerInstallations",(function(){return X}));var r,i=n("wj3C"),o=n.n(i),s=n("S+S0"),a=n("mrSG"),c=n("zVF4"),u=n("nbvr"),l="@firebase/installations",h="0.3.8",d=1e4,f="w:"+h,p="FIS_v2",m="https://firebaseinstallations.googleapis.com/v1",g=36e5,y=((r={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',r["not-registered"]="Firebase Installation is not registered.",r["installation-not-found"]="Firebase Installation not found.",r["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',r["app-offline"]="Could not process request. Application offline.",r["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",r),v=new c.ErrorFactory("installations","Installations",y);function b(t){return t instanceof c.FirebaseError&&t.code.includes("request-failed")}function _(t){return m+"/projects/"+t.projectId+"/installations"}function w(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function C(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,v.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function S(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function E(t,e){var n=e.refreshToken,r=S(t);return r.append("Authorization",function(t){return p+" "+t}(n)),r}function T(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function k(t,e){var n=e.fid;return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,r,i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return e=_(t),r=S(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:p,appId:t.appId,sdkVersion:f})},[4,T((function(){return fetch(e,i)}))];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:w(s.authToken)}];case 3:return[4,C("Create Installation",o)];case 4:throw a.sent()}}))}))}function I(t){return new Promise((function(e){setTimeout(e,t)}))}var x=/^[cdef][\w-]{21}$/,A="";function O(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(a.__spread)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return x.test(e)?e:A}catch(r){return A}}var D="firebase-installations-database",P=1,N="firebase-installations-store",R=null;function M(){return R||(R=Object(u.openDb)(D,P,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(N)}}))),R}function L(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return n=j(t),[4,M()];case 1:return r=o.sent(),[4,(i=r.transaction(N,"readwrite")).objectStore(N).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function F(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return e=j(t),[4,M()];case 1:return n=i.sent(),[4,(r=n.transaction(N,"readwrite")).objectStore(N).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function U(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,c;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=j(t),[4,M()];case 1:return r=a.sent(),i=r.transaction(N,"readwrite"),[4,(o=i.objectStore(N)).get(n)];case 2:return s=a.sent(),void 0!==(c=e(s))?[3,4]:[4,o.delete(n)];case 3:return a.sent(),[3,6];case 4:return[4,o.put(c,n)];case 5:a.sent(),a.label=6;case 6:return[4,i.complete];case 7:return a.sent(),[2,c]}}))}))}function j(t){return t.appName+"!"+t.appId}function V(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,U(t,(function(n){var r=function(t){return H(t||{fid:O(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(v.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,k(t,e)];case 1:return n=i.sent(),[2,L(t,n)];case 2:return b(r=i.sent())&&409===r.serverCode?[4,F(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,L(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:B(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return(n=i.sent()).fid!==A?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function B(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,q(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,I(100)];case 3:return o.sent(),[4,q(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,V(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function q(t){return U(t,(function(t){if(!t)throw v.create("installation-not-found");return H(t)}))}function H(t){return 1===(e=t).registrationStatus&&e.registrationTime+d<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function W(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,i,o,s,c;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return t=function(t,e){var n=e.fid;return _(t)+"/"+n+"/authTokens:generate"}(n,e),i=E(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:f}})},[4,T((function(){return fetch(t,s)}))];case 1:return(c=a.sent()).ok?[4,c.json()]:[3,3];case 2:return[2,w(a.sent())];case 3:return[4,C("Generate Auth Token",c)];case 4:throw a.sent()}}))}))}function z(t,e){return void 0===e&&(e=!1),Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,U(t.appConfig,(function(r){if(!K(r))throw v.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+g}(i))return r;if(1===o.requestStatus)return n=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,G(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,I(100)];case 3:return i.sent(),[4,G(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,z(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw v.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(a.__assign)(Object(a.__assign)({},t),{authToken:e})}(r);return n=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,W(t,e)];case 1:return n=o.sent(),i=Object(a.__assign)(Object(a.__assign)({},e),{authToken:n}),[4,L(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!b(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,F(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(a.__assign)(Object(a.__assign)({},e),{authToken:{requestStatus:0}}),[4,L(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,s),s}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function G(t){return U(t,(function(t){if(!K(t))throw v.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+d<Date.now()?Object(a.__assign)(Object(a.__assign)({},t),{authToken:{requestStatus:0}}):t}))}function K(t){return void 0!==t&&2===t.registrationStatus}function Q(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,V(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function $(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return _(t)+"/"+n}(t,e),r=E(t,e),i={method:"DELETE",headers:r},[4,T((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,C("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}function Y(t){return v.create("missing-app-config-values",{valueName:t})}function X(t){t.INTERNAL.registerComponent(new s.Component("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw Y("App Configuration");if(!t.name)throw Y("App Name");try{for(var r=Object(a.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw Y(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,V(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):z(t).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,Q(t.appConfig)];case 1:return n.sent(),[4,z(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,U(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw v.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw v.create("app-offline");case 3:return[4,$(e,n)];case 4:return r.sent(),[4,F(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)}}}),"PUBLIC")),t.registerVersion(l,h)}X(o.a)},gHGA:function(t,e,n){"use strict";n.r(e),n.d(e,"isSupported",(function(){return R})),n.d(e,"registerMessaging",(function(){return N}));var r,i=n("wj3C"),o=n.n(i),s=(n("fSjL"),n("mrSG")),a=n("zVF4"),c=n("S+S0"),u=((r={})["only-available-in-window"]="This method is available in a Window context.",r["only-available-in-sw"]="This method is available in a service worker context.",r["should-be-overriden"]="This method should be overriden by extended classes.",r["bad-sender-id"]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",r["permission-default"]="The required permissions were not granted and dismissed instead.",r["permission-blocked"]="The required permissions were not granted and blocked instead.",r["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",r["notifications-blocked"]="Notifications have been blocked.",r["failed-serviceworker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",r["sw-registration-expected"]="A service worker registration was the expected input.",r["get-subscription-failed"]="There was an error when trying to get any existing Push Subscriptions.",r["invalid-saved-token"]="Unable to access details of the saved token.",r["sw-reg-redundant"]="The service worker being used for push was made redundant.",r["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",r["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",r["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",r["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",r["token-update-no-token"]="FCM returned no token when updating the user to push.",r["use-sw-before-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",r["invalid-delete-token"]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",r["delete-token-not-found"]="The deletion attempt for token could not be performed as the token was not found.",r["delete-scope-not-found"]="The deletion attempt for service worker scope could not be performed as the scope was not found.",r["bg-handler-function-expected"]="The input to setBackgroundMessageHandler() must be a function.",r["no-window-client-to-msg"]="An attempt was made to message a non-existant window client.",r["unable-to-resubscribe"]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$errorInfo}",r["no-fcm-token-for-resubscribe"]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",r["failed-to-delete-token"]="Unable to delete the currently saved token.",r["no-sw-in-reg"]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",r["bad-scope"]="The service worker scope must be a string with at least one character.",r["bad-vapid-key"]="The public VAPID key is not a Uint8Array with 65 bytes.",r["bad-subscription"]="The subscription must be a valid PushSubscription.",r["bad-token"]="The FCM Token used for storage / lookup was not a valid token string.",r["failed-delete-vapid-key"]="The VAPID key could not be deleted.",r["invalid-public-vapid-key"]="The public VAPID key must be a string.",r["use-public-key-before-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",r["public-vapid-key-decryption-failed"]="The public VAPID key did not equal 65 bytes when decrypted.",r),l=new a.ErrorFactory("messaging","Messaging",u),h=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),d="https://fcmregistrations.googleapis.com/v1",f=function(t){return t.PUSH_MSG_RECEIVED="push-msg-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function p(t,e){if(null==t||null==e)return!1;if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t),r=new DataView(e),i=0;i<t.byteLength;i++)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function m(t){return function(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(s.__spread)(e)))}(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}var g=function(){function t(){}return t.prototype.getToken=function(t,e,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,c;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,v(t)];case 1:r=s.sent(),i=b(e,n),o={method:"POST",headers:r,body:JSON.stringify(i)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(y(t.app),o)];case 3:return[4,s.sent().json()];case 4:return a=s.sent(),[3,6];case 5:throw c=s.sent(),l.create("token-subscribe-failed",{errorInfo:c});case 6:if(a.error)throw l.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw l.create("token-subscribe-no-token");return[2,a.token]}}))}))},t.prototype.updateToken=function(t,e,n,r){return Object(s.__awaiter)(this,void 0,void 0,(function(){var i,o,a,c,u;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,v(e)];case 1:i=s.sent(),o=b(n,r),a={method:"PATCH",headers:i,body:JSON.stringify(o)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(y(e.app)+"/"+t.fcmToken,a)];case 3:return[4,s.sent().json()];case 4:return c=s.sent(),[3,6];case 5:throw u=s.sent(),l.create("token-update-failed",{errorInfo:u});case 6:if(c.error)throw l.create("token-update-failed",{errorInfo:c.error.message});if(!c.token)throw l.create("token-update-no-token");return[2,c.token]}}))}))},t.prototype.deleteToken=function(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,v(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(y(t.app)+"/"+e.fcmToken,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw l.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=s.sent(),l.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}}))}))},t}();function y(t){return d+"/projects/"+t.options.projectId+"/registrations"}function v(t){var e=t.app,n=t.installations;return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.options.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function b(t,e){var n=m(t.getKey("p256dh")),r=m(t.getKey("auth")),i={web:{endpoint:t.endpoint,p256dh:n,auth:r}};return p(e.buffer,h.buffer)||(i.web.applicationPubKey=m(e)),i}function _(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var w=function(){function t(){this.dbPromise=null}return t.prototype.get=function(t){return this.createTransaction((function(e){return e.get(t)}))},t.prototype.getIndex=function(t,e){return this.createTransaction((function(n){return n.index(t).get(e)}))},t.prototype.put=function(t){return this.createTransaction((function(e){return e.put(t)}),"readwrite")},t.prototype.delete=function(t){return this.createTransaction((function(e){return e.delete(t)}),"readwrite")},t.prototype.closeDatabase=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){switch(t.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:t.sent().close(),this.dbPromise=null,t.label=2;case 2:return[2]}}))}))},t.prototype.createTransaction=function(t,e){return void 0===e&&(e="readonly"),Object(s.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return[4,this.getDb()];case 1:return n=s.sent(),r=n.transaction(this.objectStoreName,e),i=r.objectStore(this.objectStoreName),[4,C(t(i))];case 2:return o=s.sent(),[2,new Promise((function(t,e){r.oncomplete=function(){t(o)},r.onerror=function(){e(r.error)}}))]}}))}))},t.prototype.getDb=function(){var t=this;return this.dbPromise||(this.dbPromise=new Promise((function(e,n){var r=indexedDB.open(t.dbName,t.dbVersion);r.onsuccess=function(){e(r.result)},r.onerror=function(){t.dbPromise=null,n(r.error)},r.onupgradeneeded=function(e){return t.onDbUpgrade(r,e)}}))),this.dbPromise},t}();function C(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}var S=function(t){function e(e){var n=t.call(this)||this;return n.services=e,n.dbName="fcm_token_details_db",n.dbVersion=4,n.objectStoreName="fcm_token_object_Store",n}return Object(s.__extends)(e,t),e.prototype.onDbUpgrade=function(t,e){var n=t.result;switch(e.oldVersion){case 0:(i=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),i.createIndex("fcmToken","fcmToken",{unique:!0});case 1:!function(t){var e=indexedDB.open("undefined");e.onerror=function(t){},e.onsuccess=function(n){!function(t,e){if(t.objectStoreNames.contains("fcm_token_object_Store")){var n=t.transaction("fcm_token_object_Store").objectStore("fcm_token_object_Store"),r=new g,i=n.openCursor();i.onerror=function(t){console.warn("Unable to cleanup old IDB.",t)},i.onsuccess=function(){var n=i.result;n?(r.deleteToken(e,n.value),n.continue()):(t.close(),indexedDB.deleteDatabase("undefined"))}}}(e.result,t)}}(this.services);case 2:var r=(i=t.transaction.objectStore(this.objectStoreName)).openCursor();r.onsuccess=function(){var t=r.result;if(t){var e=t.value,n=Object(s.__assign)({},e);e.createTime||(n.createTime=Date.now()),"string"==typeof e.vapidKey&&(n.vapidKey=_(e.vapidKey)),"string"==typeof e.auth&&(n.auth=_(e.auth).buffer),"string"==typeof e.auth&&(n.p256dh=_(e.p256dh).buffer),"string"==typeof e.fcmPushSet&&delete n.fcmPushSet,t.update(n),t.continue()}};break;case 3:var i,o=(i=t.transaction.objectStore(this.objectStoreName)).openCursor();o.onsuccess=function(){var t=o.result;if(t){var e=t.value,n=Object(s.__assign)({},e);"string"==typeof e.fcmPushSet&&delete n.fcmPushSet,t.update(n),t.continue()}}}},e.prototype.getTokenDetailsFromToken=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(e){if(!t)throw l.create("bad-token");return E({fcmToken:t}),[2,this.getIndex("fcmToken",t)]}))}))},e.prototype.getTokenDetailsFromSWScope=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(e){if(!t)throw l.create("bad-scope");return E({swScope:t}),[2,this.get(t)]}))}))},e.prototype.saveTokenDetails=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(e){if(!t.swScope)throw l.create("bad-scope");if(!t.vapidKey)throw l.create("bad-vapid-key");if(!t.endpoint||!t.auth||!t.p256dh)throw l.create("bad-subscription");if(!t.fcmSenderId)throw l.create("bad-sender-id");if(!t.fcmToken)throw l.create("bad-token");return E(t),[2,this.put(t)]}))}))},e.prototype.deleteToken=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return"string"!=typeof t||0===t.length?[2,Promise.reject(l.create("invalid-delete-token"))]:[4,this.getTokenDetailsFromToken(t)];case 1:if(!(e=n.sent()))throw l.create("delete-token-not-found");return[4,this.delete(e.swScope)];case 2:return n.sent(),[2,e]}}))}))},e}(w);function E(t){if(t.fcmToken&&("string"!=typeof t.fcmToken||0===t.fcmToken.length))throw l.create("bad-token");if(t.swScope&&("string"!=typeof t.swScope||0===t.swScope.length))throw l.create("bad-scope");if(t.vapidKey&&(!(t.vapidKey instanceof Uint8Array)||65!==t.vapidKey.length))throw l.create("bad-vapid-key");if(t.endpoint&&("string"!=typeof t.endpoint||0===t.endpoint.length))throw l.create("bad-subscription");if(t.auth&&!(t.auth instanceof ArrayBuffer))throw l.create("bad-subscription");if(t.p256dh&&!(t.p256dh instanceof ArrayBuffer))throw l.create("bad-subscription");if(t.fcmSenderId&&("string"!=typeof t.fcmSenderId||0===t.fcmSenderId.length))throw l.create("bad-sender-id")}var T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_vapid_details_db",e.dbVersion=1,e.objectStoreName="fcm_vapid_object_Store",e}return Object(s.__extends)(e,t),e.prototype.onDbUpgrade=function(t){t.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},e.prototype.getVapidFromSWScope=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:if("string"!=typeof t||0===t.length)throw l.create("bad-scope");return[4,this.get(t)];case 1:return[2,(e=n.sent())?e.vapidKey:void 0]}}))}))},e.prototype.saveVapidDetails=function(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(n){if("string"!=typeof t||0===t.length)throw l.create("bad-scope");if(null===e||65!==e.length)throw l.create("bad-vapid-key");return[2,this.put({swScope:t,vapidKey:e})]}))}))},e.prototype.deleteVapidDetails=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(t)];case 1:if(!(e=n.sent()))throw l.create("delete-scope-not-found");return[4,this.delete(t)];case 2:return n.sent(),[2,e]}}))}))},e}(w),k=function(){function t(t){var e=this;this.services=t,this.vapidDetailsModel=new T,this.subscriptionManager=new g;var n=t.app;if(this.app=n,!n.options.messagingSenderId||"string"!=typeof n.options.messagingSenderId)throw l.create("bad-sender-id");this.INTERNAL={delete:function(){return e.delete()}},this.tokenDetailsModel=new S(t)}return t.prototype.getToken=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return"default"!==(t=this.getNotificationPermission())?[3,2]:[4,this.requestNotificationPermission()];case 1:t=o.sent(),o.label=2;case 2:if("granted"!==t)throw l.create("notifications-blocked");return[4,this.getSWRegistration_()];case 3:return e=o.sent(),[4,this.getPublicVapidKey_()];case 4:return n=o.sent(),[4,this.getPushSubscription(e,n)];case 5:return r=o.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(e.scope)];case 6:return(i=o.sent())?[2,this.manageExistingToken(e,r,n,i)]:[2,this.getNewToken(e,r,n)]}}))}))},t.prototype.manageExistingToken=function(t,e,n,r){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return function(t,e,n){if(!n.vapidKey||!p(e.buffer,n.vapidKey.buffer))return!1;var r=t.endpoint===n.endpoint,i=p(t.getKey("auth"),n.auth),o=p(t.getKey("p256dh"),n.p256dh);return r&&i&&o}(e,n,r)?Date.now()<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(t,e,n,r)]:[3,1];case 1:return[4,this.deleteTokenFromDB(r.fcmToken)];case 2:return i.sent(),[2,this.getNewToken(t,e,n)];case 3:return[2]}}))}))},t.prototype.updateToken=function(t,e,n,r){return Object(s.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,6]),[4,this.subscriptionManager.updateToken(r,this.services,e,n)];case 1:return i=s.sent(),o={swScope:t.scope,vapidKey:n,fcmSenderId:this.services.app.options.messagingSenderId,fcmToken:i,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return s.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return s.sent(),[2,i];case 4:return a=s.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw s.sent(),a;case 6:return[2]}}))}))},t.prototype.getNewToken=function(t,e,n){return Object(s.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.subscriptionManager.getToken(this.services,e,n)];case 1:return r=o.sent(),i={swScope:t.scope,vapidKey:n,fcmSenderId:this.app.options.messagingSenderId,fcmToken:r,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(i)];case 2:return o.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return o.sent(),[2,r]}}))}))},t.prototype.deleteToken=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.deleteTokenFromDB(t)];case 1:return r.sent(),[4,this.getSWRegistration_()];case 2:return(e=r.sent())?[4,e.pushManager.getSubscription()]:[3,4];case 3:if(n=r.sent())return[2,n.unsubscribe()];r.label=4;case 4:return[2,!0]}}))}))},t.prototype.deleteTokenFromDB=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.tokenDetailsModel.deleteToken(t)];case 1:e=r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.subscriptionManager.deleteToken(this.services,e)];case 3:return r.sent(),[3,5];case 4:return n=r.sent(),console.error(n),[3,5];case 5:return[2]}}))}))},t.prototype.getPushSubscription=function(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n;return Object(s.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})]}}))}))},t.prototype.requestPermission=function(){throw l.create("only-available-in-window")},t.prototype.useServiceWorker=function(t){throw l.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){throw l.create("only-available-in-window")},t.prototype.onMessage=function(t,e,n){throw l.create("only-available-in-window")},t.prototype.onTokenRefresh=function(t,e,n){throw l.create("only-available-in-window")},t.prototype.setBackgroundMessageHandler=function(t){throw l.create("only-available-in-sw")},t.prototype.delete=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){switch(t.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return t.sent(),[2]}}))}))},t.prototype.getNotificationPermission=function(){return Notification.permission},t.prototype.requestNotificationPermission=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){return Notification.requestPermission?[2,Notification.requestPermission()]:[2,Notification.permission]}))}))},t.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},t.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},t.prototype.getSubscriptionManager=function(){return this.subscriptionManager},t}(),I=function(t){function e(e){var n=t.call(this,e)||this;return n.bgMessageHandler=null,self.addEventListener("push",(function(t){n.onPush(t)})),self.addEventListener("pushsubscriptionchange",(function(t){n.onSubChange(t)})),self.addEventListener("notificationclick",(function(t){n.onNotificationClick(t)})),n}return Object(s.__extends)(e,t),e.prototype.onPush=function(t){t.waitUntil(this.onPush_(t))},e.prototype.onSubChange=function(t){t.waitUntil(this.onSubChange_(t))},e.prototype.onNotificationClick=function(t){t.waitUntil(this.onNotificationClick_(t))},e.prototype.onPush_=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:if(!t.data)return[2];try{e=t.data.json()}catch(c){return[2]}return[4,this.hasVisibleClients_()];case 1:return s.sent()?[2,this.sendMessageToWindowClients_(e)]:(n=this.getNotificationData_(e))?(r=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return i=s.sent(),o=n.actions,a=Notification.maxActions,o&&a&&o.length>a&&console.warn("This browser only supports "+a+" actions.The remaining actions will not be displayed."),[2,i.showNotification(r,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:return s.sent(),[2];case 5:return[2]}}))}))},e.prototype.onSubChange_=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return t=i.sent(),[3,3];case 2:throw e=i.sent(),l.create("unable-to-resubscribe",{errorInfo:e});case 3:return i.trys.push([3,5,,8]),[4,t.pushManager.getSubscription()];case 4:return i.sent(),[3,8];case 5:return n=i.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(t.scope)];case 6:if(!(r=i.sent()))throw n;return[4,this.deleteToken(r.fcmToken)];case 7:throw i.sent(),n;case 8:return[2]}}))}))},e.prototype.onNotificationClick_=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:if(!(t.notification&&t.notification.data&&t.notification.data.FCM_MSG))return[2];if(t.action)return[2];if(t.stopImmediatePropagation(),t.notification.close(),!(e=t.notification.data.FCM_MSG).notification)return[2];if(!(n=e.fcmOptions&&e.fcmOptions.link||e.notification.click_action)){if(!(e.data&&"google.c.a.c_id"in e.data))return[2];n=self.location.origin}return[4,this.getWindowClient_(n)];case 1:return(r=o.sent())?[3,4]:[4,self.clients.openWindow(n)];case 2:return r=o.sent(),[4,new Promise((function(t){setTimeout(t,3e3)}))];case 3:return o.sent(),[3,6];case 4:return[4,r.focus()];case 5:r=o.sent(),o.label=6;case 6:return r?(delete e.notification,delete e.fcmOptions,i=A(f.NOTIFICATION_CLICKED,e),[2,this.attemptToMessageClient_(r,i)]):[2]}}))}))},e.prototype.getNotificationData_=function(t){var e;if(t&&"object"==typeof t.notification){var n=Object(s.__assign)({},t.notification);return n.data=Object(s.__assign)(Object(s.__assign)({},t.notification.data),((e={}).FCM_MSG=t,e)),n}},e.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!=typeof t)throw l.create("bg-handler-function-expected");this.bgMessageHandler=t},e.prototype.getWindowClient_=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(s.__generator)(this,(function(o){switch(o.label){case 0:return e=new URL(t,self.location.href).href,[4,x()];case 1:for(n=o.sent(),r=null,i=0;i<n.length;i++)if(new URL(n[i].url,self.location.href).href===e){r=n[i];break}return[2,r]}}))}))},e.prototype.attemptToMessageClient_=function(t,e){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(n){if(!t)throw l.create("no-window-client-to-msg");return t.postMessage(e),[2]}))}))},e.prototype.hasVisibleClients_=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){switch(t.label){case 0:return[4,x()];case 1:return[2,t.sent().some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))]}}))}))},e.prototype.sendMessageToWindowClients_=function(t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var e,n,r=this;return Object(s.__generator)(this,(function(i){switch(i.label){case 0:return[4,x()];case 1:return e=i.sent(),n=A(f.PUSH_MSG_RECEIVED,t),[4,Promise.all(e.map((function(t){return r.attemptToMessageClient_(t,n)})))];case 2:return i.sent(),[2]}}))}))},e.prototype.getSWRegistration_=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){return[2,self.registration]}))}))},e.prototype.getPublicVapidKey_=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(s.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(t=n.sent()))throw l.create("sw-registration-expected");return[4,this.getVapidDetailsModel().getVapidFromSWScope(t.scope)];case 2:return null==(e=n.sent())?[2,h]:[2,e]}}))}))},e}(k);function x(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function A(t,e){return{firebaseMessagingType:t,firebaseMessagingData:e}}var O=function(t){function e(e){var n=t.call(this,e)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=Object(a.createSubscribe)((function(t){n.messageObserver=t})),n.onTokenRefreshInternal=Object(a.createSubscribe)((function(t){n.tokenRefreshObserver=t})),n.setupSWMessageListener_(),n}return Object(s.__extends)(e,t),e.prototype.requestPermission=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){var t;return Object(s.__generator)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw l.create("denied"===t?"permission-blocked":"permission-default")}}))}))},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw l.create("sw-registration-expected");if(null!=this.registrationToUse)throw l.create("use-sw-before-get-token");this.registrationToUse=t},e.prototype.usePublicVapidKey=function(t){if("string"!=typeof t)throw l.create("invalid-public-vapid-key");if(null!=this.publicVapidKeyToUse)throw l.create("use-public-key-before-get-token");var e=_(t);if(65!==e.length)throw l.create("public-vapid-key-decryption-failed");this.publicVapidKeyToUse=e},e.prototype.onMessage=function(t,e,n){return"function"==typeof t?this.onMessageInternal(t,e,n):this.onMessageInternal(t)},e.prototype.onTokenRefresh=function(t,e,n){return"function"==typeof t?this.onTokenRefreshInternal(t,e,n):this.onTokenRefreshInternal(t)},e.prototype.waitForRegistrationToActivate_=function(t){var e=t.installing||t.waiting||t.active;return new Promise((function(n,r){if(e)if("activated"!==e.state)if("redundant"!==e.state){var i=function(){if("activated"===e.state)n(t);else{if("redundant"!==e.state)return;r(l.create("sw-reg-redundant"))}e.removeEventListener("statechange",i)};e.addEventListener("statechange",i)}else r(l.create("sw-reg-redundant"));else n(t);else r(l.create("no-sw-in-reg"))}))},e.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch((function(t){throw l.create("failed-serviceworker-registration",{browserErrorMessage:t.message})})).then((function(e){return t.waitForRegistrationToActivate_(e).then((function(){return t.registrationToUse=e,e.update(),e}))})))},e.prototype.getPublicVapidKey_=function(){return Object(s.__awaiter)(this,void 0,void 0,(function(){return Object(s.__generator)(this,(function(t){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,h]}))}))},e.prototype.setupSWMessageListener_=function(){var t=this;navigator.serviceWorker.addEventListener("message",(function(e){return Object(s.__awaiter)(t,void 0,void 0,(function(){var t,n,r,i,o;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:return e.data&&e.data.firebaseMessagingType&&e.data.firebaseMessagingData?(n=(t=e.data).firebaseMessagingType,r=t.firebaseMessagingData,this.messageObserver&&this.messageObserver.next(r),(i=r.data)&&"google.c.a.c_id"in i&&"1"===i["google.c.a.e"]?(o=function(t){switch(t){case f.NOTIFICATION_CLICKED:return"notification_open";case f.PUSH_MSG_RECEIVED:return"notification_foreground";default:throw new Error}}(n),[4,this.services.analyticsProvider.get()]):[3,2]):[2];case 1:s.sent().logEvent(o,{message_name:i["google.c.a.c_l"],message_id:i["google.c.a.c_id"],message_time:i["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),s.label=2;case 2:return[2]}}))}))}),!1)},e}(k),D="@firebase/messaging",P="0.6.0";function N(t){var e={isSupported:R};t.INTERNAL.registerComponent(new c.Component("messaging",(function(t){var e={app:t.getProvider("app").getImmediate(),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!R())throw l.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new I(e):new O(e)}),"PUBLIC").setServiceProps(e)),t.registerVersion(D,P)}function R(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}N(o.a)},iqUP:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;n("t6oF"),n("NSPt"),n("6Joi"),n("ABqa"),n("gHGA"),n("LmZi"),n("bQlE"),n("3Kre"),n("O1kn"),i.registerVersion("firebase","7.6.1","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),i.registerVersion("firebase","7.6.1"),t.exports=i},mbIT:function(t,e,n){"use strict";e.isArray=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return o})),n.d(e,"__rest",(function(){return s})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return c})),n.d(e,"__metadata",(function(){return u})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return f})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return C})),n.d(e,"__importDefault",(function(){return S}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function f(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=f(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}},n3uD:function(t,e,n){"use strict";var r=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,s){n(i=t[e].apply(t,r)).then(o,s)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function s(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function a(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function c(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function u(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}o(u,"_index",["name","keyPath","multiEntry","unique"]),s(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[h,u].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[u,h].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new p(t)}))},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},"p//D":function(t,e,n){"use strict";e.rxSubscriber=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),e.$$rxSubscriber=e.rxSubscriber},pshJ:function(t,e,n){"use strict";e.isFunction=function(t){return"function"==typeof t}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return c})),n.d(e,"setLogLevel",(function(){return u}));var i=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s=o.INFO,a=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,r(["["+s+"]  "+t.name+":"],n));break;case o.INFO:console.info.apply(console,r(["["+s+"]  "+t.name+":"],n));break;case o.WARN:console.warn.apply(console,r(["["+s+"]  "+t.name+":"],n));break;case o.ERROR:console.error.apply(console,r(["["+s+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},c=function(){function t(t){this.name=t,this._logLevel=s,this._logHandler=a,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function u(t){i.forEach((function(e){e.logLevel=t}))}},q3Kh:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=n("FWf1");e.map=function(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}};var o=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}();e.MapOperator=o;var s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.Subscriber)},t6oF:function(t,e,n){"use strict";n.r(e);var r=n("wj3C"),i=n.n(r);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.o=function(t){var e=this.f();t.La(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.La(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.La=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).La(e,n)}))},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).La(o(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var s=s||{},a=this||self;function c(t){return"string"==typeof t}function u(t){return"boolean"==typeof t}var l=/^[\w+/_-]+[=]{0,2}$/,h=null;function d(){}function f(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return null===t}function m(t){return"array"==f(t)}function g(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function y(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var b="closure_uid_"+(1e9*Math.random()>>>0),_=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function C(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function S(t,e,n){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:C).apply(null,arguments)}function E(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now||function(){return+new Date};function k(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.gd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function I(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function x(t){if(Error.captureStackTrace)Error.captureStackTrace(this,x);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function A(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");x.call(this,n+t[r])}function O(t,e){throw new A("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function P(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function N(){this.b=this.a=null}k(x,Error),x.prototype.name="CustomError",k(A,x),A.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var R=new D((function(){return new L}),(function(t){t.reset()}));function M(){var t=qt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function L(){this.next=this.b=this.a=null}function F(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}N.prototype.add=function(t,e){var n=R.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},L.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},L.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(c(t))return c(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=c(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},V=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=c(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},B=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=c(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function q(t,e){return 0<=U(t,e)}function H(t,e){var n;return(n=0<=(e=U(t,e)))&&Array.prototype.splice.call(t,e,1),n}function W(t,e){!function(t,e){for(var n=c(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)}))}function z(t){return Array.prototype.concat.apply([],arguments)}function G(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function K(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function Q(t){for(var e in t)return!1;return!0}function $(t){var e,n={};for(e in t)n[e]=t[e];return n}var Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function X(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Y.length;o++)n=Y[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Z(t,e){this.a=t===et&&e||"",this.b=tt}function J(t){return t instanceof Z&&t.constructor===Z&&t.b===tt?t.a:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")}Z.prototype.qa=!0,Z.prototype.pa=function(){return this.a},Z.prototype.toString=function(){return"Const{"+this.a+"}"};var tt={},et={},nt=new Z(et,"");function rt(){this.a="",this.b=ct}function it(t){return t instanceof rt&&t.constructor===rt&&t.b===ct?t.a:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function ot(t,e){var n=J(t);if(!at.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return ut(t=n.replace(st,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof Z?J(t):encodeURIComponent(String(t))})))}rt.prototype.qa=!0,rt.prototype.pa=function(){return this.a.toString()},rt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var st=/%{(\w+)}/g,at=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ct={};function ut(t){var e=new rt;return e.a=t,e}var lt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ht=/&/g,dt=/</g,ft=/>/g,pt=/"/g,mt=/'/g,gt=/\x00/g,yt=/[\x00&<>"']/;function vt(t,e){return-1!=t.indexOf(e)}function bt(t,e){return t<e?-1:t>e?1:0}function _t(){this.a="",this.b=Tt}function wt(t){return t instanceof _t&&t.constructor===_t&&t.b===Tt?t.a:(O("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}_t.prototype.qa=!0,_t.prototype.pa=function(){return this.a.toString()},_t.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ct=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function St(t){return t instanceof _t?t:(t="object"==typeof t&&t.qa?t.pa():String(t),Ct.test(t)||(t="about:invalid#zClosurez"),kt(t))}var Et,Tt={};function kt(t){var e=new _t;return e.a=t,e}kt("about:blank");t:{var It=a.navigator;if(It){var xt=It.userAgent;if(xt){Et=xt;break t}}Et=""}function At(t){return vt(Et,t)}function Ot(){this.a="",this.b=Pt}function Dt(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Pt?t.a:(O("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}Ot.prototype.qa=!0,Ot.prototype.pa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Pt={};function Nt(t){var e=new Ot;return e.a=t,e}Nt("<!DOCTYPE html>");var Rt,Mt,Lt=Nt("");function Ft(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ut(t){return yt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ht,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(dt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(ft,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(pt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(mt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(gt,"&#0;"))),t}function jt(t){a.setTimeout((function(){throw t}),0)}function Vt(t,e){Mt||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);Mt=function(){t.then(Ht)}}else Mt=function(){var t=Ht;!y(a.setImmediate)||a.Window&&a.Window.prototype&&!At("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(Rt||(Rt=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!At("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",function(t){var e=ut(J(nt));F(t,"HTMLIFrameElement"),t.src=it(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Dt(Lt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=S((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!At("Trident")&&!At("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){a.setTimeout(t,0)}}()),Rt(t)):a.setImmediate(t)}}(),Bt||(Mt(),Bt=!0),qt.add(t,e)}Nt("<br>");var Bt=!1,qt=new N;function Ht(){for(var t;t=M();){try{t.a.call(t.b)}catch(e){jt(e)}P(R,t)}Bt=!1}function Wt(t,e){if(this.a=zt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=d)try{var n=this;t.call(e,(function(t){re(n,Gt,t)}),(function(t){if(!(t instanceof le))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}re(n,Kt,t)}))}catch(r){re(this,Kt,r)}}var zt=0,Gt=2,Kt=3;function Qt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Qt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var $t=new D((function(){return new Qt}),(function(t){t.reset()}));function Yt(t,e,n){var r=$t.get();return r.g=t,r.b=e,r.f=n,r}function Xt(t){if(t instanceof Wt)return t;var e=new Wt(d);return re(e,Gt,t),e}function Zt(t){return new Wt((function(e,n){n(t)}))}function Jt(t,e,n){ie(t,e,n,null)||Vt(E(e,t))}function te(t){return new Wt((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Jt(t[o],E(i,o,!0),E(i,o,!1));else e(r)}))}function ee(t,e){t.b||t.a!=Gt&&t.a!=Kt||oe(t),t.f?t.f.next=e:t.b=e,t.f=e}function ne(t,e,n,r){var i=Yt(null,null,null);return i.a=new Wt((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof le?o(e):t(i)}catch(s){o(s)}}:o})),i.a.c=t,ee(t,i),i.a}function re(t,e,n){t.a==zt&&(t===n&&(e=Kt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,ie(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,oe(t),e!=Kt||n instanceof le||function(t,e){t.g=!0,Vt((function(){t.g&&ue.call(null,e)}))}(t,n)))}function ie(t,e,n,r){if(t instanceof Wt)return ee(t,Yt(e||d,n||null,r)),!0;if(I(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(y(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function oe(t){t.h||(t.h=!0,Vt(t.Zb,t))}function se(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function ae(t,e,n,r){if(n==Kt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,ce(e,n,r);else try{e.c?e.g.call(e.f):ce(e,n,r)}catch(i){ue.call(null,i)}P($t,e)}function ce(t,e,n){e==Gt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Wt.prototype.then=function(t,e,n){return ne(this,y(t)?t:null,y(e)?e:null,n)},Wt.prototype.$goog_Thenable=!0,(t=Wt.prototype).ka=function(t,e){return(t=Yt(t,t,e)).c=!0,ee(this,t),this},t.s=function(t,e){return ne(this,null,t,e)},t.cancel=function(t){this.a==zt&&Vt((function(){!function t(e,n){if(e.a==zt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==zt&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):se(r),ae(r,o,Kt,n)))}e.c=null}else re(e,Kt,n)}(this,new le(t))}),this)},t.Oc=function(t){this.a=zt,re(this,Gt,t)},t.Pc=function(t){this.a=zt,re(this,Kt,t)},t.Zb=function(){for(var t;t=se(this);)ae(this,t,this.a,this.i);this.h=!1};var ue=jt;function le(t){x.call(this,t)}function he(){0!=de&&(fe[this[b]||(this[b]=++_)]=this),this.va=this.va,this.la=this.la}k(le,x),le.prototype.name="cancel";var de=0,fe={};function pe(t){if(!t.va&&(t.va=!0,t.za(),0!=de)){var e=t[b]||(t[b]=++_);if(0!=de&&t.la&&0<t.la.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete fe[e]}}function me(t){return me[" "](t),t}he.prototype.va=!1,he.prototype.za=function(){if(this.la)for(;this.la.length;)this.la.shift()()},me[" "]=d;var ge,ye,ve=At("Opera"),be=At("Trident")||At("MSIE"),_e=At("Edge"),we=_e||be,Ce=At("Gecko")&&!(vt(Et.toLowerCase(),"webkit")&&!At("Edge"))&&!(At("Trident")||At("MSIE"))&&!At("Edge"),Se=vt(Et.toLowerCase(),"webkit")&&!At("Edge");function Ee(){var t=a.document;return t?t.documentMode:void 0}t:{var Te="",ke=(ye=Et,Ce?/rv:([^\);]+)(\)|;)/.exec(ye):_e?/Edge\/([\d\.]+)/.exec(ye):be?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ye):Se?/WebKit\/(\S+)/.exec(ye):ve?/(?:Version)[ \/]?(\S+)/.exec(ye):void 0);if(ke&&(Te=ke?ke[1]:""),be){var Ie=Ee();if(null!=Ie&&Ie>parseFloat(Te)){ge=String(Ie);break t}}ge=Te}var xe,Ae={};function Oe(t){return function(t,e){var n=Ae;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=lt(String(ge)).split("."),r=lt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=bt(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||bt(0==s[2].length,0==a[2].length)||bt(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}xe=a.document&&be?Ee():void 0;var De=Object.freeze||function(t){return t},Pe=!be||9<=Number(xe),Ne=be&&!Oe("9"),Re=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",d,e),a.removeEventListener("test",d,e)}catch(n){}return t}();function Me(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function Le(t,e){if(Me.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Ce){t:{try{me(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=c(t.pointerType)?t.pointerType:Fe[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Me.prototype.preventDefault=function(){this.Mb=!1},k(Le,Me);var Fe=De({2:"touch",3:"pen",4:"mouse"});Le.prototype.preventDefault=function(){Le.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ne)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Le.prototype.f=function(){return this.a};var Ue="closure_listenable_"+(1e6*Math.random()|0),je=0;function Ve(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Pa=i,this.key=++je,this.ta=this.Ka=!1}function Be(t){t.ta=!0,t.listener=null,t.proxy=null,t.src=null,t.Pa=null}function qe(t){this.src=t,this.a={},this.b=0}function He(t,e){var n=e.type;n in t.a&&H(t.a[n],e)&&(Be(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function We(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ta&&o.listener==e&&o.capture==!!n&&o.Pa==r)return i}return-1}qe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=We(t,e,r,i);return-1<s?(e=t[s],n||(e.Ka=!1)):((e=new Ve(e,this.src,o,!!r,i)).Ka=n,t.push(e)),e};var ze="closure_lm_"+(1e6*Math.random()|0),Ge={};function Ke(t,e,n,r,i){if(r&&r.once)$e(t,e,n,r,i);else if(m(e))for(var o=0;o<e.length;o++)Ke(t,e[o],n,r,i);else n=on(n),t&&t[Ue]?an(t,e,n,v(r)?!!r.capture:!!r,i):Qe(t,e,n,!1,r,i)}function Qe(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i,a=nn(t);if(a||(t[ze]=a=new qe(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=en,e=Pe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Re||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ze(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function $e(t,e,n,r,i){if(m(e))for(var o=0;o<e.length;o++)$e(t,e[o],n,r,i);else n=on(n),t&&t[Ue]?cn(t,e,n,v(r)?!!r.capture:!!r,i):Qe(t,e,n,!0,r,i)}function Ye(t,e,n,r,i){if(m(e))for(var o=0;o<e.length;o++)Ye(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=on(n),t&&t[Ue]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=We(o=t.a[e],n,r,i))&&(Be(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=nn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=We(e,n,r,i)),(n=-1<t?e[t]:null)&&Xe(n))}function Xe(t){if("number"!=typeof t&&t&&!t.ta){var e=t.src;if(e&&e[Ue])He(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ze(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=nn(e))?(He(n,t),0==n.b&&(n.src=null,e[ze]=null)):Be(t)}}}function Ze(t){return t in Ge?Ge[t]:Ge[t]="on"+t}function Je(t,e,n,r){var i=!0;if((t=nn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ta&&(o=tn(o,r),i=i&&!1!==o)}return i}function tn(t,e){var n=t.listener,r=t.Pa||t.src;return t.Ka&&Xe(t),n.call(r,e)}function en(t,e){if(t.ta)return!0;if(!Pe){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Le(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Je(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Je(r[i],t,!1,e),n=n&&o}return n}return tn(t,new Le(e,this))}function nn(t){return(t=t[ze])instanceof qe?t:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function on(t){return y(t)?t:(t[rn]||(t[rn]=function(e){return t.handleEvent(e)}),t[rn])}function sn(){he.call(this),this.u=new qe(this),this.Sb=this,this.Xa=null}function an(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function cn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function un(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ta&&s.capture==n){var a=s.listener,c=s.Pa||s.src;s.Ka&&He(t.u,s),i=!1!==a.call(c,r)&&i}}return i&&0!=r.Mb}function ln(t,e,n){if(y(t))n&&(t=S(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=S(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function hn(t){var e=null;return new Wt((function(n,r){-1==(e=ln((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).s((function(t){throw a.clearTimeout(e),t}))}function dn(t){if(t.U&&"function"==typeof t.U)return t.U();if(c(t))return t.split("");if(g(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function fn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(g(t)||c(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof pn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function mn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];gn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)gn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function gn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}k(sn,he),sn.prototype[Ue]=!0,sn.prototype.addEventListener=function(t,e,n,r){Ke(this,t,e,n,r)},sn.prototype.removeEventListener=function(t,e,n,r){Ye(this,t,e,n,r)},sn.prototype.dispatchEvent=function(t){var e,n=this.Xa;if(n)for(e=[];n;n=n.Xa)e.push(n);n=this.Sb;var r=t.type||t;if(c(t))t=new Me(t,n);else if(t instanceof Me)t.target=t.target||n;else{var i=t;X(t=new Me(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=un(s,r,!0,t)&&i}if(i=un(s=t.b=n,r,!0,t)&&i,i=un(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=un(s=t.b=e[o],r,!1,t)&&i;return i},sn.prototype.za=function(){if(sn.qb.za.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Be(n[r]);delete e.a[t],e.b--}}this.Xa=null},(t=pn.prototype).U=function(){mn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return mn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return gn(this.b,t)?this.b[t]:e},t.set=function(t,e){gn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var yn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof vn?(this.h=void 0!==e?e:t.h,bn(this,t.f),this.i=t.i,this.b=t.b,_n(this,t.l),this.c=t.c,wn(this,Vn(t.a)),this.g=t.g):t&&(n=String(t).match(yn))?(this.h=!!e,bn(this,n[1]||"",!0),this.i=kn(n[2]||""),this.b=kn(n[3]||"",!0),_n(this,n[4]),this.c=kn(n[5]||"",!0),wn(this,n[6]||"",!0),this.g=kn(n[7]||"")):(this.h=!!e,this.a=new Rn(null,this.h))}function bn(t,e,n){t.f=n?kn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function _n(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function wn(t,e,n){e instanceof Rn?(t.a=e,function(t,e){e&&!t.f&&(Mn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Fn(this,e),jn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=In(e,Pn)),t.a=new Rn(e,t.h))}function Cn(t,e,n){t.a.set(e,n)}function Sn(t,e){return t.a.get(e)}function En(t){return t instanceof vn?new vn(t):new vn(t,void 0)}function Tn(t,e){var n=new vn(null,void 0);return bn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function kn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function In(t,e,n){return c(t)?(t=encodeURI(t).replace(e,xn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function xn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}vn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(In(e,An,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(In(e,An,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(In(n,"/"==n.charAt(0)?Dn:On,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",In(n,Nn)),t.join("")},vn.prototype.resolve=function(t){var e=new vn(this),n=!!t.f;n?bn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)_n(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(vt(i,"./")||vt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?wn(e,Vn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var An=/[#\/\?@]/g,On=/[#\?:]/g,Dn=/[#\?]/g,Pn=/[#\?@]/g,Nn=/#/g;function Rn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Mn(t){t.a||(t.a=new pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ln(t){var e=fn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Rn(null,void 0);t=dn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];m(o)?jn(n,i,o):n.add(i,o)}return n}function Fn(t,e){Mn(t),e=Bn(t,e),gn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,gn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&mn(t)))}function Un(t,e){return Mn(t),e=Bn(t,e),gn(t.a.b,e)}function jn(t,e,n){Fn(t,e),0<n.length&&(t.c=null,t.a.set(Bn(t,e),G(n)),t.b+=n.length)}function Vn(t){var e=new Rn;return e.c=t.c,t.a&&(e.a=new pn(t.a),e.b=t.b),e}function Bn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=Rn.prototype).add=function(t,e){Mn(this),this.c=null,t=Bn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Mn(this),this.a.forEach((function(n,r){j(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){Mn(this);for(var t=this.a.U(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.U=function(t){Mn(this);var e=[];if(c(t))Un(this,t)&&(e=z(e,this.a.get(Bn(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=z(e,t[n])}return e},t.set=function(t,e){return Mn(this),this.c=null,Un(this,t=Bn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.U(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var qn=!be||9<=Number(xe);function Hn(t){var e=document;return c(t)?e.getElementById(t):t}function Wn(t,e){K(e,(function(e,n){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:zn.hasOwnProperty(n)?t.setAttribute(zn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var zn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Gn(t){if(t&&"number"==typeof t.length){if(v(t))return"function"==typeof t.item||"string"==typeof t.item;if(y(t))return"function"==typeof t.item}return!1}function Kn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(m(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),Xn(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Xn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Qn,t,e),e.join("")}function Qn(){}var $n={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Yn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Xn(t,e){e.push('"',t.replace(Yn,(function(t){var e=$n[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),$n[t]=e),e})),'"')}function Zn(){var t=yr();return be&&!!xe&&11==xe||/Edge\/\d+/.test(t)}function Jn(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function tr(t,e){e=e||a.window;var n="about:blank";t&&(n=wt(St(t)).toString()),e.location.href=n}function er(t){return!!((t=(t||yr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function nr(t){t=t||a.window;try{t.close()}catch(e){}}function rr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=yr().toLowerCase(),r&&(e.target=r,vt(n,"crios/")&&(e.target="_blank")),pr(yr())==dr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof _t?n:St(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((At("iPhone")&&!At("iPod")&&!At("iPad")||At("iPad")||At("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(F(s=r.document.createElement("A"),"HTMLAnchorElement"),e instanceof _t||e instanceof _t||(e="object"==typeof e&&e.qa?e.pa():String(e),Ct.test(e)||(e="about:invalid#zClosurez"),e=kt(e)),s.href=wt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=wt(e).toString(),s&&(we&&vt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Nt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ut(t)+'">'),s.document.write(Dt(t)),s.document.close())):(s=r.open(wt(e).toString(),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var ir=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,or=/^[^@]+@[^@]+$/;function sr(){var t=null;return new Wt((function(e){"complete"==a.document.readyState?e():(t=function(){e()},$e(window,"load",t))})).s((function(e){throw Ye(window,"load",t),e}))}function ar(t){return t=t||yr(),!("file:"!==Cr()&&"ionic:"!==Cr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function cr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function ur(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function lr(){return i.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.a.INTERNAL.hasOwnProperty("node")?"Node":ur()?"Worker":"Browser"}function hr(){var t=lr();return"ReactNative"===t||"Node"===t}var dr="Firefox",fr="Chrome";function pr(t){var e=t.toLowerCase();return vt(e,"opera/")||vt(e,"opr/")||vt(e,"opios/")?"Opera":vt(e,"iemobile")?"IEMobile":vt(e,"msie")||vt(e,"trident/")?"IE":vt(e,"edge/")?"Edge":vt(e,"firefox/")?dr:vt(e,"silk/")?"Silk":vt(e,"blackberry")?"Blackberry":vt(e,"webos")?"Webos":!vt(e,"safari/")||vt(e,"chrome/")||vt(e,"crios/")||vt(e,"android")?!vt(e,"chrome/")&&!vt(e,"crios/")||vt(e,"edge/")?vt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":fr:"Safari"}var mr={Wc:"FirebaseCore-web",Yc:"FirebaseUI-web"};function gr(t,e){e=e||[];var n,r=[],i={};for(n in mr)i[mr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=lr())?r=pr(i=yr()):"Worker"===r&&(r=pr(i=yr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function yr(){return a.navigator&&a.navigator.userAgent||""}function vr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function br(){try{var t=a.localStorage,e=Ir();if(t)return t.setItem(e,"1"),t.removeItem(e),!Zn()||!!a.indexedDB}catch(n){return ur()&&!!a.indexedDB}return!1}function _r(){return(wr()||"chrome-extension:"===Cr()||ar())&&!hr()&&br()&&!ur()}function wr(){return"http:"===Cr()||"https:"===Cr()}function Cr(){return a.location&&a.location.protocol||null}function Sr(t){return!er(t=t||yr())&&pr(t)!=dr}function Er(t){return void 0===t?null:Kn(t)}function Tr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function kr(t){if(null!==t)return JSON.parse(t)}function Ir(t){return t||Math.floor(1e9*Math.random()).toString()}function xr(t){return"Safari"!=pr(t=t||yr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ar(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Or(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=yr(),e=lr(),this.b=er(t)||"ReactNative"===e}function Dr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Pr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Nr(){return!(!vr("fireauth.oauthhelper",a)&&!vr("fireauth.iframe",a))}Or.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!wr()&&"chrome-extension:"!==Cr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Rr,Mr={};function Lr(t){Mr[t]||(Mr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Fr={};Object.defineProperty(Fr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Fr,"abcd",{configurable:!0,enumerable:!0,value:2}),Rr=2==Fr.abcd}catch(ye){Rr=!1}function Ur(t,e,n){Rr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function jr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ur(t,n,e[n])}function Vr(t){var e={};return jr(e,t),e}function Br(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ur(e,n,Br(t[n]));return e}function qr(t){var e={},n=t[Wr],r=t[zr];if(!(t=t[Gr])||t!=Hr&&!n)throw Error("Invalid provider user info!");e[Qr]=r||null,e[Kr]=n||null,Ur(this,Yr,t),Ur(this,$r,Br(e))}var Hr="EMAIL_SIGNIN",Wr="email",zr="newEmail",Gr="requestType",Kr="email",Qr="fromEmail",$r="data",Yr="operation";function Xr(t,e){this.code=Jr+t,this.message=e||ti[t]||""}function Zr(t){var e=t&&t.code;return e?new Xr(e.substring(Jr.length),t.message):null}k(Xr,Error),Xr.prototype.A=function(){return{code:this.code,message:this.message}},Xr.prototype.toJSON=function(){return this.A()};var Jr="auth/",ti={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ei(t){var e=Sn(t=En(t),ni)||null,n=Sn(t,ri)||null,r=Sn(t,si)||null;if(r=r&&ci[r]||null,!e||!n||!r)throw new Xr("argument-error",ni+", "+ri+"and "+si+" are required in a valid action code URL.");jr(this,{apiKey:e,operation:r,code:n,continueUrl:Sn(t,ii)||null,languageCode:Sn(t,oi)||null,tenantId:Sn(t,ai)||null})}var ni="apiKey",ri="oobCode",ii="continueUrl",oi="languageCode",si="mode",ai="tenantId",ci={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:Hr,verifyEmail:"VERIFY_EMAIL"};function ui(t){try{return new ei(t)}catch(e){return null}}function li(t){var e=t[mi];if(void 0===e)throw new Xr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Xr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[hi];if(n&&"object"==typeof n){e=n[vi];var r=n[gi];if(n=n[yi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Xr("argument-error",gi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Xr("argument-error",yi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Xr("argument-error",vi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Xr("missing-android-pkg-name")}}else if(void 0!==n)throw new Xr("argument-error",hi+" property must be a non null object when specified.");if(this.f=null,(e=t[pi])&&"object"==typeof e){if("string"==typeof(e=e[bi])&&e.length)this.f=e;else if(void 0!==e)throw new Xr("argument-error",bi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Xr("argument-error",pi+" property must be a non null object when specified.");if(void 0!==(e=t[fi])&&"boolean"!=typeof e)throw new Xr("argument-error",fi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[di])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Xr("argument-error",di+" property must be a non empty string when specified.");this.i=t||null}var hi="android",di="dynamicLinkDomain",fi="handleCodeInApp",pi="iOS",mi="url",gi="installApp",yi="minimumVersion",vi="packageName",bi="bundleId";function _i(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var wi=null,Ci=null;function Si(t){this.f=t.sub,T(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Ei(t){return(t=Ti(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Si(t):null}function Ti(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ci[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!wi){wi={},Ci={};for(var t=0;65>t;t++)wi[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Ci[wi[t]]=t,62<=t&&(Ci["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}(t))}catch(r){}return null}Si.prototype.R=function(){return this.c},Si.prototype.g=function(){return this.b};var ki,Ii={bd:{cb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},dd:{cb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},ed:{cb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function xi(t){for(var e in Ii)if(Ii[e].id===t)return{firebaseEndpoint:(t=Ii[e]).cb,secureTokenEndpoint:t.ib};return null}ki=xi("__EID__")?"__EID__":void 0;var Ai="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Oi=["client_id","response_type","scope","redirect_uri","state"],Di={Xc:{Ea:"locale",sa:700,ra:600,Fa:"facebook.com",Qa:Oi},Zc:{Ea:null,sa:500,ra:750,Fa:"github.com",Qa:Oi},$c:{Ea:"hl",sa:515,ra:680,Fa:"google.com",Qa:Oi},fd:{Ea:"lang",sa:485,ra:705,Fa:"twitter.com",Qa:Ai},Vc:{Ea:"locale",sa:600,ra:600,Fa:"apple.com",Qa:[]}};function Pi(t){for(var e in Di)if(Di[e].Fa==t)return Di[e];return null}function Ni(t){var e={};e["facebook.com"]=Ui,e["google.com"]=Vi,e["github.com"]=ji,e["twitter.com"]=Bi;var n=t&&t[Mi];try{if(n)return e[n]?new e[n](t):new Fi(t);if(void 0!==t[Ri])return new Li(t)}catch(r){}return null}var Ri="idToken",Mi="providerId";function Li(t){var e=t[Mi];if(!e&&t[Ri]){var n=Ei(t[Ri]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ur(this,"providerId",e),Ur(this,"isNewUser",n)}function Fi(t){Li.call(this,t),Ur(this,"profile",Br((t=kr(t.rawUserInfo||"{}"))||{}))}function Ui(t){if(Fi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ji(t){if(Fi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ur(this,"username",this.profile&&this.profile.login||null)}function Vi(t){if(Fi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Bi(t){if(Fi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ur(this,"username",t.screenName||null)}function qi(t){var e=En(t),n=Sn(e,"link"),r=Sn(En(n),"link");return e=Sn(e,"deep_link_id"),Sn(En(e),"link")||e||r||n||t}function Hi(){}function Wi(t,e){return t.then((function(t){if(t[Os]){var n=Ei(t[Os]);if(!n||e!=n.f)throw new Xr("user-mismatch");return t}throw new Xr("user-mismatch")})).s((function(t){throw t&&t.code&&t.code==Jr+"user-not-found"?new Xr("user-mismatch"):t}))}function zi(t,e){if(!e)throw new Xr("internal-error","failed to construct a credential");this.a=e,Ur(this,"providerId",t),Ur(this,"signInMethod",t)}function Gi(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Ki(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new zi(t.providerId,t.pendingToken)}catch(e){}return null}function Qi(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ur(this,"idToken",e.idToken),e.accessToken&&Ur(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ur(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Xr("internal-error","failed to construct a credential");Ur(this,"accessToken",e.oauthToken),Ur(this,"secret",e.oauthTokenSecret)}Ur(this,"providerId",t),Ur(this,"signInMethod",n)}function $i(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Ln(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Yi(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Qi(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Xi(t,e){this.Fc=e||[],jr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.eb=(Pi(t)||{}).Ea||null,this.bb=null}function Zi(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Xr("argument-error",'SAML provider IDs must be prefixed with "saml."');Xi.call(this,t,[])}function Ji(t){Xi.call(this,t,Oi),this.a=[]}function to(){Ji.call(this,"facebook.com")}function eo(t){if(!t)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new to).credential({accessToken:e})}function no(){Ji.call(this,"github.com")}function ro(t){if(!t)throw new Xr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new no).credential({accessToken:e})}function io(){Ji.call(this,"google.com"),this.ya("profile")}function oo(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new io).credential({idToken:n,accessToken:e})}function so(){Xi.call(this,"twitter.com",Ai)}function ao(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Xr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Qi("twitter.com",n,"twitter.com")}function co(t,e,n){this.a=t,this.c=e,Ur(this,"providerId","password"),Ur(this,"signInMethod",n===lo.EMAIL_LINK_SIGN_IN_METHOD?lo.EMAIL_LINK_SIGN_IN_METHOD:lo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function uo(t){return t&&t.email&&t.password?new co(t.email,t.password,t.signInMethod):null}function lo(){jr(this,{providerId:"password",isOAuthProvider:!1})}function ho(t,e){if(!(e=fo(e)))throw new Xr("argument-error","Invalid email link!");return new co(t,e.code,lo.EMAIL_LINK_SIGN_IN_METHOD)}function fo(t){return(t=ui(t=qi(t)))&&t.operation===Hr?t:null}function po(t){if(!(t.Va&&t.Ua||t.Ha&&t.ba))throw new Xr("internal-error");this.a=t,Ur(this,"providerId","phone"),Ur(this,"signInMethod","phone")}function mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return j(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new po(e)}return null}function go(t){return t.a.Ha&&t.a.ba?{temporaryProof:t.a.Ha,phoneNumber:t.a.ba}:{sessionInfo:t.a.Va,code:t.a.Ua}}function yo(t){try{this.a=t||i.a.auth()}catch(e){throw new Xr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}jr(this,{providerId:"phone",isOAuthProvider:!1})}function vo(t,e){if(!t)throw new Xr("missing-verification-id");if(!e)throw new Xr("missing-verification-code");return new po({Va:t,Ua:e})}function bo(t){if(t.temporaryProof&&t.phoneNumber)return new po({Ha:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return oo(o,n);case"facebook.com":return eo(n);case"github.com":return ro(n);case"twitter.com":return ao(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new zi(e,s):new Qi(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Ji(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function _o(t){if(!t.isOAuthProvider)throw new Xr("invalid-oauth-provider")}function wo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new Xr("invalid-auth-event");if(this.g&&this.a)throw new Xr("invalid-auth-event");if(this.g&&!this.f)throw new Xr("invalid-auth-event")}function Co(t){return(t=t||{}).type?new wo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Zr(t.error),t.postBody,t.tenantId):null}function So(){this.b=null,this.a=[]}k(Fi,Li),k(Ui,Fi),k(ji,Fi),k(Vi,Fi),k(Bi,Fi),zi.prototype.na=function(t){return Qs(t,Gi(this))},zi.prototype.b=function(t,e){var n=Gi(this);return n.idToken=e,$s(t,n)},zi.prototype.f=function(t,e){return Wi(Ys(t,Gi(this)),e)},zi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Qi.prototype.na=function(t){return Qs(t,$i(this))},Qi.prototype.b=function(t,e){var n=$i(this);return n.idToken=e,$s(t,n)},Qi.prototype.f=function(t,e){return Wi(Ys(t,$i(this)),e)},Qi.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Xi.prototype.Ga=function(t){return this.zb=$(t),this},k(Zi,Xi),k(Ji,Xi),Ji.prototype.ya=function(t){return q(this.a,t)||this.a.push(t),this},Ji.prototype.Hb=function(){return G(this.a)},Ji.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Xr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Qi(this.providerId,n,this.providerId)},k(to,Ji),Ur(to,"PROVIDER_ID","facebook.com"),Ur(to,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),k(no,Ji),Ur(no,"PROVIDER_ID","github.com"),Ur(no,"GITHUB_SIGN_IN_METHOD","github.com"),k(io,Ji),Ur(io,"PROVIDER_ID","google.com"),Ur(io,"GOOGLE_SIGN_IN_METHOD","google.com"),k(so,Xi),Ur(so,"PROVIDER_ID","twitter.com"),Ur(so,"TWITTER_SIGN_IN_METHOD","twitter.com"),co.prototype.na=function(t){return this.signInMethod==lo.EMAIL_LINK_SIGN_IN_METHOD?Ta(t,ia,{email:this.a,oobCode:this.c}):Ta(t,wa,{email:this.a,password:this.c})},co.prototype.b=function(t,e){return this.signInMethod==lo.EMAIL_LINK_SIGN_IN_METHOD?Ta(t,oa,{idToken:e,email:this.a,oobCode:this.c}):Ta(t,ma,{idToken:e,email:this.a,password:this.c})},co.prototype.f=function(t,e){return Wi(this.na(t),e)},co.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},jr(lo,{PROVIDER_ID:"password"}),jr(lo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),jr(lo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),po.prototype.na=function(t){return t.Wa(go(this))},po.prototype.b=function(t,e){var n=go(this);return n.idToken=e,Ta(t,Sa,n)},po.prototype.f=function(t,e){var n=go(this);return n.operation="REAUTH",Wi(t=Ta(t,Ea,n),e)},po.prototype.A=function(){var t={providerId:"phone"};return this.a.Va&&(t.verificationId=this.a.Va),this.a.Ua&&(t.verificationCode=this.a.Ua),this.a.Ha&&(t.temporaryProof=this.a.Ha),this.a.ba&&(t.phoneNumber=this.a.ba),t},yo.prototype.Wa=function(t,e){var n=this.a.b;return Xt(e.verify()).then((function(r){if(!c(r))throw new Xr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Ta(t,fa,e)}(n,{phoneNumber:t,recaptchaToken:r}).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new Xr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},jr(yo,{PROVIDER_ID:"phone"}),jr(yo,{PHONE_SIGN_IN_METHOD:"phone"}),wo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},wo.prototype.R=function(){return this.h},wo.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var Eo,To=null;function ko(t){var e="unauthorized-domain",n=void 0,r=En(t);t=r.b,"chrome-extension"==(r=r.f)?n=Ft("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ft("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Xr.call(this,e,n)}function Io(t,e,n){Xr.call(this,t,n),(t=e||{}).Ab&&Ur(this,"email",t.Ab),t.ba&&Ur(this,"phoneNumber",t.ba),t.credential&&Ur(this,"credential",t.credential),t.Qb&&Ur(this,"tenantId",t.Qb)}function xo(t){if(t.code){var e=t.code||"";0==e.indexOf(Jr)&&(e=e.substring(Jr.length));var n={credential:bo(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new Xr(e,t.message||void 0);return new Io(e,n,t.message)}return null}function Ao(){}function Oo(){}function Do(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Po(){}function No(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=S(this.fc,this),this.a.onerror=S(this.Ib,this),this.a.onprogress=S(this.gc,this),this.a.ontimeout=S(this.kc,this)}function Ro(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Mo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Lo(t){this.f=t,this.b=this.c=this.a=null}function Fo(t,e){this.name=t,this.value=e}k(ko,Xr),k(Io,Xr),Io.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&X(t,e),t},Io.prototype.toJSON=function(){return this.A()},Ao.prototype.c=null,k(Oo,Ao),Oo.prototype.a=function(){var t=Do(this);return t?new ActiveXObject(t):new XMLHttpRequest},Oo.prototype.b=function(){var t={};return Do(this)&&(t[0]=!0,t[1]=!0),t},Eo=new Oo,k(Po,Ao),Po.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new No;throw Error("Unsupported browser")},Po.prototype.b=function(){return{}},(t=No.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ro(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Ro(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Ro(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Mo.prototype.a=null,Mo.prototype.reset=function(t,e,n,r,i){r||T(),delete this.a},Fo.prototype.toString=function(){return this.name};var Uo=new Fo("SEVERE",1e3),jo=new Fo("WARNING",900),Vo=new Fo("CONFIG",700),Bo=new Fo("FINE",500);Lo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(O("Root logger has no level set."),null)}(this).value)for(y(e)&&(e=e()),t=new Mo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var qo={},Ho=null;function Wo(t){var e;if(Ho||(Ho=new Lo(""),qo[""]=Ho,Ho.c=Vo),!(e=qo[t])){e=new Lo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=Wo(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,qo[t]=e}return e}function zo(t,e){t&&t.log(Bo,e,void 0)}function Go(t){this.f=t}function Ko(t){sn.call(this),this.o=t,this.readyState=Qo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=Wo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}k(Go,Ao),Go.prototype.a=function(){return new Ko(this.f)},Go.prototype.b=function(t){return function(){return t}}({}),k(Ko,sn);var Qo=0;function $o(t){t.c.read().then(t.ec.bind(t)).catch(t.Oa.bind(t))}function Yo(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Xo(t)}function Xo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Zo(t){sn.call(this),this.headers=new pn,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=Jo,this.v=this.P=!1}(t=Ko.prototype).open=function(t,e){if(this.readyState!=Qo)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Xo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Oa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Yo(this,!1)),this.readyState=Qo},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Xo(this)),this.a&&(this.readyState=3,Xo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Oa.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,$o(this)):t.text().then(this.ic.bind(this),this.Oa.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Yo(this,!0):Xo(this),3==this.readyState&&$o(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,Yo(this,!0))},t.hc=function(t){this.a&&(this.response=t,Yo(this,!0))},t.Oa=function(t){var e=this.h;e&&e.log(jo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&Yo(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(jo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(jo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},k(Zo,sn);var Jo="";Zo.prototype.b=Wo("goog.net.XhrIo");var ts=/^https?$/i,es=["POST","PUT"];function ns(t){return"content-type"==t.toLowerCase()}function rs(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,is(t),ss(t)}function is(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function os(t){if(t.c&&void 0!==s)if(t.w[1]&&4==cs(t)&&2==us(t))zo(t.b,ls(t,"Local request error detected and ignored"));else if(t.i&&4==cs(t))ln(t.Lb,0,t);else if(t.dispatchEvent("readystatechange"),4==cs(t)){zo(t.b,ls(t,"Request complete")),t.c=!1;try{var e,n=us(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(yn)[1]||null;if(!o&&a.self&&a.self.location){var c=a.self.location.protocol;o=c.substr(0,c.length-1)}i=!ts.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<cs(t)?t.a.statusText:""}catch(l){zo(t.b,"Can not get status: "+l.message),u=""}t.h=u+" ["+us(t)+"]",is(t)}}finally{ss(t)}}}function ss(t,e){if(t.a){as(t);var n=t.a,r=t.w[0]?d:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Uo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function as(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(a.clearTimeout(t.o),t.o=null)}function cs(t){return t.a?t.a.readyState:0}function us(t){try{return 2<cs(t)?t.a.status:-1}catch(e){return-1}}function ls(t,e){return e+" ["+t.O+" "+t.l+" "+us(t)+"]"}function hs(t){var e=Cs;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ds(t,e,n){t.a=!0,t.c=n,t.f=!e,gs(t)}function fs(t){if(t.a){if(!t.u)throw new ys(t);t.u=!1}}function ps(t,e,n,r){t.g.push([e,n,r]),t.a&&gs(t)}function ms(t){return B(t.g,(function(t){return y(t[1])}))}function gs(t){if(t.h&&t.a&&ms(t)){var e=t.h,n=_s[e];n&&(a.clearTimeout(n.a),delete _s[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var c=o.call(i||t.o,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(I(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,ms(t)||(n=!0)}}t.c=e,r&&(c=S(t.m,t,!0),r=S(t.m,t,!1),e instanceof hs?(ps(e,c,r),e.w=!0):e.then(c,r)),n&&(e=new bs(e),_s[e.a]=e,t.h=e.a)}function ys(){x.call(this)}function vs(){x.call(this)}function bs(t){this.a=a.setTimeout(S(this.c,this),0),this.b=t}(t=Zo.prototype).Ia=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",zo(this.b,ls(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(zo(this.b,ls(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ss(this))},t.za=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ss(this,!0)),Zo.qb.za.call(this)},t.Lb=function(){this.va||(this.J||this.i||this.f?os(this):this.yc())},t.yc=function(){os(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Jo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Uo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return zo(this.b,"Can not get response: "+e.message),null}},hs.prototype.cancel=function(t){if(this.a)this.c instanceof hs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new vs(this),fs(this),ds(this,!1,t))}},hs.prototype.m=function(t,e){this.i=!1,ds(this,t,e)},hs.prototype.then=function(t,e,n){var r,i,o=new Wt((function(t,e){r=t,i=e}));return ps(this,r,(function(t){t instanceof vs?o.cancel():i(t)})),o.then(t,e,n)},hs.prototype.$goog_Thenable=!0,k(ys,x),ys.prototype.message="Deferred has already fired",ys.prototype.name="AlreadyCalledError",k(vs,x),vs.prototype.message="Deferred was canceled",vs.prototype.name="CanceledError",bs.prototype.c=function(){throw delete _s[this.a],this.b};var _s={};function ws(t){var e={},n=e.document||document,r=it(t).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ia:void 0},s=new hs(o),c=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(c=window.setTimeout((function(){Ss(i,!0);var t=new ks(Ts,"Timeout reached for loading script "+r);fs(s),ds(s,!1,t)}),u),o.Ia=c),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ss(i,e.hd||!1,c),fs(s),ds(s,!0,null))},i.onerror=function(){Ss(i,!0,c);var t=new ks(Es,"Error while loading script "+r);fs(s),ds(s,!1,t)},X(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Wn(i,o),function(t,e){F(t,"HTMLScriptElement"),t.src=it(e),null===h&&(h=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""),(e=h)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function Cs(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&Ss(t,!0,this.Ia)}}function Ss(t,e,n){null!=n&&a.clearTimeout(n),t.onload=d,t.onerror=d,t.onreadystatechange=d,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Es=0,Ts=1;function ks(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),x.call(this,n),this.code=t}function Is(t){this.f=t}function xs(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=t.secureTokenTimeout||Ds,this.g=$(t.secureTokenHeaders||Ps),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.firebaseTimeout||Ns,this.a=$(t.firebaseHeaders||Rs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==lr(),!(n=a.XMLHttpRequest||n&&i.a.INTERNAL.node&&i.a.INTERNAL.node.XMLHttpRequest)&&!ur())throw new Xr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=ur()?new Go(self):hr()?new Is(n):new Po,this.b=null}k(ks,x),k(Is,Ao),Is.prototype.a=function(){return new this.f},Is.prototype.b=function(){return{}};var As,Os="idToken",Ds=new Or(3e4,6e4),Ps={"Content-Type":"application/x-www-form-urlencoded"},Ns=new Or(3e4,6e4),Rs={"Content-Type":"application/json"};function Ms(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ls(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Fs(t,e,n,r,i,o,s){(function(){var t=yr();return!((t=pr(t)!=fr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||be&&xe&&!(9<xe))})()||ur()?t=S(t.o,t):(As||(As=new Wt((function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[js]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){ps(t,null,e,void 0)}(ws(ot(Us,{onload:js})),(function(){e(Error("CORS_UNSUPPORTED"))})))}(t,e)}))),t=S(t.m,t)),t(e,n,r,i,o,s)}xs.prototype.R=function(){return this.b},xs.prototype.o=function(t,e,n,r,i,o){if(ur()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new Xr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new Zo(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout((function(){s.dispatchEvent("timeout")}),o)}an(s,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return zo(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),cn(s,"ready",(function(){u&&clearTimeout(u),pe(this)})),cn(s,"timeout",(function(){u&&clearTimeout(u),pe(this),e&&e(null)})),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.O=n,t.I=!1,t.c=!0,t.a=t.B?t.B.a():Eo.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.B?t.B:Eo),t.a.onreadystatechange=S(t.Lb,t);try{zo(t.b,ls(t,"Opening Xhr")),t.J=!0,t.a.open(n,String(e),!0),t.J=!1}catch(s){return zo(t.b,ls(t,"Error opening Xhr: "+s.message)),void rs(t,s)}e=r||"";var o=new pn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(g(t)||c(t))j(t,e,void 0);else for(var n=fn(t),r=dn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ns,n=t.length,r=c(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:c(t)?t.charAt(e):t[e]}(o.X()),r=a.FormData&&e instanceof a.FormData,!q(es,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.P&&(t.a.withCredentials=t.P);try{as(t),0<t.g&&(t.v=function(t){return be&&Oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),zo(t.b,ls(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=S(t.Ia,t)):t.o=ln(t.Ia,t.g,t)),zo(t.b,ls(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){zo(t.b,ls(t,"Send error: "+s.message)),rs(t,s)}}(s,t,n,r,i)};var Us=new Z(et,"https://apis.google.com/js/client.js?onload=%{onload}"),js="__fcb"+Math.floor(1e6*Math.random()).toString();function Vs(t){if(!c(t=t.email)||!or.test(t))throw new Xr("invalid-email")}function Bs(t){"email"in t&&Vs(t)}function qs(t){if(!t[Os])throw new Xr("internal-error")}function Hs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Xr("internal-error")}else{if(!t.sessionInfo)throw new Xr("missing-verification-id");if(!t.code)throw new Xr("missing-verification-code")}}xs.prototype.m=function(t,e,n,r,i){var o=this;As.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).s((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},xs.prototype.ob=function(){return Ta(this,ga,{})},xs.prototype.rb=function(t,e){return Ta(this,pa,{idToken:t,email:e})},xs.prototype.sb=function(t,e){return Ta(this,ma,{idToken:t,password:e})};var Ws={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function zs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Xr("internal-error")}function Gs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Un(t=new Rn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function Ks(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=xo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=xo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=xo(t)):t.errorMessage&&(e=ka(t.errorMessage)),e)throw e;if(!t[Os])throw new Xr("internal-error")}function Qs(t,e){return e.returnIdpCredential=!0,Ta(t,ya,e)}function $s(t,e){return e.returnIdpCredential=!0,Ta(t,ba,e)}function Ys(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ta(t,va,e)}function Xs(t){if(!t.oobCode)throw new Xr("invalid-action-code")}(t=xs.prototype).tb=function(t,e){var n={idToken:t},r=[];return K(Ws,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ta(this,pa,n)},t.kb=function(t,e){return X(t={requestType:"PASSWORD_RESET",email:t},e),Ta(this,ua,t)},t.lb=function(t,e){return X(t={requestType:"EMAIL_SIGNIN",email:t},e),Ta(this,aa,t)},t.jb=function(t,e){return X(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ta(this,ca,t)},t.Wa=function(t){return Ta(this,Ca,t)},t.ab=function(t,e){return Ta(this,da,{oobCode:t,newPassword:e})},t.Ma=function(t){return Ta(this,Js,{oobCode:t})},t.Ya=function(t){return Ta(this,Zs,{oobCode:t})};var Zs={endpoint:"setAccountInfo",D:Xs,fa:"email",F:!0},Js={endpoint:"resetPassword",D:Xs,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Xr("internal-error")},F:!0},ta={endpoint:"signupNewUser",D:function(t){if(Vs(t),!t.password)throw new Xr("weak-password")},K:qs,T:!0,F:!0},ea={endpoint:"createAuthUri",F:!0},na={endpoint:"deleteAccount",V:["idToken"]},ra={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!m(t.deleteProvider))throw new Xr("internal-error")}},ia={endpoint:"emailLinkSignin",V:["email","oobCode"],D:Vs,K:qs,T:!0,F:!0},oa={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:Vs,K:qs,T:!0},sa={endpoint:"getAccountInfo"},aa={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Xr("internal-error");Vs(t)},fa:"email",F:!0},ca={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Xr("internal-error")},fa:"email",F:!0},ua={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Xr("internal-error");Vs(t)},fa:"email",F:!0},la={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},ha={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new Xr("internal-error")}},da={endpoint:"resetPassword",D:Xs,fa:"email",F:!0},fa={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},pa={endpoint:"setAccountInfo",V:["idToken"],D:Bs,T:!0},ma={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(Bs(t),!t.password)throw new Xr("weak-password")},K:qs,T:!0},ga={endpoint:"signupNewUser",K:qs,T:!0,F:!0},ya={endpoint:"verifyAssertion",D:zs,Ra:Gs,K:Ks,T:!0,F:!0},va={endpoint:"verifyAssertion",D:zs,Ra:Gs,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Xr("user-not-found");if(t.errorMessage)throw ka(t.errorMessage);if(!t[Os])throw new Xr("internal-error")},T:!0,F:!0},ba={endpoint:"verifyAssertion",D:function(t){if(zs(t),!t.idToken)throw new Xr("internal-error")},Ra:Gs,K:Ks,T:!0},_a={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Xr("invalid-custom-token")},K:qs,T:!0,F:!0},wa={endpoint:"verifyPassword",D:function(t){if(Vs(t),!t.password)throw new Xr("wrong-password")},K:qs,T:!0,F:!0},Ca={endpoint:"verifyPhoneNumber",D:Hs,K:qs,F:!0},Sa={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Xr("internal-error");Hs(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",xo(t);qs(t)}},Ea={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:Hs,K:qs,F:!0};function Ta(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.V))return Zt(new Xr("internal-error"));var r,i=e.Kb||"POST";return Xt(n).then(e.D).then((function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o){var s=En(t.h+e);Cn(s,"key",t.c),o&&Cn(s,"cb",T().toString());var a="GET"==n;if(a)for(var c in r)r.hasOwnProperty(c)&&Cn(s,c,r[c]);return new Wt((function(e,o){Fs(t,s.toString(),(function(t){t?t.error?o(Ia(t,i||{})):e(t):o(new Xr("network-request-failed"))}),n,a?void 0:Kn(Tr(r)),t.a,t.i.get())}))}(t,e.endpoint,i,n,e.Yb,e.wb||!1)})).then((function(t){return r=t,e.Ra?e.Ra(n,r):r})).then(e.K).then((function(){if(!e.fa)return r;if(!(e.fa in r))throw new Xr("internal-error");return r[e.fa]}))}function ka(t){return Ia({error:{errors:[{message:t}],code:400,message:t}})}function Ia(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Xr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",X(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Xr(r[i],e);return!e&&t&&(e=Er(t)),new Xr("internal-error",e)}function xa(t){this.b=t,this.a=null,this.gb=function(t){return(Pa||(Pa=new Wt((function(t,e){function n(){Ar(),vr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ar(),e(Error("Network Error"))},timeout:Oa.get()})}if(vr("gapi.iframes.Iframe"))t();else if(vr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){vr("gapi.load")?n():e(Error("Network Error"))},Xt(ws(r=ot(Aa,{onload:r}))).s((function(){e(Error("Network Error"))}))}})).s((function(t){throw Pa=null,t})))).then((function(){return new Wt((function(e,n){vr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),Da.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Aa=new Z(et,"https://apis.google.com/js/api.js?onload=%{onload}"),Oa=new Or(3e4,6e4),Da=new Or(5e3,15e3),Pa=null;function Na(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Tn(this.i,"/__/auth/iframe"),Cn(this.a,"apiKey",this.g),Cn(this.a,"appName",this.h),this.b=null,this.c=[]}function Ra(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Ma(t){try{return i.a.app(t).auth().Ca()}catch(e){return[]}}function La(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function Fa(t){var e=Jn();return function(t){return Ta(t,la,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=En(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=En(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:ir.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new ko(Jn())}))}function Ua(t){return t.l?t.l:(t.l=sr().then((function(){if(!t.o){var e=t.c,n=t.h,r=Ma(t.b),i=new Na(t.u,t.f,t.b);i.f=e,i.b=n,i.c=G(r||[]),t.o=i.toString()}t.i=new xa(t.o),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.gb.then((function(){t.a.register("authEvent",e,vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Co(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Xt(n)}return n.status="ERROR",Xt(n)}))}(t)})),t.l)}function ja(t){return t.m||(t.v=t.c?gr(t.c,Ma(t.b)):null,t.m=new xs(t.f,xi(t.h),t.v)),t.m}function Va(t,e,n,r,i,o,s,a,c,u,l){return(t=new Ra(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=$(c||null),t.f=u,t.nb(l).toString()}function Ba(t){if(this.a=t||i.a.INTERNAL.reactNative&&i.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Xr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function qa(t){this.b=t,this.a={},this.f=S(this.c,this)}Na.prototype.toString=function(){return this.f?Cn(this.a,"v",this.f):Fn(this.a.a,"v"),this.b?Cn(this.a,"eid",this.b):Fn(this.a.a,"eid"),this.c.length?Cn(this.a,"fw",this.c.join(",")):Fn(this.a.a,"fw"),this.a.toString()},Ra.prototype.nb=function(t){return this.h=t,this},Ra.prototype.toString=function(){var t=Tn(this.o,"/__/auth/handler");if(Cn(t,"apiKey",this.m),Cn(t,"appName",this.c),Cn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=i.a.app(this.c).auth().ha()}catch(c){n=null}for(var r in e.bb=n,Cn(t,"providerId",this.a.providerId),n=Tr((e=this.a).zb))n[r]=n[r].toString();r=e.Fc,n=$(n);for(var o=0;o<r.length;o++){var s=r[o];s in n&&delete n[s]}e.eb&&e.bb&&!n[e.eb]&&(n[e.eb]=e.bb),Q(n)||Cn(t,"customParameters",Er(n))}if("function"==typeof this.a.Hb&&(e=this.a.Hb()).length&&Cn(t,"scopes",e.join(",")),this.l?Cn(t,"redirectUrl",this.l):Fn(t.a,"redirectUrl"),this.g?Cn(t,"eventId",this.g):Fn(t.a,"eventId"),this.i?Cn(t,"v",this.i):Fn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Sn(t,a)&&Cn(t,a,this.b[a]);return this.h?Cn(t,"tid",this.h):Fn(t.a,"tid"),this.f?Cn(t,"eid",this.f):Fn(t.a,"eid"),(a=Ma(this.c)).length&&Cn(t,"fw",a.join(",")),t.toString()},(t=La.prototype).Fb=function(t,e,n){var r=new Xr("popup-closed-by-user"),i=new Xr("web-storage-unsupported"),o=this,s=!1;return this.ia().then((function(){(function(t){var e={type:"webStorageSupport"};return Ua(t).then((function(){return function(t,e){return t.gb.then((function(){return new Wt((function(n){t.a.send(e.type,e,n,vr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&nr(t),e(i),s=!0)}))})).s((function(){})).then((function(){if(!s)return function(t){return new Wt((function(e){return function n(){hn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return hn(n).then((function(){e(r)}))}))},t.Ob=function(){var t=yr();return!Sr(t)&&!xr(t)},t.Jb=function(){return!1},t.Db=function(t,e,n,r,i,o,s,a){if(!t)return Zt(new Xr("popup-blocked"));if(s&&!Sr())return this.ia().s((function(e){nr(t),i(e)})),r(),Xt();this.a||(this.a=Fa(ja(this)));var c=this;return this.a.then((function(){var e=c.ia().s((function(e){throw nr(t),i(e),e}));return r(),e})).then((function(){_o(n),s||tr(Va(c.u,c.f,c.b,e,n,null,o,c.c,void 0,c.h,a),t)})).s((function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t}))},t.Eb=function(t,e,n,r){this.a||(this.a=Fa(ja(this)));var i=this;return this.a.then((function(){_o(e),tr(Va(i.u,i.f,i.b,t,e,Jn(),n,i.c,void 0,i.h,r))})).s((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ia=function(){var t=this;return Ua(this).then((function(){return t.i.gb})).s((function(){throw t.a=null,new Xr("network-request-failed")}))},t.Rb=function(){return!0},t.Aa=function(t){this.g.push(t)},t.Na=function(t){W(this.g,(function(e){return e==t}))},(t=Ba.prototype).get=function(t){return Xt(this.a.getItem(t)).then((function(t){return t&&kr(t)}))},t.set=function(t,e){return Xt(this.a.setItem(t,Er(e)))},t.S=function(t){return Xt(this.a.removeItem(t))},t.$=function(){},t.ea=function(){};var Ha,Wa=[];function za(t,e,n){Q(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Ga(t){this.a=t}function Ka(t){this.c=t,this.b=!1,this.a=[]}function Qa(t,e,n,r){var i,o,s,a,c=n||{},u=null;if(t.b)return Zt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Wt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:c},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return $a(t,u),e})).s((function(e){throw $a(t,u),e}))}function $a(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),W(t.a,(function(t){return t==e}))}}function Ya(){if(!Za())throw new Xr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;ur()&&self?(this.l=function(){var t=ur()?self:null;if(j(Wa,(function(n){n.b==t&&(e=n)})),!e){var e=new qa(t);Wa.push(e)}return e}(),za(this.l,"keyChanged",(function(e,n){return rc(t).then((function(e){return 0<e.length&&j(t.a,(function(t){t(e)})),{keyProcessed:q(e,n.key)}}))})),za(this.l,"ping",(function(){return Xt(["keyChanged"])}))):function(){var t=a.navigator;return t&&t.serviceWorker?Xt().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).s((function(){return null})):Xt(null)}().then((function(e){(t.h=e)&&(t.g=new Ka(new Ga(e)),Qa(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&q(e[0].value,"keyChanged")&&(t.o=!0)})).s((function(){})))}))}function Xa(t){return t.m||(t.m=function t(e){return new Wt((function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new Wt((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(e).then((function(){return t(e)})).then((function(t){n(t)})).s((function(t){r(t)}))}}))}(t)),t.m}function Za(){try{return!!a.indexedDB}catch(ye){return!1}}function Ja(t){return t.objectStore("firebaseLocalStorage")}function tc(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ec(t){return new Wt((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function nc(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Qa(t.g,"keyChanged",{key:e},t.o).then((function(){})).s((function(){})):Xt()}function rc(t){return Xa(t).then((function(t){var e=Ja(tc(t,!1));return e.getAll?ec(e.getAll()):new Wt((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function ic(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function oc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Xt().then((function(){if(Za()){var t=Ir(),r="__sak"+t;return Ha||(Ha=new Ya),(n=Ha).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.S(r)})).then((function(){return n})).s((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.$((function(t){j(e.a,(function(e){e(t)}))})),t}))}function sc(){this.a={},this.type="inMemory"}function ac(){if(!function(){var t="Node"==lr();if(!(t=cc()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==lr())throw new Xr("internal-error","The LocalStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=cc()||i.a.INTERNAL.node.localStorage,this.type="localStorage"}function cc(){try{var t=a.localStorage,e=Ir();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function uc(){this.type="nullStorage"}function lc(){if(!function(){var t="Node"==lr();if(!(t=hc()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==lr())throw new Xr("internal-error","The SessionStorage compatibility library was not found.");throw new Xr("web-storage-unsupported")}this.a=hc()||i.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function hc(){try{var t=a.sessionStorage,e=Ir();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function dc(){var t={};t.Browser=mc,t.Node=gc,t.ReactNative=yc,t.Worker=vc,this.a=t[lr()]}qa.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];j(r,(function(e){i.push(Xt().then((function(){return e(t.origin,t.data.data)})))})),te(i).then((function(r){var i=[];j(r,(function(t){i.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})})),j(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Ga.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ka.prototype.close=function(){for(;0<this.a.length;)$a(this,this.a[0]);this.b=!0},(t=Ya.prototype).set=function(t,e){var n,r=!1,i=this;return Xa(this).then((function(e){return ec((e=Ja(tc(n=e,!0))).get(t))})).then((function(o){var s=Ja(tc(n,!0));return o?(o.value=e,ec(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,ec(s.add(o)))})).then((function(){return i.c[t]=e,nc(i,t)})).ka((function(){r&&i.b--}))},t.get=function(t){return Xa(this).then((function(e){return ec(Ja(tc(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.S=function(t){var e=!1,n=this;return Xa(this).then((function(r){return e=!0,n.b++,ec(Ja(tc(r,!0)).delete(t))})).then((function(){return delete n.c[t],nc(n,t)})).ka((function(){e&&n.b--}))},t.$=function(t){0==this.a.length&&function(t){ic(t),function e(){t.f=setTimeout((function(){t.i=rc(t).then((function(e){0<e.length&&j(t.a,(function(t){t(e)}))})).then((function(){e()})).s((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ea=function(t){W(this.a,(function(e){return e==t})),0==this.a.length&&ic(this)},(t=oc.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.S=function(t){return this.b.then((function(e){return e.S(t)}))},t.$=function(t){this.a.push(t)},t.ea=function(t){W(this.a,(function(e){return e==t}))},(t=sc.prototype).get=function(t){return Xt(this.a[t])},t.set=function(t,e){return this.a[t]=e,Xt()},t.S=function(t){return delete this.a[t],Xt()},t.$=function(){},t.ea=function(){},(t=ac.prototype).get=function(t){var e=this;return Xt().then((function(){return kr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Xt().then((function(){var r=Er(e);null===r?n.S(t):n.a.setItem(t,r)}))},t.S=function(t){var e=this;return Xt().then((function(){e.a.removeItem(t)}))},t.$=function(t){a.window&&Ke(a.window,"storage",t)},t.ea=function(t){a.window&&Ye(a.window,"storage",t)},(t=uc.prototype).get=function(){return Xt(null)},t.set=function(){return Xt()},t.S=function(){return Xt()},t.$=function(){},t.ea=function(){},(t=lc.prototype).get=function(t){var e=this;return Xt().then((function(){return kr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Xt().then((function(){var r=Er(e);null===r?n.S(t):n.a.setItem(t,r)}))},t.S=function(t){var e=this;return Xt().then((function(){e.a.removeItem(t)}))},t.$=function(){},t.ea=function(){};var fc,pc,mc={C:ac,Ta:lc},gc={C:ac,Ta:lc},yc={C:Ba,Ta:uc},vc={C:ac,Ta:uc},bc={ad:"local",NONE:"none",cd:"session"};function _c(){var t=!(xr(yr())||!cr()),e=Sr(),n=br();this.m=t,this.h=e,this.l=n,this.a={},fc||(fc=new dc),t=fc;try{this.g=!Zn()&&Nr()||!a.indexedDB?new t.a.C:new oc(ur()?new sc:new t.a.C)}catch(r){this.g=new sc,this.h=!0}try{this.i=new t.a.Ta}catch(r){this.i=new sc}this.u=new sc,this.f=S(this.Pb,this),this.b={}}function wc(){return pc||(pc=new _c),pc}function Cc(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Sc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ec(t,e,n){return n=Sc(e,n),"local"==e.C&&(t.b[n]=null),Cc(t,e.C).S(n)}function Tc(t){t.c&&(clearInterval(t.c),t.c=null)}function kc(t){this.a=t,this.b=wc()}(t=_c.prototype).get=function(t,e){return Cc(this,t.C).get(Sc(t,e))},t.set=function(t,e,n){var r=Sc(t,n),i=this,o=Cc(this,t.C);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.C&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Sc(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),Q(this.a)&&(Cc(this,"local").$(this.f),this.h||(Zn()||!Nr())&&a.indexedDB||!this.l||function(t){Tc(t),t.c=setInterval((function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Le({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Pb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Sc(t,e),this.a[t]&&(W(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),Q(this.a)&&(Cc(this,"local").ea(this.f),Tc(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.$a(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Cc(this,"local").ea(this.f):Tc(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.$a(e))},be&&xe&&10==xe&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else j(t,S(this.$a,this))},t.$a=function(t){this.a[t]&&j(this.a[t],(function(t){t()}))};var Ic,xc={name:"authEvent",C:"local"};function Ac(){this.a=wc()}function Oc(t,e){this.b=Dc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0!==Ic||(Ic=a.Int32Array?new Int32Array(Uc):Uc),this.reset()}k(Oc,(function(){this.b=-1}));for(var Dc=64,Pc=Dc-1,Nc=[],Rc=0;Rc<Pc;Rc++)Nc[Rc]=0;var Mc=z(128,Nc);function Lc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],c=0|t.a[3],u=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&l^~u&h)+(0|Ic[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=u,u=c+s|0,c=a,a=i,i=r,r=s+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Fc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(c(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Lc(t),i=0);else{if(!g(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Lc(t),i=0)}}t.c=i,t.g+=n}Oc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):G(this.h)};var Uc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function jc(){Oc.call(this,8,Vc)}k(jc,Oc);var Vc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Bc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=i||null,this.h=e+":"+n,this.v=new Ac,this.g=new kc(this.h),this.f=null,this.b=[],this.a=this.c=null}function qc(t){return new Xr("invalid-cordova-configuration",t)}function Hc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Wc(t){return t.f||(t.f=t.ia().then((function(){return new Wt((function(e){t.Aa((function n(r){return e(r),t.Na(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),zc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=qi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=kr(Sn(o=En(i),"firebaseError")||null))?Zr(o):null)?new wo(r.c,r.b,null,null,o,null,r.R()):new wo(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}Hc(t,i)}))}var n=new wo("unknown",null,null,null,new Xr("no-auth-event")),r=!1,i=hn(500).then((function(){return zc(t).then((function(){r||Hc(t,n)}))})),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(vr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},To||(To=new So),function(t){var e=To;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=vr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)}))}))),t.f}function zc(t){var e=null;return function(t){return t.b.get(xc,t.a).then((function(t){return Co(t)}))}(t.g).then((function(n){return e=n,Ec((n=t.g).b,xc,n.a)})).then((function(){return e}))}function Gc(t){this.a=t,this.b=wc()}(t=Bc.prototype).ia=function(){return this.Da?this.Da:this.Da=(ar(void 0)?sr().then((function(){return new Wt((function(t,e){var n=a.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Zt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof vr("universalLinks.subscribe",a))throw qc("cordova-universal-links-plugin-fix is not installed");if(void 0===vr("BuildInfo.packageName",a))throw qc("cordova-plugin-buildinfo is not installed");if("function"!=typeof vr("cordova.plugins.browsertab.openUrl",a))throw qc("cordova-plugin-browsertab is not installed");if("function"!=typeof vr("cordova.InAppBrowser.open",a))throw qc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new Xr("cordova-not-ready")}))},t.Fb=function(t,e){return e(new Xr("operation-not-supported-in-this-environment")),Xt()},t.Db=function(){return Zt(new Xr("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(t,e,n,r){if(this.c)return Zt(new Xr("redirect-operation-pending"));var i=this,o=a.document,s=null,c=null,u=null,l=null;return this.c=Xt().then((function(){return _o(e),Wc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new wo(e,r,null,o,new Xr("no-auth-event"),null,i),c=vr("BuildInfo.packageName",a);if("string"!=typeof c)throw new Xr("invalid-cordova-configuration");var u=vr("BuildInfo.displayName",a),l={};if(yr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=c;else{if(!yr().toLowerCase().match(/android/))return Zt(new Xr("operation-not-supported-in-this-environment"));l.apn=c}u&&(l.appDisplayName=u),o=function(t){var e=new jc;Fc(e,t),t=[];var n=8*e.g;Fc(e,Mc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Lc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return V(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}(o),l.sessionId=o;var h=Va(t.u,t.i,t.l,e,n,null,r,t.m,l,t.o,i);return t.ia().then((function(){var e=t.h;return t.v.a.set(xc,s.A(),e)})).then((function(){var e=vr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new Xr("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=vr("cordova.plugins.browsertab.openUrl",a)))throw new Xr("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=vr("cordova.InAppBrowser.open",a)))throw new Xr("invalid-cordova-configuration");e=yr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Wt((function(t,e){c=function(){var e=vr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Aa(c),l=function(){Dr()&&u()},o.addEventListener("resume",u=function(){s||(s=hn(2e3).then((function(){e(new Xr("redirect-cancelled-by-user"))})))},!1),yr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(t){return zc(i).then((function(){throw t}))}))})).ka((function(){u&&o.removeEventListener("resume",u,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),c&&i.Na(c),i.c=null}))},t.Aa=function(t){this.b.push(t),Wc(this).s((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new wo("unknown",null,null,null,new Xr("no-auth-event")),t(e))}))},t.Na=function(t){W(this.b,(function(e){return e==t}))};var Kc={name:"pendingRedirect",C:"session"};function Qc(t){return Ec(t.b,Kc,t.a)}function $c(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=S(this.o,this),this.b=new uu,this.w=new pu,this.g=new Gc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=Yc(this.B,this.u,this.m,ki)}function Yc(t,e,n,r){var o=i.a.SDK_VERSION||null;return ar()?new Bc(t,e,n,o,r):new La(t,e,n,o,r)}function Xc(t){t.f||(t.f=!0,t.a.Aa(t.l));var e=t.a;return t.a.ia().s((function(n){throw t.a==e&&t.reset(),n}))}function Zc(t){t.a.Ob()&&Xc(t).s((function(e){var n=new wo("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));iu(e)&&t.o(n)})),t.a.Jb()||lu(t.b)}function Jc(t,e){q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Kc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Qc(t.g).then((function(){Xc(t).s((function(e){var n=new wo("unknown",null,null,null,new Xr("operation-not-supported-in-this-environment"));iu(e)&&t.o(n)}))})):Zc(t)})).s((function(){Zc(t)}))}function tu(t,e){W(t.h,(function(t){return t==e}))}$c.prototype.reset=function(){this.f=!1,this.a.Na(this.l),this.a=Yc(this.B,this.u,this.m),this.i={}},$c.prototype.o=function(t){if(!t)throw new Xr("invalid-auth-event");if(6e5<=T()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=T())),e=!0;break}}return lu(this.b),e};var eu=new Or(2e3,1e4),nu=new Or(3e4,6e4);function ru(t,e,n,r,i,o,s){return t.a.Db(e,n,r,(function(){t.f||(t.f=!0,t.a.Aa(t.l))}),(function(){t.reset()}),i,o,s)}function iu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function ou(t,e,n,r,i){var o;return function(t){return t.b.set(Kc,"pending",t.a)}(t.g).then((function(){return t.a.Eb(e,n,r,i).s((function(e){if(iu(e))throw new Xr("operation-not-supported-in-this-environment");return o=e,Qc(t.g).then((function(){throw o}))})).then((function(){return t.a.Rb()?new Wt((function(){})):Qc(t.g).then((function(){return t.oa()})).then((function(){})).s((function(){}))}))}))}function su(t,e,n,r,i){return t.a.Fb(r,(function(t){e.ja(n,null,t,i)}),eu.get())}$c.prototype.oa=function(){return this.b.oa()};var au={};function cu(t,e,n){var r=e+":"+n;return au[r]||(au[r]=new $c(t,e,n)),au[r]}function uu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function lu(t){t.g||(t.g=!0,fu(t,!1,null,null))}function hu(t){t.g&&!t.i&&fu(t,!1,null,null)}function du(t,e){if(t.b=function(){return Xt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function fu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Zt(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):du(t,n):du(t,{user:null}),t.f=[],t.c=[]}function pu(){}function mu(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function gu(t,e){this.a=e,Ur(this,"verificationId",t)}function yu(t,e,n,r){return new yo(t).Wa(e,n).then((function(t){return new gu(t,r)}))}function vu(t){var e=Ti(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Xr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");jr(this,{token:t,expirationTime:Pr(1e3*e.exp),authTime:Pr(1e3*e.auth_time),issuedAtTime:Pr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function bu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function _u(t){this.f=t,this.b=this.a=null,this.c=0}function wu(t,e){var n=e[Os],r=e.refreshToken;e=Cu(e.expiresIn),t.b=n,t.c=e,t.a=r}function Cu(t){return T()+1e3*parseInt(t,10)}function Su(t,e){this.a=t||null,this.b=e||null,jr(this,{lastSignInTime:Pr(e||null),creationTime:Pr(t||null)})}function Eu(t,e,n,r,i,o){jr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Tu(t,e){for(var n in Me.call(this,t),e)this[n]=e[n]}function ku(t,e,n){this.I=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null,t=i.a.SDK_VERSION?gr(i.a.SDK_VERSION):null,this.a=new xs(this.l,xi(ki),t),this.b=new _u(this.a),Nu(this,e[Os]),wu(this.b,e),Ur(this,"refreshToken",this.b.a),Lu(this,n||{}),sn.call(this),this.J=!1,this.o&&_r()&&(this.i=cu(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(t){return new bu((function(){return t.G(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-T()-3e5;return 0<e?e:0}))}(this),this.W=S(this.Ja,this);var r=this;this.ga=null,this.xa=function(t){r.ua(t.g)},this.Z=null,this.P=[],this.wa=function(t){xu(r,t.c)},this.Y=null}function Iu(t,e){t.Z&&Ye(t.Z,"languageCodeChanged",t.xa),(t.Z=e)&&Ke(e,"languageCodeChanged",t.xa)}function xu(t,e){t.P=e,Ls(t.a,i.a.SDK_VERSION?gr(i.a.SDK_VERSION,t.P):null)}function Au(t,e){t.Y&&Ye(t.Y,"frameworkChanged",t.wa),(t.Y=e)&&Ke(e,"frameworkChanged",t.wa)}function Ou(t){try{return i.a.app(t.m).auth()}catch(e){throw new Xr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Du(t){t.B||t.w.b||(t.w.start(),Ye(t,"tokenChanged",t.W),Ke(t,"tokenChanged",t.W))}function Pu(t){Ye(t,"tokenChanged",t.W),t.w.stop()}function Nu(t,e){t.ma=e,Ur(t,"_lat",e)}function Ru(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return te(e).then((function(){return t}))}function Mu(t){t.i&&!t.J&&(t.J=!0,Jc(t.i,t))}function Lu(t,e){jr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Su(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Fu(){}function Uu(t){return Xt().then((function(){if(t.B)throw new Xr("app-deleted")}))}function ju(t){return V(t.providerData,(function(t){return t.providerId}))}function Vu(t,e){e&&(Bu(t,e.providerId),t.providerData.push(e))}function Bu(t,e){W(t.providerData,(function(t){return t.providerId==e}))}function qu(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ur(t,e,n)}function Hu(t,e){t!=e&&(jr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Ur(t,"metadata",e.metadata?function(t){return new Su(t.a,t.b)}(e.metadata):new Su),j(e.providerData,(function(e){Vu(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Ur(t,"refreshToken",t.b.a))}function Wu(t){return t.G().then((function(e){var n=t.isAnonymous;return function(t,e){return Ta(t.a,sa,{idToken:e}).then(S(t.zc,t))}(t,e).then((function(){return n||qu(t,"isAnonymous",!1),e}))}))}function zu(t,e){e[Os]&&t.ma!=e[Os]&&(wu(t.b,e),t.dispatchEvent(new Tu("tokenChanged")),Nu(t,e[Os]),qu(t,"refreshToken",t.b.a))}function Gu(t,e){return Wu(t).then((function(){if(q(ju(t),e))return Ru(t).then((function(){throw new Xr("provider-already-linked")}))}))}function Ku(t,e,n){return Vr({user:t,credential:bo(e),additionalUserInfo:e=Ni(e),operationType:n})}function Qu(t,e){return zu(t,e),t.reload().then((function(){return t}))}function $u(t,e,n,r,o){if(!_r())return Zt(new Xr("operation-not-supported-in-this-environment"));if(t.h&&!o)return Zt(t.h);var s=Pi(n.providerId),a=Ir(t.uid+":::"),c=null;(!Sr()||cr())&&t.o&&n.isOAuthProvider&&(c=Va(t.o,t.l,t.m,e,n,null,a,i.a.SDK_VERSION||null,null,null,t.tenantId));var u=rr(c,s&&s.sa,s&&s.ra);return r=r().then((function(){if(Xu(t),!o)return t.G().then((function(){}))})).then((function(){return ru(t.i,u,e,n,a,!!c,t.tenantId)})).then((function(){return new Wt((function(n,r){t.ja(e,null,new Xr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.c=su(t.i,t,e,u,a)}))})).then((function(t){return u&&nr(u),t?Vr(t):null})).s((function(t){throw u&&nr(u),t})),Zu(t,r,o)}function Yu(t,e,n,r,i){if(!_r())return Zt(new Xr("operation-not-supported-in-this-environment"));if(t.h&&!i)return Zt(t.h);var o=null,s=Ir(t.uid+":::");return r=r().then((function(){if(Xu(t),!i)return t.G().then((function(){}))})).then((function(){return t.ca=s,Ru(t)})).then((function(e){return t.da&&(e=(e=t.da).b.set(el,t.A(),e.a)),e})).then((function(){return ou(t.i,e,n,s,t.tenantId)})).s((function(e){if(o=e,t.da)return nl(t.da);throw o})).then((function(){if(o)throw o})),Zu(t,r,i)}function Xu(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new Xr("internal-error");throw new Xr("auth-domain-config-required")}}function Zu(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Zt(t.h)):e.s((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Tu("userInvalidated")),t.h=e),e}))}(t,e,n);return t.I.push(r),r.ka((function(){H(t.I,r)})),r}function Ju(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Os]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-T())/1e3;var r=new ku(e,n,t);return t.providerData&&j(t.providerData,(function(t){t&&Vu(r,Vr(t))})),t.redirectEventId&&(r.ca=t.redirectEventId),r}function tl(t){this.a=t,this.b=wc()}uu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},uu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(fu(this,!0,null,t.a),Xt()):e.Ba(n,r)?function(t,e,n){n=n.Ba(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.R(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){fu(t,a,e,null)})).s((function(e){fu(t,a,null,e)}))}(this,t,e):Zt(new Xr("invalid-auth-event")):(fu(this,!1,null,null),Xt())}else Zt(new Xr("invalid-auth-event"))},uu.prototype.oa=function(){var t=this;return new Wt((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Xr("timeout");t.a&&t.a.cancel(),t.a=hn(nu.get()).then((function(){t.b||(t.g=!0,fu(t,!0,null,e))}))}(t))}))},pu.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ja(t.c,null,t.a,t.b),Xt()):e.Ba(n,r)?function(t,e){var n=t.b,r=t.c;e.Ba(r,n)(t.g,t.f,t.R(),t.i).then((function(t){e.ja(r,t,null,n)})).s((function(t){e.ja(r,null,t,n)}))}(t,e):Zt(new Xr("invalid-auth-event"))}else Zt(new Xr("invalid-auth-event"))},gu.prototype.confirm=function(t){return t=vo(this.verificationId,t),this.a(t)},bu.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=hn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=a.document,e=null;return Dr()||!t?Xt():new Wt((function(n){e=function(){Dr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).s((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).s((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},bu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},_u.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},_u.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Zt(new Xr("user-token-expired")):t||!this.b||T()>this.c-3e4?this.a?function(t,e){return function(t,e){return new Wt((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Fs(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ia(t)):t.access_token&&t.refresh_token?n(t):r(new Xr("internal-error")):r(new Xr("network-request-failed"))}),"POST",Ln(e).toString(),t.g,t.u.get()):r(new Xr("internal-error"))}))}(t.f,e).then((function(e){return t.b=e.access_token,t.c=Cu(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}})).s((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):Xt(null):Xt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Su.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},k(Tu,Me),k(ku,sn),ku.prototype.ua=function(t){this.ga=t,Ms(this.a,t)},ku.prototype.ha=function(){return this.ga},ku.prototype.Ca=function(){return G(this.P)},ku.prototype.Ja=function(){this.w.b&&(this.w.stop(),this.w.start())},Ur(ku.prototype,"providerId","firebase"),(t=ku.prototype).reload=function(){var t=this;return Zu(this,Uu(this).then((function(){return Wu(t).then((function(){return Ru(t)})).then(Fu)})))},t.dc=function(t){return this.G(t).then((function(t){return new vu(t)}))},t.G=function(t){var e=this;return Zu(this,Uu(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new Xr("internal-error");return t.accessToken!=e.ma&&(Nu(e,t.accessToken),e.dispatchEvent(new Tu("tokenChanged"))),qu(e,"refreshToken",t.refreshToken),t.accessToken})))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Xr("internal-error");Lu(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?V(t,(function(t){return new Eu(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Vu(this,e[n]);qu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.Ac=function(t){return Lr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.hb(t)},t.hb=function(t){var e=this,n=null;return Zu(this,t.f(this.a,this.uid).then((function(t){return zu(e,t),n=Ku(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.rc=function(t){return Lr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.fb(t)},t.fb=function(t){var e=this,n=null;return Zu(this,Gu(this,t.providerId).then((function(){return e.G()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Ku(e,t,"link"),Qu(e,t)})).then((function(){return n})))},t.sc=function(t,e){var n=this;return Zu(this,Gu(this,"phone").then((function(){return yu(Ou(n),t,e,S(n.fb,n))})))},t.Bc=function(t,e){var n=this;return Zu(this,Xt().then((function(){return yu(Ou(n),t,e,S(n.hb,n))})),!0)},t.rb=function(t){var e=this;return Zu(this,this.G().then((function(n){return e.a.rb(n,t)})).then((function(t){return zu(e,t),e.reload()})))},t.Sc=function(t){var e=this;return Zu(this,this.G().then((function(n){return t.b(e.a,n)})).then((function(t){return zu(e,t),e.reload()})))},t.sb=function(t){var e=this;return Zu(this,this.G().then((function(n){return e.a.sb(n,t)})).then((function(t){return zu(e,t),e.reload()})))},t.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Uu(this);var e=this;return Zu(this,this.G().then((function(n){return e.a.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return zu(e,t),qu(e,"displayName",t.displayName||null),qu(e,"photoURL",t.photoUrl||null),j(e.providerData,(function(t){"password"===t.providerId&&(Ur(t,"displayName",e.displayName),Ur(t,"photoURL",e.photoURL))})),Ru(e)})).then(Fu))},t.Qc=function(t){var e=this;return Zu(this,Wu(this).then((function(n){return q(ju(e),t)?function(t,e,n){return Ta(t,ra,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return j(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),j(ju(e),(function(t){n[t]||Bu(e,t)})),n[yo.PROVIDER_ID]||Ur(e,"phoneNumber",null),Ru(e)})):Ru(e).then((function(){throw new Xr("no-such-provider")}))})))},t.delete=function(){var t=this;return Zu(this,this.G().then((function(e){return Ta(t.a,na,{idToken:e})})).then((function(){t.dispatchEvent(new Tu("userDeleted"))}))).then((function(){for(var e=0;e<t.I.length;e++)t.I[e].cancel("app-deleted");Iu(t,null),Au(t,null),t.I=[],t.B=!0,Pu(t),Ur(t,"refreshToken",null),t.i&&tu(t.i,t)}))},t.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},t.ja=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.Ba=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?S(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?S(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?S(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?S(this.Cb,this):null},t.tc=function(t){var e=this;return $u(this,"linkViaPopup",t,(function(){return Gu(e,t.providerId).then((function(){return Ru(e)}))}),!1)},t.Cc=function(t){return $u(this,"reauthViaPopup",t,(function(){return Xt()}),!0)},t.uc=function(t){var e=this;return Yu(this,"linkViaRedirect",t,(function(){return Gu(e,t.providerId)}),!1)},t.Dc=function(t){return Yu(this,"reauthViaRedirect",t,(function(){return Xt()}),!0)},t.Bb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Zu(this,this.G().then((function(n){return $s(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Ku(i,t,"link"),Qu(i,t)})).then((function(){return o})))},t.Cb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Zu(this,Xt().then((function(){return Wi(Ys(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Ku(i,t,"reauthenticate"),zu(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.jb=function(t){var e=this,n=null;return Zu(this,this.G().then((function(e){return n=e,void 0===t||Q(t)?{}:_i(new li(t))})).then((function(t){return e.a.jb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.toJSON=function(){return this.A()},t.A=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&X(t,this.metadata.A()),j(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),t};var el={name:"redirectUser",C:"session"};function nl(t){return Ec(t.b,el,t.a)}function rl(t){this.a=t,this.b=wc(),this.c=null,this.f=function(t){var e=sl("local"),n=sl("session"),r=sl("none");return function(t,e,n){var r=Sc(e,n),i=Cc(t,e.C);return t.get(e,n).then((function(o){var s=null;try{s=kr(a.localStorage.getItem(r))}catch(c){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(ol,t.a).then((function(t){return t?sl(t):e}))}))}))})).then((function(e){return t.c=e,il(t,e.C)})).s((function(){t.c||(t.c=e)}))}(this),this.b.addListener(sl("local"),this.a,S(this.g,this))}function il(t,e){var n,r=[];for(n in bc)bc[n]!==e&&r.push(Ec(t.b,sl(bc[n]),t.a));return r.push(Ec(t.b,ol,t.a)),function(t){return new Wt((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Jt(t[a],E(o,a),s);else e(i)}))}(r)}rl.prototype.g=function(){var t=this,e=sl("local");ll(this,(function(){return Xt().then((function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null})).then((function(n){if(n)return il(t,"local").then((function(){t.c=e}))}))}))};var ol={name:"persistence",C:"session"};function sl(t){return{name:"authUser",C:t}}function al(t,e){return ll(t,(function(){return t.b.set(t.c,e.A(),t.a)}))}function cl(t){return ll(t,(function(){return Ec(t.b,t.c,t.a)}))}function ul(t,e){return ll(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ju(t||{})}))}))}function ll(t,e){return t.f=t.f.then(e,e),t.f}function hl(t){if(this.l=!1,Ur(this,"settings",new mu),Ur(this,"app",t),!bl(this).options||!bl(this).options.apiKey)throw new Xr("invalid-api-key");t=i.a.SDK_VERSION?gr(i.a.SDK_VERSION):null,this.b=new xs(bl(this).options&&bl(this).options.apiKey,xi(ki),t),this.O=[],this.m=[],this.J=[],this.Ub=i.a.INTERNAL.createSubscribe(S(this.oc,this)),this.W=void 0,this.Vb=i.a.INTERNAL.createSubscribe(S(this.pc,this)),yl(this,null),this.h=new rl(bl(this).options.apiKey+":"+bl(this).name),this.w=new tl(bl(this).options.apiKey+":"+bl(this).name),this.Y=Sl(this,function(t){var e=bl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(el,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ju(t||{})}))}(t.w,bl(t).options.authDomain).then((function(e){return(t.B=e)&&(e.da=t.w),nl(t.w)}));return Sl(t,e)}(t).then((function(){return ul(t.h,e)})).then((function(e){return e?(e.da=t.w,t.B&&(t.B.ca||null)==(e.ca||null)?e:e.reload().then((function(){return al(t.h,e).then((function(){return e}))})).s((function(n){return"auth/network-request-failed"==n.code?e:cl(t.h)}))):null})).then((function(e){yl(t,e||null)}));return Sl(t,n)}(this)),this.i=Sl(this,function(t){return t.Y.then((function(){return ml(t)})).s((function(){})).then((function(){if(!t.l)return t.ma()})).s((function(){})).then((function(){if(!t.l){t.ga=!0;var e=t.h;e.b.addListener(sl("local"),e.a,t.ma)}}))}(this)),this.ga=!1,this.ma=S(this.Nc,this),this.ub=S(this.aa,this),this.wa=S(this.bc,this),this.xa=S(this.mc,this),this.Ja=S(this.nc,this),this.a=null,function(t){var e=bl(t).options.authDomain,n=bl(t).options.apiKey;e&&_r()&&(t.Tb=t.Y.then((function(){if(!t.l){if(t.a=cu(e,n,bl(t).name),Jc(t.a,t),_l(t)&&Mu(_l(t)),t.B){Mu(t.B);var r=t.B;r.ua(t.ha()),Iu(r,t),xu(r=t.B,t.I),Au(r,t),t.B=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=S(this.delete,this),this.INTERNAL.logFramework=S(this.vc,this),this.o=0,sn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.ua(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}(this),this.I=[]}function dl(t){Me.call(this,"languageCodeChanged"),this.g=t}function fl(t){Me.call(this,"frameworkChanged"),this.c=t}function pl(t){return t.Tb||Zt(new Xr("auth-domain-config-required"))}function ml(t){if(!_r())return Zt(new Xr("operation-not-supported-in-this-environment"));var e=pl(t).then((function(){return t.a.oa()})).then((function(t){return t?Vr(t):null}));return Sl(t,e)}function gl(t,e){var n={};return n.apiKey=bl(t).options.apiKey,n.authDomain=bl(t).options.authDomain,n.appName=bl(t).name,t.Y.then((function(){return function(t,e,n,r){var i=new ku(t,e);return n&&(i.da=n),r&&xu(i,r),i.reload().then((function(){return i}))}(n,e,t.w,t.Ca())})).then((function(e){return _l(t)&&e.uid==_l(t).uid?(Hu(_l(t),e),t.aa(e)):(yl(t,e),Mu(e),t.aa(e))})).then((function(){Cl(t)}))}function yl(t,e){_l(t)&&(function(t,e){W(t.O,(function(t){return t==e}))}(_l(t),t.ub),Ye(_l(t),"tokenChanged",t.wa),Ye(_l(t),"userDeleted",t.xa),Ye(_l(t),"userInvalidated",t.Ja),Pu(_l(t))),e&&(e.O.push(t.ub),Ke(e,"tokenChanged",t.wa),Ke(e,"userDeleted",t.xa),Ke(e,"userInvalidated",t.Ja),0<t.o&&Du(e)),Ur(t,"currentUser",e),e&&(e.ua(t.ha()),Iu(e,t),xu(e,t.I),Au(e,t))}function vl(t,e){var n=null,r=null;return Sl(t,e.then((function(e){return n=bo(e),r=Ni(e),gl(t,e)})).then((function(){return Vr({user:_l(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function bl(t){return t.app}function _l(t){return t.currentUser}function wl(t){return _l(t)&&_l(t)._lat||null}function Cl(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](wl(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](wl(t))}}function Sl(t,e){return t.O.push(e),e.ka((function(){H(t.O,e)})),e}function El(){}function Tl(){this.a={},this.b=1e12}rl.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Xr("invalid-persistence-type"),n=new Xr("unsupported-persistence-type");t:{for(r in bc)if(bc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(lr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!br()&&"none"!==t)throw n}}(t),ll(this,(function(){return t!=n.c.C?n.b.get(n.c,n.a).then((function(r){return e=r,il(n,t)})).then((function(){if(n.c=sl(t),e)return n.b.set(n.c,e,n.a)})):Xt()}))},k(hl,sn),k(dl,Me),k(fl,Me),(t=hl.prototype).mb=function(t){return Sl(this,t=this.h.mb(t))},t.ua=function(t){this.Z===t||this.l||(this.Z=t,Ms(this.b,this.Z),this.dispatchEvent(new dl(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var t=a.navigator;this.ua(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.I.push(t),Ls(this.b,i.a.SDK_VERSION?gr(i.a.SDK_VERSION,this.I):null),this.dispatchEvent(new fl(this.I))},t.Ca=function(){return G(this.I)},t.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:bl(this).options.apiKey,authDomain:bl(this).options.authDomain,appName:bl(this).name,currentUser:_l(this)&&_l(this).A()}},t.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ja=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.Ba=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?S(this.ac,this):null},t.ac=function(t,e,n,r){var i=this;t={requestUri:t,postBody:r,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,s=null,a=Qs(i.b,t).then((function(t){return o=bo(t),s=Ni(t),t}));return Sl(this,t=i.Y.then((function(){return a})).then((function(t){return gl(i,t)})).then((function(){return Vr({user:_l(i),credential:o,additionalUserInfo:s,operationType:"signIn"})})))},t.Lc=function(t){if(!_r())return Zt(new Xr("operation-not-supported-in-this-environment"));var e=this,n=Pi(t.providerId),r=Ir(),o=null;(!Sr()||cr())&&bl(this).options.authDomain&&t.isOAuthProvider&&(o=Va(bl(this).options.authDomain,bl(this).options.apiKey,bl(this).name,"signInViaPopup",t,null,r,i.a.SDK_VERSION||null,null,null,this.R()));var s=rr(o,n&&n.sa,n&&n.ra);return Sl(this,n=pl(this).then((function(n){return ru(n,s,"signInViaPopup",t,r,!!o,e.R())})).then((function(){return new Wt((function(t,n){e.ja("signInViaPopup",null,new Xr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=su(e.a,e,"signInViaPopup",s,r)}))})).then((function(t){return s&&nr(s),t?Vr(t):null})).s((function(t){throw s&&nr(s),t})))},t.Mc=function(t){if(!_r())return Zt(new Xr("operation-not-supported-in-this-environment"));var e=this;return Sl(this,pl(this).then((function(){return function(t){return ll(t,(function(){return t.b.set(ol,t.c.C,t.a)}))}(e.h)})).then((function(){return ou(e.a,"signInViaRedirect",t,void 0,e.R())})))},t.oa=function(){var t=this;return ml(this).then((function(e){return t.a&&hu(t.a.b),e})).s((function(e){throw t.a&&hu(t.a.b),e}))},t.Rc=function(t){if(!t)return Zt(new Xr("null-user"));if(this.P!=t.tenantId)return Zt(new Xr("tenant-id-mismatch"));var e=this,n={};n.apiKey=bl(this).options.apiKey,n.authDomain=bl(this).options.authDomain,n.appName=bl(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var i=t.b,o={};return o[Os]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-T())/1e3,e=new ku(e,o),n&&(e.da=n),r&&xu(e,r),Hu(e,t),e}(t,n,e.w,e.Ca());return Sl(this,this.i.then((function(){if(bl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return _l(e)&&t.uid==_l(e).uid?(Hu(_l(e),t),e.aa(t)):(yl(e,r),Mu(r),e.aa(r))})).then((function(){Cl(e)})))},t.pb=function(){var t=this;return Sl(this,this.i.then((function(){return t.a&&hu(t.a.b),_l(t)?(yl(t,null),cl(t.h).then((function(){Cl(t)}))):Xt()})))},t.Nc=function(){var t=this;return ul(this.h,bl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=_l(t)&&e){n=_l(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Hu(_l(t),e),_l(t).G();(_l(t)||e)&&(yl(t,e),e&&(Mu(e),e.da=t.w),t.a&&Jc(t.a,t),Cl(t))}}))},t.aa=function(t){return al(this.h,t)},t.bc=function(){Cl(this),this.aa(_l(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(_l(e))}))},t.pc=function(t){var e=this;!function(t,e){t.J.push(e),Sl(t,t.i.then((function(){!t.l&&q(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(wl(t)))})))}(this,(function(){t.next(_l(e))}))},t.xc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){y(t)?t(_l(r)):y(t.next)&&t.next(_l(r))})),this.Ub(t,e,n)},t.wc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then((function(){r.W=r.getUid(),y(t)?t(_l(r)):y(t.next)&&t.next(_l(r))})),this.Vb(t,e,n)},t.cc=function(t){var e=this;return Sl(this,this.i.then((function(){return _l(e)?_l(e).G(t).then((function(t){return{accessToken:t}})):null})))},t.Hc=function(t){var e=this;return this.i.then((function(){return vl(e,Ta(e.b,_a,{token:t}))})).then((function(t){var n=t.user;return qu(n,"isAnonymous",!1),e.aa(n),t}))},t.Ic=function(t,e){var n=this;return this.i.then((function(){return vl(n,Ta(n.b,wa,{email:t,password:e}))}))},t.Xb=function(t,e){var n=this;return this.i.then((function(){return vl(n,Ta(n.b,ta,{email:t,password:e}))}))},t.Sa=function(t){var e=this;return this.i.then((function(){return vl(e,t.na(e.b))}))},t.Gc=function(t){return Lr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Sa(t)},t.ob=function(){var t=this;return this.i.then((function(){var e=_l(t);if(e&&e.isAnonymous){var n=Vr({providerId:null,isNewUser:!1});return Vr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return vl(t,t.b.ob()).then((function(e){var n=e.user;return qu(n,"isAnonymous",!0),t.aa(n),e}))}))},t.getUid=function(){return _l(this)&&_l(this).uid||null},t.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&_l(this)&&Du(_l(this))},t.Ec=function(t){var e=this;j(this.m,(function(n){n==t&&e.o--})),0>this.o&&(this.o=0),0==this.o&&_l(this)&&Pu(_l(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Sl(this,this.i.then((function(){e.l||q(e.m,t)&&t(wl(e))})))},t.removeAuthTokenListener=function(t){W(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h).b.removeListener(sl("local"),t.a,this.ma),this.a&&(tu(this.a,this),hu(this.a.b)),Promise.resolve()},t.$b=function(t){return Sl(this,function(t,e){return Ta(t,ea,{identifier:e,continueUri:wr()?Jn():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.qc=function(t){return!!fo(t)},t.lb=function(t,e){var n=this;return Sl(this,Xt().then((function(){var t=new li(e);if(!t.c)throw new Xr("argument-error",fi+" must be true when sending sign in link to email");return _i(t)})).then((function(e){return n.b.lb(t,e)})).then((function(){})))},t.Uc=function(t){return this.Ma(t).then((function(t){return t.data.email}))},t.ab=function(t,e){return Sl(this,this.b.ab(t,e).then((function(){})))},t.Ma=function(t){return Sl(this,this.b.Ma(t).then((function(t){return new qr(t)})))},t.Ya=function(t){return Sl(this,this.b.Ya(t).then((function(){})))},t.kb=function(t,e){var n=this;return Sl(this,Xt().then((function(){return void 0===e||Q(e)?{}:_i(new li(e))})).then((function(e){return n.b.kb(t,e)})).then((function(){})))},t.Kc=function(t,e){return Sl(this,yu(this,t,e,S(this.Sa,this)))},t.Jc=function(t,e){var n=this;return Sl(this,Xt().then((function(){var r=e||Jn(),i=ho(t,r);if(!(r=fo(r)))throw new Xr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Xr("tenant-id-mismatch");return n.Sa(i)})))},El.prototype.render=function(){},El.prototype.reset=function(){},El.prototype.getResponse=function(){},El.prototype.execute=function(){};var kl=null;function Il(t,e){return(e=xl(e))&&t.a[e]||null}function xl(t){return(t=void 0===t?1e12:t)?t.toString():null}function Al(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Hn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ke(this.f,"click",this.i)}function Ol(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Dl(){}Tl.prototype.render=function(t,e){return this.a[this.b.toString()]=new Al(t,e),this.b++},Tl.prototype.reset=function(t){var e=Il(this,t);t=xl(t),e&&t&&(e.delete(),delete this.a[t])},Tl.prototype.getResponse=function(t){return(t=Il(this,t))?t.getResponse():null},Tl.prototype.execute=function(t){(t=Il(this,t))&&t.execute()},Al.prototype.getResponse=function(){return Ol(this),this.b},Al.prototype.execute=function(){Ol(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Al.prototype.delete=function(){Ol(this),this.g=!0,clearTimeout(this.a),this.a=null,Ye(this.f,"click",this.i)},Dl.prototype.g=function(){return kl||(kl=new Tl),Xt(kl)},Dl.prototype.c=function(){};var Pl=null;function Nl(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Rl=new Z(et,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ml=new Or(3e4,6e4);Nl.prototype.g=function(t){var e=this;return new Wt((function(n,r){var i=setTimeout((function(){r(new Xr("network-request-failed"))}),Ml.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new Xr("internal-error"));delete a[e.a]},Xt(ws(ot(Rl,{onload:e.a,hl:t||""}))).s((function(){clearTimeout(i),r(new Xr("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Nl.prototype.c=function(){this.b--};var Ll=null;function Fl(t,e,n,r,i,o,s){if(Ur(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,s?(Pl||(Pl=new Dl),s=Pl):(Ll||(Ll=new Nl),s=Ll),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Vl])throw new Xr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Bl],!a.document)throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Hn(e)||!this.i&&Hn(e).hasChildNodes())throw new Xr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new xs(t,o||null,i||null),this.v=r||function(){return null};var c=this;this.l=[];var u=this.a[Ul];this.a[Ul]=function(t){if(ql(c,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=vr(u,a);"function"==typeof e&&e(t)}};var l=this.a[jl];this.a[jl]=function(){if(ql(c,null),"function"==typeof l)l();else if("string"==typeof l){var t=vr(l,a);"function"==typeof t&&t()}}}var Ul="callback",jl="expired-callback",Vl="sitekey",Bl="size";function ql(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Hl(t,e){return t.h.push(e),e.ka((function(){H(t.h,e)})),e}function Wl(t){if(t.B)throw new Xr("internal-error","RecaptchaVerifier instance has been destroyed.")}function zl(t,e,n){var r=!1;try{this.b=n||i.a.app()}catch(a){throw new Xr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Xr("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ca()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=i.a.SDK_VERSION?gr(i.a.SDK_VERSION,s):null,Fl.call(this,n,t,e,(function(){try{var t=o.b.auth().ha()}catch(e){t=null}return t}),s,xi(ki),r)}function Gl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new Xr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].N(n[i])&&!o){if(e=e[i],0>i||i>=Kl.length)throw new Xr("internal-error","Argument validator received an unsupported number of arguments.");n=Kl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}r=null}}if(r)throw new Xr("argument-error",t+" failed: "+r)}(t=Fl.prototype).Da=function(){var t=this;return this.f?this.f:this.f=Hl(this,Xt().then((function(){if(wr()&&!ur())return sr();throw new Xr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.v())})).then((function(e){return t.g=e,Ta(t.o,ha,{})})).then((function(e){t.a[Vl]=e.recaptchaSiteKey})).s((function(e){throw t.f=null,e})))},t.render=function(){Wl(this);var t=this;return Hl(this,this.Da().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=Hn(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!qn&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ut(s.name),'"'),s.type){o.push(' type="',Ut(s.type),'"');var a={};X(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=i.createElement(o),s&&(c(s)?o.className=s:m(s)?o.className=s.join(" "):Wn(o,s)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(c(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!g(o)||v(o)&&0<o.nodeType?r(o):j(Gn(o)?G(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Wl(this);var t=this;return Hl(this,this.render().then((function(e){return new Wt((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){W(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Wl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Wl(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Hn(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},k(zl,Fl);var Kl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ql(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:c}}function $l(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:u}}function Yl(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:v}}function Xl(t,e){return{name:t||"",M:"a function",optional:!!e,N:y}}function Zl(t,e){return{name:t||"",M:"null",optional:!!e,N:p}}function Jl(t){return{name:t?t+"Credential":"credential",M:t?"a valid "+t+" credential":"a valid credential",optional:!1,N:function(e){return!!e&&!(!e.na||t&&e.providerId!==t)}}}function th(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&c(t.type)&&y(t.verify))}}}function eh(t,e,n,r){return{name:n||"",M:t.M+" or "+e.M,optional:!!r,N:function(n){return t.N(n)||e.N(n)}}}function nh(t,e){for(var n in e){var r=e[n].name;t[r]=oh(r,t[n],e[n].j)}}function rh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:E((function(t){return this[t]}),n),set:E((function(t,e,n,r){Gl(t,[n],[r],!0),this[e]=r}),r,n,e[n].Za),enumerable:!0})}}function ih(t,e,n,r){t[e]=oh(e,n,r)}function oh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Gl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}nh(hl.prototype,{Ya:{name:"applyActionCode",j:[Ql("code")]},Ma:{name:"checkActionCode",j:[Ql("code")]},ab:{name:"confirmPasswordReset",j:[Ql("code"),Ql("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Ql("email"),Ql("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Ql("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Ql("emailLink")]},wc:{name:"onAuthStateChanged",j:[eh(Yl(),Xl(),"nextOrObserver"),Xl("opt_error",!0),Xl("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[eh(Yl(),Xl(),"nextOrObserver"),Xl("opt_error",!0),Xl("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Ql("email"),eh(Yl("opt_actionCodeSettings",!0),Zl(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Ql("email"),Yl("actionCodeSettings")]},mb:{name:"setPersistence",j:[Ql("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Jl()]},ob:{name:"signInAnonymously",j:[]},Sa:{name:"signInWithCredential",j:[Jl()]},Hc:{name:"signInWithCustomToken",j:[Ql("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Ql("email"),Ql("password")]},Jc:{name:"signInWithEmailLink",j:[Ql("email"),Ql("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Ql("phoneNumber"),th()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[eh({name:"user",M:"an instance of Firebase User",optional:!1,N:function(t){return!!(t&&t instanceof ku)}},Zl(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ql(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Ql("code")]}}),rh(hl.prototype,{lc:{name:"languageCode",Za:eh(Ql(),Zl(),"languageCode")},ti:{name:"tenantId",Za:eh(Ql(),Zl(),"tenantId")}}),(hl.Persistence=bc).LOCAL="local",hl.Persistence.SESSION="session",hl.Persistence.NONE="none",nh(ku.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[$l("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[$l("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Jl()]},fb:{name:"linkWithCredential",j:[Jl()]},sc:{name:"linkWithPhoneNumber",j:[Ql("phoneNumber"),th()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Jl()]},hb:{name:"reauthenticateWithCredential",j:[Jl()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Ql("phoneNumber"),th()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[eh(Yl("opt_actionCodeSettings",!0),Zl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ql(null,!0)]},Qc:{name:"unlink",j:[Ql("provider")]},rb:{name:"updateEmail",j:[Ql("email")]},sb:{name:"updatePassword",j:[Ql("password")]},Sc:{name:"updatePhoneNumber",j:[Jl("phone")]},tb:{name:"updateProfile",j:[Yl("profile")]}}),nh(Tl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),nh(El.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),nh(Wt.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),rh(mu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Za:$l("appVerificationDisabledForTesting")}}),nh(gu.prototype,{confirm:{name:"confirm",j:[Ql("verificationCode")]}}),ih(Hi,"fromJSON",(function(t){t=c(t)?JSON.parse(t):t;for(var e,n=[Yi,uo,mo,Ki],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[eh(Ql(),Yl(),"json")]),ih(lo,"credential",(function(t,e){return new co(t,e)}),[Ql("email"),Ql("password")]),nh(co.prototype,{A:{name:"toJSON",j:[Ql(null,!0)]}}),nh(to.prototype,{ya:{name:"addScope",j:[Ql("scope")]},Ga:{name:"setCustomParameters",j:[Yl("customOAuthParameters")]}}),ih(to,"credential",eo,[eh(Ql(),Yl(),"token")]),ih(lo,"credentialWithLink",ho,[Ql("email"),Ql("emailLink")]),nh(no.prototype,{ya:{name:"addScope",j:[Ql("scope")]},Ga:{name:"setCustomParameters",j:[Yl("customOAuthParameters")]}}),ih(no,"credential",ro,[eh(Ql(),Yl(),"token")]),nh(io.prototype,{ya:{name:"addScope",j:[Ql("scope")]},Ga:{name:"setCustomParameters",j:[Yl("customOAuthParameters")]}}),ih(io,"credential",oo,[eh(Ql(),eh(Yl(),Zl()),"idToken"),eh(Ql(),Zl(),"accessToken",!0)]),nh(so.prototype,{Ga:{name:"setCustomParameters",j:[Yl("customOAuthParameters")]}}),ih(so,"credential",ao,[eh(Ql(),Yl(),"token"),Ql("secret",!0)]),nh(Ji.prototype,{ya:{name:"addScope",j:[Ql("scope")]},credential:{name:"credential",j:[eh(Ql(),eh(Yl(),Zl()),"optionsOrIdToken"),eh(Ql(),Zl(),"accessToken",!0)]},Ga:{name:"setCustomParameters",j:[Yl("customOAuthParameters")]}}),nh(Qi.prototype,{A:{name:"toJSON",j:[Ql(null,!0)]}}),nh(zi.prototype,{A:{name:"toJSON",j:[Ql(null,!0)]}}),ih(yo,"credential",vo,[Ql("verificationId"),Ql("verificationCode")]),nh(yo.prototype,{Wa:{name:"verifyPhoneNumber",j:[Ql("phoneNumber"),th()]}}),nh(po.prototype,{A:{name:"toJSON",j:[Ql(null,!0)]}}),nh(Xr.prototype,{toJSON:{name:"toJSON",j:[Ql(null,!0)]}}),nh(Io.prototype,{toJSON:{name:"toJSON",j:[Ql(null,!0)]}}),nh(ko.prototype,{toJSON:{name:"toJSON",j:[Ql(null,!0)]}}),nh(zl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ih(ei,"parseLink",ui,[Ql("link")]),function(){if(void 0===i.a||!i.a.INTERNAL||!i.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Hr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:hl,AuthCredential:Hi,Error:Xr};ih(t,"EmailAuthProvider",lo,[]),ih(t,"FacebookAuthProvider",to,[]),ih(t,"GithubAuthProvider",no,[]),ih(t,"GoogleAuthProvider",io,[]),ih(t,"TwitterAuthProvider",so,[]),ih(t,"OAuthProvider",Ji,[Ql("providerId")]),ih(t,"SAMLAuthProvider",Zi,[Ql("providerId")]),ih(t,"PhoneAuthProvider",yo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof hl)}}]),ih(t,"RecaptchaVerifier",zl,[eh(Ql(),{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Yl("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(t){return!!(t&&t instanceof i.a.app.App)}}]),ih(t,"ActionCodeURL",ei,[]),i.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new hl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),i.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:S((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:S(t.cc,t),addAuthTokenListener:S(t.Wb,t),removeAuthTokenListener:S(t.Ec,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),i.a.registerVersion("@firebase/auth","0.13.3"),i.a.INTERNAL.extendNamespace({User:ku})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"v/ix":function(t,e){!function(){"use strict";var t=function(t){this.element_=t,this.init()};window.MaterialButton=t,t.prototype.Constant_={},t.prototype.CssClasses_={RIPPLE_EFFECT:"mdl-js-ripple-effect",RIPPLE_CONTAINER:"mdl-button__ripple-container",RIPPLE:"mdl-ripple"},t.prototype.blurHandler_=function(t){t&&this.element_.blur()},t.prototype.disable=t.prototype.disable=function(){this.element_.disabled=!0},t.prototype.enable=t.prototype.enable=function(){this.element_.disabled=!1},t.prototype.init=function(){if(this.element_){if(this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)){var t=document.createElement("span");t.classList.add(this.CssClasses_.RIPPLE_CONTAINER),this.rippleElement_=document.createElement("span"),this.rippleElement_.classList.add(this.CssClasses_.RIPPLE),t.appendChild(this.rippleElement_),this.boundRippleBlurHandler=this.blurHandler_.bind(this),this.rippleElement_.addEventListener("mouseup",this.boundRippleBlurHandler),this.element_.appendChild(t)}this.boundButtonBlurHandler=this.blurHandler_.bind(this),this.element_.addEventListener("mouseup",this.boundButtonBlurHandler),this.element_.addEventListener("mouseleave",this.boundButtonBlurHandler)}},componentHandler.register({constructor:t,classAsString:"MaterialButton",cssClass:"mdl-js-button",widget:!0})}()},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("mrSG"),s=n("zVF4"),a=n("S+S0"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),l=new s.ErrorFactory("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.Logger("@firebase/app"),m=function(){function t(t,e,n){var r,i,c=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return c}),"PUBLIC"));try{for(var u=o.__values(this.firebase_.INTERNAL.components.values()),l=u.next();!l.done;l=u.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,o,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},apps:null,SDK_VERSION:"7.6.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!s.contains(e,t=t||d))throw l.create("no-app",{appName:t});return e[t]}function c(a){var c,u,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&s.deepExtend(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var f=o.__values(Object.keys(e)),m=f.next();!m.done;m=f.next())e[m.value]._addComponent(a)}catch(g){c={error:g}}finally{try{m&&!m.done&&(u=f.return)&&u.call(f)}finally{if(c)throw c.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(m);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){s.deepExtend(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e;return"VERSION"===(null===(e=t.getComponent())||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(s.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),b.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new y(t)}),"PRIVATE")),t.registerVersion(h,"0.5.0",void 0),t.registerVersion("fire-js","")}(_),e.default=_,e.firebase=_},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return ar})),n.d(e,"EventType",(function(){return cr})),n.d(e,"WebChannel",(function(){return ur})),n.d(e,"XhrIo",(function(){return lr})),n.d(e,"createWebChannelTransport",(function(){return sr}));var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=i;function a(t){return"string"==typeof t}function c(t){return"number"==typeof t}function u(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function l(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function f(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.xb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function S(){this.j=this.j,this.i=this.i}S.prototype.j=!1,S.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[m]||(this[m]=++g))},S.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function k(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var A,O=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var N=s.navigator;if(N){var R=N.userAgent;if(R){A=R;break t}}A=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=l;var V,B,q=D(A,"Opera"),H=D(A,"Trident")||D(A,"MSIE"),W=D(A,"Edge"),z=W||H,G=D(A,"Gecko")&&!(D(A.toLowerCase(),"webkit")&&!D(A,"Edge"))&&!(D(A,"Trident")||D(A,"MSIE"))&&!D(A,"Edge"),K=D(A.toLowerCase(),"webkit")&&!D(A,"Edge");function Q(){var t=s.document;return t?t.documentMode:void 0}t:{var $="",Y=(B=A,G?/rv:([^\);]+)(\)|;)/.exec(B):W?/Edge\/([\d\.]+)/.exec(B):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):K?/WebKit\/(\S+)/.exec(B):q?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(Y&&($=Y?Y[1]:""),H){var X=Q();if(null!=X&&X>parseFloat($)){V=String(X);break t}}V=$}var Z,J={};function tt(t){return function(t,e){var n=J;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=O(String(V)).split("."),r=O(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=P(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==s[2].length,0==a[2].length)||P(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var et=s.document;Z=et&&H?Q()||("CSS1Compat"==et.compatMode?parseInt(V,10):5):void 0;var nt=!H||9<=Number(Z),rt=H&&!tt("9"),it=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",l,e),s.removeEventListener("test",l,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ia=!0}function st(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(G){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ia=!1},C(st,ot);var at={2:"touch",3:"pen",4:"mouse"};st.prototype.b=function(){st.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ct="closure_listenable_"+(1e6*Math.random()|0),ut=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ut,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function ft(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=E(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function pt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=pt(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new lt(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(d(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Et(r),e&&e[ct]?e.Aa(n,r,p(i)?!!i.capture:!!i,o):vt(e,n,r,!0,i,o)}(t,e,n,r,i);if(d(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);return null}return n=Et(n),t&&t[ct]?t.za(e,n,p(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i;if(s&&!nt)return null;var a=Ct(t);if(a||(t[mt]=a=new dt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t){if(!c(t)&&t&&!t.X){var e=t.src;if(e&&e[ct])ft(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ct(e))?(ft(n,t),0==n.b&&(n.src=null,e[mt]=null)):ht(t)}}}function _t(t){return t in gt?gt[t]:gt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&bt(t),n.call(r,e)}(t,nt?new st(e,this):e=new st(e||u("window.event"),this))}function Ct(t){return(t=t[mt])instanceof dt?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==h(t)?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function Tt(){S.call(this),this.c=new dt(this),this.J=this,this.B=null}function kt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.X&&s.capture==n){var a=s.listener,c=s.da||s.src;s.Z&&ft(t.c,s),i=!1!==a.call(c,r)&&i}}return i&&0!=r.Ia}C(Tt,S),Tt.prototype[ct]=!0,(r=Tt.prototype).addEventListener=function(t,e,n,r){yt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(d(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=p(i)?!!i.capture:!!i,r=Et(r),e&&e[ct]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=pt(s=e.a[n],r,i,o))&&(ht(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Ct(e))&&(n=e.a[n.toString()],e=-1,n&&(e=pt(n,r,i,o)),(r=-1<e?n[e]:null)&&bt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(a(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;U(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=kt(s,r,!0,t)&&i}if(i=kt(s=t.a=n,r,!0,t)&&i,i=kt(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kt(s=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(Tt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.za=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var It=s.JSON.stringify;function xt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function At(){this.b=this.a=null}xt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Ot,Dt=new xt((function(){return new Nt}),(function(t){t.reset()}));function Pt(){var t=Ft,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Nt(){this.next=this.b=this.a=null}function Rt(t){s.setTimeout((function(){throw t}),0)}function Mt(t,e){Ot||function(){var t=s.Promise.resolve(void 0);Ot=function(){t.then(Ut)}}(),Lt||(Ot(),Lt=!0),Ft.add(t,e)}At.prototype.add=function(t,e){var n=Dt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Nt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Nt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Ft=new At;function Ut(){for(var t;t=Pt();){try{t.a.call(t.b)}catch(n){Rt(n)}var e=Dt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function jt(t,e){Tt.call(this),this.b=t||1,this.a=e||s,this.f=b(this.fb,this),this.g=w()}function Vt(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Bt(t,e,n){if("function"==h(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function qt(t,e,n){S.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.$a,this),this.a=[]}function Ht(t){t.U=Bt(t.b,t.c),t.f.apply(null,t.a)}function Wt(t){S.call(this),this.b=t,this.a={}}C(jt,Tt),(r=jt.prototype).ba=!1,r.L=null,r.fb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Vt(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){jt.N.G.call(this),Vt(this),delete this.a},C(qt,S),(r=qt.prototype).ea=!1,r.U=null,r.Ta=function(t){this.a=arguments,this.U?this.ea=!0:Ht(this)},r.G=function(){qt.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.$a=function(){this.U=null,this.ea&&(this.ea=!1,Ht(this))},C(Wt,S);var zt=[];function Gt(t,e,n,r){d(n)||(n&&(zt[0]=n.toString()),n=zt);for(var i=0;i<n.length;i++){var o=yt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Kt(t){M(t.a,(function(t,e){this.a.hasOwnProperty(e)&&bt(t)}),t),t.a={}}function Qt(){}Wt.prototype.G=function(){Wt.N.G.call(this),Kt(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=new Tt;function Yt(t){ot.call(this,"serverreachability",t)}function Xt(t){$t.dispatchEvent(new Yt($t,t))}function Zt(t){ot.call(this,"statevent",t)}function Jt(t){$t.dispatchEvent(new Zt($t,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return s.setTimeout((function(){t()}),e)}C(Yt,ot),C(Zt,ot),C(te,ot);var ne={NO_ERROR:0,gb:1,nb:2,mb:3,jb:4,lb:5,ob:6,La:7,TIMEOUT:8,rb:9},re={ib:"complete",vb:"success",Ma:"error",La:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",kb:"downloadprogress",wb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var se,ae={OPEN:"a",hb:"b",Ma:"c",qb:"d"};function ce(){ot.call(this,"d")}function ue(){ot.call(this,"c")}function le(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Wt(this),this.O=de,this.P=new jt(t=z?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}C(ce,ot),C(ue,ot),C(le,ie),se=new le;var de=45e3,fe={},pe={};function me(t,e,n){t.F=1,t.f=Ve(Ne(e)),t.l=n,t.H=!0,ye(t,null)}function ge(t,e,n,r){t.F=1,t.f=Ve(Ne(e)),t.l=null,t.H=n,ye(t,r)}function ye(t,e){t.v=w(),_e(t),t.D=Ne(t.f),je(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new qt(b(t.Ja,t,t.a),t.J)),Gt(t.I,t.a,"readystatechange",t.cb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Xt(1)}function ve(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=be(t,n);if(i==pe){4==e&&(t.c=4,Jt(14),r=!1);break}if(i==fe){t.c=4,Jt(15),r=!1;break}Te(t,i)}4==e&&0==n.length&&(t.c=1,Jt(16),r=!1),t.b=t.b&&r,r||(Ee(t),Se(t))}function be(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?pe:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?pe:(e=e.substr(r,n),t.A=r+n,e))}function _e(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(b(t.ab,t),e)}function Ce(t){t.i&&(s.clearTimeout(t.i),t.i=null)}function Se(t){t.g.Ca()||t.m||t.g.na(t)}function Ee(t){Ce(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Vt(t.P),Kt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Te(t,e){try{t.g.Fa(t,e),Xt(4)}catch(n){}}function ke(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||a(t))T(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(f(t)||a(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ie(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ie)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xe(t,e){Oe(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ae(t))}function Ae(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Oe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Oe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Oe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.cb=function(t){t=t.target;var e=this.B;e&&3==Nn(t)?e.Ta():this.Ja(t)},r.Ja=function(t){try{if(t==this.a)t:{var e=Nn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!z&&!this.a.aa())){this.m||4!=e||7==n||Xt(8==n||0>=r?3:2),Ce(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var s=Rn(this.a,"X-HTTP-Initial-Response");if(s&&!x(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.c=3,Jt(12),Ee(this),Se(this);break t}this.s=!0,Te(this,a)}this.H?(ve(this,e,o),z&&this.b&&3==e&&(Gt(this.I,this.P,"tick",this.bb),this.P.start())):Te(this,o),4==e&&Ee(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,_e(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Jt(12)):(this.c=0,Jt(13)),Ee(this),Se(this)}}}catch(c){}},r.bb=function(){if(this.a){var t=Nn(this.a),e=this.a.aa();this.A<e.length&&(Ce(this),ve(this,t,e),this.b&&4!=t&&_e(this))}},r.cancel=function(){this.m=!0,Ee(this)},r.ab=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Xt(3),Jt(17)),Ee(this),this.c=2,Se(this)):we(this,this.R-t)},(r=Ie.prototype).C=function(){Ae(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Ae(this),this.a.concat()},r.get=function(t,e){return Oe(this.b,t)?this.b[t]:e},r.set=function(t,e){Oe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var De=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Pe(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Pe?(this.h=void 0!==e?e:t.h,Re(this,t.f),this.j=t.j,Me(this,t.b),Le(this,t.i),this.a=t.a,Fe(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(De))?(this.h=!!e,Re(this,n[1]||"",!0),this.j=Be(n[2]||""),Me(this,n[3]||"",!0),Le(this,n[4]),this.a=Be(n[5]||"",!0),Fe(this,n[6]||"",!0),this.g=Be(n[7]||"")):(this.h=!!e,this.c=new $e(null,this.h))}function Ne(t){return new Pe(t)}function Re(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.b=n?Be(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Fe(t,e,n){e instanceof $e?(t.c=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Xe(this,e),Je(this,n,t))}),t)),t.f=e}(t.c,t.h)):(n||(e=qe(e,Ke)),t.c=new $e(e,t.h))}function Ue(t,e,n){t.c.set(e,n)}function je(t,e,n){d(n)||(n=[String(n)]),Je(t.c,e,n)}function Ve(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qe(t,e,n){return a(t)?(t=encodeURI(t).replace(e,He),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function He(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Pe.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qe(e,We,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qe(e,We,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(qe(n,"/"==n.charAt(0)?Ge:ze,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",qe(n,Qe)),t.join("")},Pe.prototype.resolve=function(t){var e=Ne(this),n=!!t.f;n?Re(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Me(e,t.b):n=null!=t.i;var r=t.a;if(n)Le(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(D(i,"./")||D(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Fe(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var We=/[#\/\?@]/g,ze=/[#\?:]/g,Ge=/[#\?]/g,Ke=/[#\?@]/g,Qe=/#/g;function $e(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new Ie,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Xe(t,e){Ye(t),e=en(t,e),Oe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xe(t.a,e))}function Ze(t,e){return Ye(t),e=en(t,e),Oe(t.a.b,e)}function Je(t,e,n){Xe(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),I(n)),t.b+=n.length)}function tn(t){var e=new $e;return e.c=t.c,t.a&&(e.a=new Ie(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Jt(4),e?(Jt(10),Gn(t.a,t,!1)):(Jt(11),Gn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Xn(e=t.a,e.Y()?t.f:null,t.i),Jt(4),je(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Ue(e,n,r),ge(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function sn(){this.a=new Ie}function an(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[m]||(t[m]=++g)):e.charAt(0)+t}function cn(t,e){this.b=t,this.a=e}function un(t){this.g=t||ln,t=s.PerformanceNavigationTiming?0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(s.ka&&s.ka.Da&&s.ka.Da()&&s.ka.Da().yb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=$e.prototype).add=function(t,e){Ye(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ye(this),this.a.forEach((function(n,r){T(n,(function(n){t.call(e,n,r,this)}),this)}),this)},r.K=function(){Ye(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Ye(this);var e=[];if(a(t))Ze(this,t)&&(e=k(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=k(e,t[n])}return e},r.set=function(t,e){return Ye(this),this.c=null,Ze(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")},C((function(){}),(function(){})),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Ca=function(){return!1},r.Fa=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Rn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Rn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void $n(e,2)}this.f=r[0]}else(e=this.a).m=this.c,$n(e,2)}else 1==this.M&&(this.g?Jt(6):"11111"==e?(Jt(5),this.g=!0,(!H||10<=Number(Z))&&(this.c=200,this.b.cancel(),Jt(11),Gn(this.a,this,!0))):(Jt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Jt(11),Gn(this.a,this,!0)):(Jt(10),Gn(this.a,this,!1)));else{0==this.M?Jt(8):1==this.M&&Jt(9);var t=this.a;t.m=this.c,$n(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(t){this.a.set(an(t),t)},sn.prototype.C=function(){return this.a.C()};var ln=10;function hn(t,e){!t.a&&(D(e,"spdy")||D(e,"quic")||D(e,"h2"))&&(t.f=t.g,t.a=new sn,t.b&&(mn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function fn(t){return t.b?1:t.a?t.a.a.c:0}function pn(t,e){return t.b?t=t.b==e:t.a?(e=an(e),t=Oe(t.a.a.b,e)):t=!1,t}function mn(t,e){t.a?t.a.add(e):t.b=e}function gn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=an(e),n=Oe(t.a.a.b,n)),n&&xe(t.a.a,an(e)))}function yn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return T(t.a.C(),(function(t){e=e.concat(t.j)})),e}return I(t.c)}function vn(){}function bn(){this.a=new vn}function _n(t,e,n){var r=n||"";try{ke(t,(function(t,n){var i=t;p(t)&&(i=It(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}un.prototype.cancel=function(){this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(T(this.a.C(),(function(t){t.cancel()})),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},vn.prototype.stringify=function(t){return s.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return s.JSON.parse(t,void 0)};var Cn=s.JSON.parse;function Sn(t){Tt.call(this),this.headers=new Ie,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=En,this.D=this.F=!1}C(Sn,Tt);var En="",Tn=/^https?$/i,kn=["POST","PUT"];function In(t){return"content-type"==t.toLowerCase()}function xn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,An(t),Dn(t)}function An(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function On(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Nn(t)||2!=t.T()))if(t.l&&4==Nn(t))Bt(t.Ea,0,t);else if(t.dispatchEvent("readystatechange"),4==Nn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.A).match(De)[1]||null;if(!a&&s.self&&s.self.location){var c=s.self.location.protocol;a=c.substr(0,c.length-1)}i=!Tn.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var u=2<Nn(t)?t.a.statusText:""}catch(l){u=""}t.f=u+" ["+t.T()+"]",An(t)}}finally{Dn(t)}}}function Dn(t,e){if(t.a){Pn(t);var n=t.a,r=t.s[0]?l:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Pn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(s.clearTimeout(t.m),t.m=null)}function Nn(t){return t.a?t.a.readyState:0}function Rn(t,e){return t.a?t.a.getResponseHeader(e):null}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Ue(t,e,n),t}function Ln(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Qa=this.P=0,this.Oa=!!u("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Na=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Ra=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Pa=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Ka=t&&t.zb||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new un(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Fn(t){if(Un(t),3==t.u){var e=t.P++,n=Ne(t.B);Ue(n,"SID",t.H),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),qn(t,n),(e=new he(t,e,void 0)).F=2,e.f=Ve(Ne(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(e.f.toString(),"")),!n&&s.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),_e(e)}Yn(t)}function Un(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(s.clearTimeout(t.l),t.l=null),Kn(t),t.b.cancel(),t.h&&(c(t.h)&&s.clearTimeout(t.h),t.h=null)}function jn(t,e){t.f.push(new cn(t.Qa++,e)),3==t.u&&Vn(t)}function Vn(t){dn(t.b)||t.h||(t.h=!0,Mt(t.Ha,t),t.A=0)}function Bn(t,e){var n;n=e?e.W:t.P++;var r=Ne(t.B);Ue(r,"SID",t.H),Ue(r,"RID",n),Ue(r,"AID",t.O),qn(t,r),t.g&&t.i&&Mn(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=Hn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),mn(t.b,n),me(n,r,e)}function qn(t,e){t.c&&ke({},(function(t,n){Ue(e,n,t)}))}function Hn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?b(t.c.Sa,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=o))o=Math.max(0,i[c].b-100),a=!1;else try{_n(l,s,"req"+u+"_")}catch(h){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Wn(t){t.a||t.l||(t.S=1,Mt(t.Ga,t),t.v=0)}function zn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(b(t.Ga,t),Qn(t,t.v)),t.v++,0))}function Gn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Xn(t,null,t.ha),Vn(t)}function Kn(t){null!=t.s&&(s.clearTimeout(t.s),t.s=null)}function Qn(t,e){var n=t.Na+Math.floor(Math.random()*t.Ra);return t.ma()||(n*=2),n*e}function $n(t,e){if(2==e){var n=null;t.c&&(n=null);var r=b(t.eb,t);n||(n=new Pe("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Re(n,"https"),Ve(n)),function(t,e){var n=new Qt;if(s.Image){var r=new Image;r.onload=_(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=_(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(wn,n,r,"TestLoadImage: timeout",!1,e),s.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Jt(2);t.u=0,t.c&&t.c.ta(e),Yn(t),Un(t)}function Yn(t){t.u=0,t.m=-1,t.c&&(0==yn(t.b).length&&0==t.f.length||(t.b.c.length=0,I(t.f),t.f.length=0),t.c.sa())}function Xn(t,e,n){var r=function(t){return t instanceof Pe?Ne(t):new Pe(t,void 0)}(n);if(""!=r.b)e&&Me(r,e+"."+r.b),Le(r,r.i);else{var i=s.location;r=function(t,e,n,r){var i=new Pe(null,void 0);return t&&Re(i,t),e&&Me(i,e),n&&Le(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&M(t.V,(function(t,e){Ue(r,e,t)})),n=t.I,(e=t.j)&&n&&Ue(r,e,n),Ue(r,"VER",t.wa),qn(t,r),r}function Zn(){}function Jn(){if(H&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function tr(t,e){Tt.call(this),this.a=new Ln(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){ce.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ue.call(this),this.status=1}function rr(t){this.a=t}(r=Sn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=b(this.Ea,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void xn(this,o)}t=n||"";var i=new Ie(this.headers);r&&ke(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=In,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(i.K()),n=s.FormData&&t instanceof s.FormData,!(0<=E(kn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Pn(this),0<this.o&&((this.D=function(t){return H&&tt(9)&&c(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ba,this)):this.m=Bt(this.Ba,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){xn(this,o)}},r.Ba=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Dn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Dn(this,!0)),Sn.N.G.call(this)},r.Ea=function(){this.j||(this.w||this.l||this.g?On(this):this.Za())},r.Za=function(){On(this)},r.T=function(){try{return 2<Nn(this)?this.a.status:-1}catch(B){return-1}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},r.Ua=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cn(e)}},r.ya=function(){return this.h},r.Xa=function(){return a(this.f)?this.f:String(this.f)},(r=Ln.prototype).wa=8,r.u=1,r.Ca=function(){return 0==this.u},r.Ha=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?U(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&a(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Hn(this,n,e),Ue(i=Ne(this.B),"RID",t),Ue(i,"CVER",22),this.o&&this.j&&Ue(i,"X-HTTP-Session-Id",this.j),qn(this,i),this.g&&r&&Mn(i,this.g,r),mn(this.b,n),this.W?(Ue(i,"$req",e),Ue(i,"SID","null"),n.S=!0,me(n,i,null)):me(n,i,e),this.u=2}}else 3==this.u&&(t?Bn(this,t):0==this.f.length||dn(this.b)||Bn(this))},r.Ga=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=Ne(this.pa);Ue(t,"RID","rpc"),Ue(t,"SID",this.H),Ue(t,"CI",this.ia?"0":"1"),Ue(t,"AID",this.O),qn(this,t),Ue(t,"TYPE","xmlhttp"),this.g&&this.i&&Mn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),ge(this.a,t,!0,this.ga)},r.Fa=function(t,e){if(0!=this.u&&(this.a==t||pn(this.b,t)))if(this.m=t.o,!t.s&&pn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Kn(this),this.a.cancel(),this.a=null}zn(this),Jt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Ya,this),6e3));if(1>=fn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else $n(this,11)}else if((t.s||this.a==t)&&Kn(this),!x(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&c(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Rn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Rn(r,"X-HTTP-Session-Id")))&&(this.I=r,Ue(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Xn(this,this.Y()?this.ga:null,this.ha),r.s?(gn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ce(r),_e(r)),this.a=r):Wn(this),0<this.f.length&&Vn(this)}else"stop"!=r[0]&&"close"!=r[0]||$n(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?$n(this,7):Fn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Ya=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,zn(this),Jt(19))},r.na=function(t){var e=null;if(this.a==t){Kn(this),this.a=null;var n=2}else{if(!pn(this.b,t))return;e=t.j,gn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,$t.dispatchEvent(new te($t,t.l?t.l.length:0,e,this.A)),Vn(this)):Wn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(fn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Oa?0:t.Pa)||(t.h=ee(b(t.Ha,t,e),Qn(t,t.A)),t.A++,0)))}(this,t)||2==n&&zn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:$n(this,5);break;case 4:$n(this,10);break;case 3:$n(this,6);break;default:$n(this,2)}}},r.eb=function(t){Jt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Sn(this.Ka)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Zn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Sa=function(){},Jn.prototype.a=function(t,e){return new tr(t,e)},C(tr,Tt),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Va=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Jt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Mn(e,t.g,t.i)),(t=t.w).i=n,e=Xn(t.a,null,t.i),Jt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(je(e,"MODE","init"),!t.a.o&&t.a.j&&je(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,ge(t.b,e,!1,null),t.M=0)},r.close=function(){Fn(this.a)},r.Wa=function(t){if(a(t)){var e={};e.__data__=t,jn(this.a,e)}else this.h?((e={}).__data__=It(t),jn(this.a,e)):jn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Fn(this.a),delete this.a,tr.N.G.call(this)},C(er,ce),C(nr,ue),C(rr,Zn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=_((function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r}),Jn);Jn.prototype.createWebChannel=Jn.prototype.a,tr.prototype.send=tr.prototype.Wa,tr.prototype.open=tr.prototype.Va,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",Tt.prototype.listen=Tt.prototype.za,Sn.prototype.listenOnce=Sn.prototype.Aa,Sn.prototype.getLastError=Sn.prototype.Xa,Sn.prototype.getLastErrorCode=Sn.prototype.ya,Sn.prototype.getStatus=Sn.prototype.T,Sn.prototype.getResponseJson=Sn.prototype.Ua,Sn.prototype.getResponseText=Sn.prototype.aa,Sn.prototype.send=Sn.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:oe,XhrIo:Sn},sr=or.createWebChannelTransport,ar=or.ErrorCode,cr=or.EventType,ur=or.WebChannel,lr=or.XhrIo;e.default=or},yXDX:function(t,e,n){var r;!function(){var i=window.CustomEvent;function o(t){for(;t;){if("dialog"===t.localName)return t;t=t.parentElement}return null}function s(t){t&&t.blur&&t!==document.body&&t.blur()}function a(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return!0;return!1}function c(t){return!(!t||!t.hasAttribute("method"))&&"dialog"===t.getAttribute("method").toLowerCase()}function u(t){if(this.dialog_=t,this.replacedStyleTop_=!1,this.openAsModal_=!1,t.hasAttribute("role")||t.setAttribute("role","dialog"),t.show=this.show.bind(this),t.showModal=this.showModal.bind(this),t.close=this.close.bind(this),"returnValue"in t||(t.returnValue=""),"MutationObserver"in window)new MutationObserver(this.maybeHideModal.bind(this)).observe(t,{attributes:!0,attributeFilter:["open"]});else{var e,n=!1,r=(function(){n?this.downgradeModal():this.maybeHideModal(),n=!1}).bind(this),i=function(i){if(i.target===t){var o="DOMNodeRemoved";n|=i.type.substr(0,o.length)===o,window.clearTimeout(e),e=window.setTimeout(r,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach((function(e){t.addEventListener(e,i)}))}Object.defineProperty(t,"open",{set:this.setOpen.bind(this),get:t.hasAttribute.bind(t,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}i&&"object"!=typeof i||((i=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!!e.bubbles,!!e.cancelable,e.detail||null),n}).prototype=window.Event.prototype),u.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),l.dm.removeDialog(this))},setOpen:function(t){t?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(t){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus();else{var e=document.createElement("div");this.dialog_.insertBefore(e,this.dialog_.firstChild),e.tabIndex=-1,e.focus(),this.dialog_.removeChild(e)}var n=document.createEvent("MouseEvents");n.initMouseEvent(t.type,t.bubbles,t.cancelable,window,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),this.dialog_.dispatchEvent(n),t.stopPropagation()},focus_:function(){var t=this.dialog_.querySelector("[autofocus]:not([disabled])");if(!t&&this.dialog_.tabIndex>=0&&(t=this.dialog_),!t){var e=["button","input","keygen","select","textarea"].map((function(t){return t+":not([disabled])"}));e.push('[tabindex]:not([disabled]):not([tabindex=""])'),t=this.dialog_.querySelector(e.join(", "))}s(document.activeElement),t&&t.focus()},updateZIndex:function(t,e){if(t<e)throw new Error("dialogZ should never be < backdropZ");this.dialog_.style.zIndex=t,this.backdrop_.style.zIndex=e},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.");if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.");if(!l.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(t){for(;t&&t!==document.body;){var e=window.getComputedStyle(t),n=function(t,n){return!(void 0===e[t]||e[t]===n)};if(e.opacity<1||n("zIndex","auto")||n("transform","none")||n("mixBlendMode","normal")||n("filter","none")||n("perspective","none")||"isolate"===e.isolation||"fixed"===e.position||"touch"===e.webkitOverflowScrolling)return!0;t=t.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,l.needsCentering(this.dialog_)?(l.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(t){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.");this.setOpen(!1),void 0!==t&&(this.dialog_.returnValue=t);var e=new i("close",{bubbles:!1,cancelable:!1});this.dialog_.dispatchEvent(e)}};var l={reposition:function(t){var e=document.body.scrollTop||document.documentElement.scrollTop,n=e+(window.innerHeight-t.offsetHeight)/2;t.style.top=Math.max(e,n)+"px"},isInlinePositionSetByStylesheet:function(t){for(var e=0;e<document.styleSheets.length;++e){var n=document.styleSheets[e],r=null;try{r=n.cssRules}catch(l){}if(r)for(var i=0;i<r.length;++i){var o=r[i],s=null;try{s=document.querySelectorAll(o.selectorText)}catch(l){}if(s&&a(s,t)){var c=o.style.getPropertyValue("top"),u=o.style.getPropertyValue("bottom");if(c&&"auto"!==c||u&&"auto"!==u)return!0}}}return!1},needsCentering:function(t){return!("absolute"!==window.getComputedStyle(t).position||"auto"!==t.style.top&&""!==t.style.top||"auto"!==t.style.bottom&&""!==t.style.bottom||l.isInlinePositionSetByStylesheet(t))},forceRegisterDialog:function(t){if((window.HTMLDialogElement||t.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",t),"dialog"!==t.localName)throw new Error("Failed to register dialog: The element is not a dialog.");new u(t)},registerDialog:function(t){t.showModal||l.forceRegisterDialog(t)},DialogManager:function(){this.pendingDialogStack=[];var t=this.checkDOM_.bind(this);this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",(function(e){this.forwardTab_=void 0,e.stopPropagation(),t([])}).bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver((function(e){var n=[];e.forEach((function(t){for(var e,r=0;e=t.removedNodes[r];++r)e instanceof Element&&("dialog"===e.localName&&n.push(e),n=n.concat(e.querySelectorAll("dialog")))})),n.length&&t(n)})))}};if(l.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},l.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},l.DialogManager.prototype.updateStacking=function(){for(var t,e=this.zIndexHigh_,n=0;t=this.pendingDialogStack[n];++n)t.updateZIndex(--e,--e),0===n&&(this.overlay.style.zIndex=--e);var r=this.pendingDialogStack[0];r?(r.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},l.DialogManager.prototype.containedByTopDialog_=function(t){for(;t=o(t);){for(var e,n=0;e=this.pendingDialogStack[n];++n)if(e.dialog===t)return 0===n;t=t.parentElement}return!1},l.DialogManager.prototype.handleFocus_=function(t){if(!this.containedByTopDialog_(t.target)&&(t.preventDefault(),t.stopPropagation(),s(t.target),void 0!==this.forwardTab_)){var e=this.pendingDialogStack[0];return e.dialog.compareDocumentPosition(t.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?e.focus_():document.documentElement.focus()),!1}},l.DialogManager.prototype.handleKey_=function(t){if(this.forwardTab_=void 0,27===t.keyCode){t.preventDefault(),t.stopPropagation();var e=new i("cancel",{bubbles:!1,cancelable:!0}),n=this.pendingDialogStack[0];n&&n.dialog.dispatchEvent(e)&&n.dialog.close()}else 9===t.keyCode&&(this.forwardTab_=!t.shiftKey)},l.DialogManager.prototype.checkDOM_=function(t){this.pendingDialogStack.slice().forEach((function(e){-1!==t.indexOf(e.dialog)?e.downgradeModal():e.maybeHideModal()}))},l.DialogManager.prototype.pushDialog=function(t){return!(this.pendingDialogStack.length>=(this.zIndexHigh_-this.zIndexLow_)/2-1||(1===this.pendingDialogStack.unshift(t)&&this.blockDocument(),this.updateStacking(),0))},l.DialogManager.prototype.removeDialog=function(t){var e=this.pendingDialogStack.indexOf(t);-1!==e&&(this.pendingDialogStack.splice(e,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},l.dm=new l.DialogManager,l.formSubmitter=null,l.useValue=null,void 0===window.HTMLDialogElement){var h=document.createElement("form");if(h.setAttribute("method","dialog"),"dialog"!==h.method){var d=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method");if(d){var f=d.get;d.get=function(){return c(this)?"dialog":f.call(this)};var p=d.set;d.set=function(t){return"string"==typeof t&&"dialog"===t.toLowerCase()?this.setAttribute("method",t):p.call(this,t)},Object.defineProperty(HTMLFormElement.prototype,"method",d)}}document.addEventListener("click",(function(t){if(l.formSubmitter=null,l.useValue=null,!t.defaultPrevented){var e=t.target;if(e&&c(e.form)){if(!("submit"===e.type&&["button","input"].indexOf(e.localName)>-1)){if("input"!==e.localName||"image"!==e.type)return;l.useValue=t.offsetX+","+t.offsetY}o(e)&&(l.formSubmitter=e)}}}),!1);var m=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){if(!c(this))return m.call(this);var t=o(this);t&&t.close()},document.addEventListener("submit",(function(t){var e=t.target;if(c(e)){t.preventDefault();var n=o(e);if(n){var r=l.formSubmitter;r&&r.form===e?n.close(l.useValue||r.value):n.close(),l.formSubmitter=null}}}),!0)}l.forceRegisterDialog=l.forceRegisterDialog,l.registerDialog=l.registerDialog,"amd"in n("B9Yq")?void 0===(r=(function(){return l}).call(e,n,e,t))||(t.exports=r):"object"==typeof t.exports?t.exports=l:window.dialogPolyfill=l}()},"zB/H":function(t,e,n){"use strict";var r=n("mbIT"),i=n("GMZp"),o=n("pshJ"),s=n("LBXl");function a(t){return t.reduce((function(t,e){return t.concat(e instanceof s.UnsubscriptionError?e.errors:e)}),[])}e.Subscription=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,c=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l)n[l].remove(this);if(o.isFunction(c))try{c.call(this)}catch(f){e=f instanceof s.UnsubscriptionError?a(f.errors):[f]}if(r.isArray(u)){l=-1;for(var h=u.length;++l<h;){var d=u[l];if(i.isObject(d))try{d.unsubscribe()}catch(f){e=e||[],f instanceof s.UnsubscriptionError?e=e.concat(a(f.errors)):e.push(f)}}}if(e)throw new s.UnsubscriptionError(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}()},zUnb:function(t,e,n){"use strict";n.r(e);var r={};function i(t){return"function"==typeof t}n.r(r),n.d(r,"auth",(function(){return nx}));let o=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else o&&console.log("RxJS: Back to a better error behavior. Thank you. <3");o=t},get useDeprecatedSynchronousErrorHandling(){return o}};function a(t){setTimeout(()=>{throw t},0)}const c={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete(){}},u=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function l(t){return null!==t&&"object"==typeof t}const h=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let d=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:r,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(i(r))try{r.call(this)}catch(s){e=s instanceof h?f(s.errors):[s]}if(u(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(l(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof h?e=e.concat(f(s.errors)):e.push(s)}}}if(e)throw new h(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function f(t){return t.reduce((t,e)=>t.concat(e instanceof h?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class m extends d{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=c;break;case 1:if(!t){this.destination=c;break}if("object"==typeof t){t instanceof m?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new m(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends m{constructor(t,e,n,r){let o;super(),this._parentSubscriber=t;let s=this;i(e)?o=e:e&&(o=e.next,n=e.error,r=e.complete,e!==c&&(s=Object.create(e),i(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(a(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const y=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(){}function b(...t){return _(t)}function _(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:v}let w=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof m)return t;if(t[p])return t[p]()}return t||e||n?new m(t,e,n):new m(c)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof m?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=C(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[y](){return this}pipe(...t){return 0===t.length?this:_(t)(this)}toPromise(t){return new(t=C(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function C(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const S=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class E extends d{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class T extends m{constructor(t){super(t),this.destination=t}}let k=(()=>{class t extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new T(this)}lift(t){const e=new I(this,this);return e.operator=t,e}next(t){if(this.closed)throw new S;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new S;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new S;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new S;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new E(this,t))}asObservable(){const t=new w;return t.source=this,t}}return t.create=(t,e)=>new I(t,e),t})();class I extends k{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):d.EMPTY}}function x(t){return t&&"function"==typeof t.schedule}class A extends m{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const O=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=D(),N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function R(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const M=t=>{if(t&&"function"==typeof t[y])return(t=>e=>{const n=t[y]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(N(t))return O(t);if(R(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,a),e))(t);if(t&&"function"==typeof t[P])return(t=>e=>{const n=t[P]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const e=l(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function L(t,e,n,r,i=new A(t,n,r)){if(!i.closed)return e instanceof w?e.subscribe(i):M(e)(i)}class F extends m{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function U(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new j(t,e))}}class j{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new V(t,this.project,this.thisArg))}}class V extends m{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function B(t,e){return new w(n=>{const r=new d;let i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}function q(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[y]}(t))return function(t,e){return new w(n=>{const r=new d;return r.add(e.schedule(()=>{const i=t[y]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(R(t))return function(t,e){return new w(n=>{const r=new d;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(N(t))return B(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new w(n=>{const r=new d;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[P](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof w?t:new w(M(t))}function H(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(H((n,r)=>q(t(n,r)).pipe(U((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new W(t,n)))}class W{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new z(t,this.project,this.concurrent))}}class z extends F{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new A(this,void 0,void 0);this.destination.add(r),L(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function G(t){return t}function K(t=Number.POSITIVE_INFINITY){return H(G,t)}function Q(t,e){return e?B(t,e):new w(O(t))}function $(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return x(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof w?t[0]:K(e)(Q(t,n))}function Y(){return function(t){return t.lift(new X(t))}}class X{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new Z(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class Z extends m{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class J extends w{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new d,t.add(this.source.subscribe(new et(this.getSubject(),this))),t.closed&&(this._connection=null,t=d.EMPTY)),t}refCount(){return Y()(this)}}const tt=(()=>{const t=J.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class et extends T{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function nt(){return new k}function rt(){return t=>Y()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,tt);return r.source=e,r.subjectFactory=n,r}}(nt)(t))}const it="__parameters__";function ot(t,e,n){const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(it)?t[it]:Object.defineProperty(t,it,{value:[]})[it];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}const st=ot("Inject",t=>({token:t})),at=ot("Optional"),ct=ot("Self"),ut=ot("SkipSelf");var lt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function ht(t){for(let e in t)if(t[e]===ht)return e;throw Error("Could not find renamed property on target object.")}function dt(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ft(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function pt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function mt(t){return gt(t,t[vt])||gt(t,t[wt])}function gt(t,e){return e&&e.token===t?e:null}function yt(t){return t&&(t.hasOwnProperty(bt)||t.hasOwnProperty(Ct))?t[bt]:null}const vt=ht({"\u0275prov":ht}),bt=ht({"\u0275inj":ht}),_t=ht({"\u0275provFallback":ht}),wt=ht({ngInjectableDef:ht}),Ct=ht({ngInjectorDef:ht});function St(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(St).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const Et=ht({__forward_ref__:ht});function Tt(t){return t.__forward_ref__=Tt,t.toString=function(){return St(this())},t}function kt(t){return It(t)?t():t}function It(t){return"function"==typeof t&&t.hasOwnProperty(Et)&&t.__forward_ref__===Tt}const xt="undefined"!=typeof globalThis&&globalThis,At="undefined"!=typeof window&&window,Ot="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Dt="undefined"!=typeof global&&global,Pt=xt||Dt||At||Ot,Nt=ht({"\u0275cmp":ht}),Rt=ht({"\u0275dir":ht}),Mt=ht({"\u0275pipe":ht}),Lt=ht({"\u0275mod":ht}),Ft=ht({"\u0275loc":ht}),Ut=ht({"\u0275fac":ht}),jt=ht({__NG_ELEMENT_ID__:ht});class Vt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ft({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Bt=new Vt("INJECTOR",-1),qt={},Ht="ngTempTokenPath",Wt="ngTokenPath",zt=/\n/gm,Gt="\u0275",Kt="__source",Qt=ht({provide:String,useValue:ht});let $t,Yt=void 0;function Xt(t){const e=Yt;return Yt=t,e}function Zt(t){const e=$t;return $t=t,e}function Jt(t,e=lt.Default){if(void 0===Yt)throw new Error("inject() must be called from an injection context");return null===Yt?ne(t,void 0,e):Yt.get(t,e&lt.Optional?null:void 0,e)}function te(t,e=lt.Default){return($t||Jt)(kt(t),e)}const ee=te;function ne(t,e,n){const r=mt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&lt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${St(t)}]`)}function re(t){const e=[];for(let n=0;n<t.length;n++){const r=kt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=lt.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof at||"Optional"===i.ngMetadataName||i===at?n|=lt.Optional:i instanceof ut||"SkipSelf"===i.ngMetadataName||i===ut?n|=lt.SkipSelf:i instanceof ct||"Self"===i.ngMetadataName||i===ct?n|=lt.Self:t=i instanceof st||i===st?i.token:i}e.push(te(t,n))}else e.push(te(r))}return e}class ie{get(t,e=qt){if(e===qt){const e=new Error(`NullInjectorError: No provider for ${St(t)}!`);throw e.name="NullInjectorError",e}return e}}class oe{}class se{}function ae(t,e){t.forEach(t=>Array.isArray(t)?ae(t,e):e(t))}function ce(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ue(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function le(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}const he=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),de=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}();function fe(t){return""+{toString:t}}const pe={},me=[];let ge=0;function ye(t){const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===he.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||me,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||de.Emulated,id:"c",styles:t.styles||me,_:null,setInput:null,schemas:t.schemas||null,tView:null};return i._=fe(()=>{const e=t.directives,n=t.features,o=t.pipes;i.id+=ge++,i.inputs=Ce(t.inputs,r),i.outputs=Ce(t.outputs),n&&n.forEach(t=>t(i)),i.directiveDefs=e?()=>("function"==typeof e?e():e).map(ve):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(be):null}),i}function ve(t){return Te(t)||function(t){return t[Rt]||null}(t)}function be(t){return function(t){return t[Mt]||null}(t)}const _e={};function we(t){const e={type:t.type,bootstrap:t.bootstrap||me,declarations:t.declarations||me,imports:t.imports||me,exports:t.exports||me,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&fe(()=>{_e[t.id]=t.type}),e}function Ce(t,e){if(null==t)return pe;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Se=ye;function Ee(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Te(t){return t[Nt]||null}function ke(t,e){return t.hasOwnProperty(Ut)?t[Ut]:null}function Ie(t,e){const n=t[Lt]||null;if(!n&&!0===e)throw new Error(`Type ${St(t)} does not have '\u0275mod' property.`);return n}const xe=0,Ae=1,Oe=2,De=3,Pe=4,Ne=5,Re=6,Me=7,Le=8,Fe=9,Ue=10,je=11,Ve=12,Be=13,qe=14,He=15,We=16,ze=17,Ge=18,Ke=19,Qe=1,$e=2,Ye=5,Xe=7,Ze=8,Je=9;function tn(t){return Array.isArray(t)&&"object"==typeof t[Qe]}function en(t){return Array.isArray(t)&&!0===t[Qe]}function nn(t){return 0!=(8&t.flags)}function rn(t){return 2==(2&t.flags)}function on(t){return 1==(1&t.flags)}function sn(t){return null!==t.template}function an(t){return 0!=(512&t[Oe])}const cn={lFrame:Ln(null),bindingsEnabled:!0,elementExitFn:null,checkNoChangesMode:!1};function un(t){cn.lFrame.currentDirectiveDef=t}function ln(){return cn.bindingsEnabled}function hn(){const t=cn.lFrame;return null===t?null:t.lView}function dn(t){return(cn.lFrame.selectedIndex&t)===t}function fn(t){dn(1)&&pn(),jn(null===t?-1:t),cn.lFrame.activeDirectiveId=0}function pn(){cn.elementExitFn(),cn.lFrame.selectedIndex&=-2}function mn(t){cn.lFrame.selectedIndex|=1,null===cn.elementExitFn&&(cn.elementExitFn=t)}function gn(){return cn.lFrame.activeDirectiveId}function yn(){cn.lFrame.activeDirectiveId+=1}function vn(t){cn.lFrame.contextLView=t}function bn(){return cn.lFrame.previousOrParentTNode}function _n(t,e){cn.lFrame.previousOrParentTNode=t,cn.lFrame.isParent=e}function wn(){return cn.lFrame.isParent}function Cn(){cn.lFrame.isParent=!1}function Sn(){return cn.checkNoChangesMode}function En(t){cn.checkNoChangesMode=t}function Tn(){return cn.lFrame.bindingIndex}function kn(t){return cn.lFrame.bindingIndex=t}function In(){return cn.lFrame.bindingIndex++}function xn(t){const e=cn.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function An(t){cn.lFrame.bindingRootIndex=t}function On(){return cn.lFrame.currentQueryIndex}function Dn(t){cn.lFrame.currentQueryIndex=t}function Pn(t,e){const n=Mn();cn.lFrame=n,n.previousOrParentTNode=e,n.lView=t}const Nn=Fn;function Rn(t,e){const n=Mn();cn.lFrame=n,n.previousOrParentTNode=e,n.isParent=!0,n.lView=t,n.selectedIndex=0,n.contextLView=t,n.elementDepthCount=0,n.currentNamespace=null,n.currentSanitizer=null,n.currentDirectiveDef=null,n.activeDirectiveId=0,n.bindingRootIndex=-1,n.bindingIndex=null===t?-1:t[Ae].bindingStartIndex,n.currentQueryIndex=0}function Mn(){const t=cn.lFrame,e=null===t?null:t.child;return null===e?Ln(t):e}function Ln(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveDef:null,activeDirectiveId:0,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Fn(){cn.lFrame=cn.lFrame.parent}function Un(){return cn.lFrame.selectedIndex>>1}function jn(t){cn.lFrame.selectedIndex=t<<1}function Vn(){const t=cn.lFrame;return null===t?null:t.currentSanitizer}function Bn(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function qn(t,e,n){zn(t,e,3,n)}function Hn(t,e,n,r){(3&t[Oe])===n&&zn(t,e,n,r)}function Wn(t,e){let n=t[Oe];(3&n)===e&&(n&=1023,n+=1,t[Oe]=n)}function zn(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[Ge]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[Ge]+=65536),(o<i||-1==i)&&(Gn(t,n,e,s),t[Ge]=(4294901760&t[Ge])+s+2),s++}function Gn(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[Oe]>>10<t[Ge]>>16&&(3&t[Oe])===e&&(t[Oe]+=1024,o.call(s)):o.call(s)}const Kn=8,Qn=8,$n=9,Yn=-1;class Xn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}let Zn=void 0;function Jn(){return void 0!==Zn?Zn:"undefined"!=typeof document?document:void 0}const tr=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();function er(t){return!!t.listen}const nr={createRenderer:(t,e)=>Jn()};function rr(t,e,n){const r=er(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];or(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function ir(t){return 3===t||4===t||6===t}function or(t){return 64===t.charCodeAt(0)}function sr(t){return t!==Yn}function ar(t){return 32767&t}function cr(t){return t>>16}function ur(t,e){let n=cr(t),r=e;for(;n>0;)r=r[He],n--;return r}function lr(t){return"string"==typeof t?t:null==t?"":""+t}function hr(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():lr(t)}const dr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Pt))();function fr(t){return t instanceof Function?t():t}class pr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class mr extends pr{getTypeName(){return"HTML"}}class gr extends pr{getTypeName(){return"Style"}}class yr extends pr{getTypeName(){return"Script"}}class vr extends pr{getTypeName(){return"URL"}}class br extends pr{getTypeName(){return"ResourceURL"}}function _r(t){return t instanceof pr?t.changingThisBreaksApplicationSecurity:t}function wr(t,e){const n=Cr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Cr(t){return t instanceof pr&&t.getTypeName()||null}const Sr={},Er="[MAP]",Tr=0,kr=null,Ir=0,xr=1,Ar=1;function Or(t){return[t]}function Dr(t,e){return 0!=(t.flags&e)}function Pr(t,e,n){let r=!1;if(Dr(t,128)){if(!n){const n=Dr(t,e?8192:262144),i=e?1536:49152,o=(t.flags&i)!==i;r=!n&&o}}else r=!0;return r}function Nr(t,e){t.flags|=e}function Rr(t,e){return t[e+3]}function Mr(t,e){return 0!=(1&function(t,e){return 1&t[e+0]}(t,e))}function Lr(t,e,n){return t[e+(n?2:1)]}function Fr(t){return Ur(t)+1}function Ur(t){return t[0]}function jr(t,e,n){return t[e+4+n]}function Vr(t,e){return t[e+4+Ur(t)]}function Br(t,e,n){t[e]=n}function qr(t,e){return 0!==e?t[e]:null}function Hr(t,e){if(e===Sr)return!1;const n=Array.isArray(t)?t[0]:t,r=Array.isArray(e)?e[0]:e;return!Object.is(n,r)}function Wr(t){return null!=t&&""!==t}function zr(t,e,n=" "){return t+(e.length&&t.length?n:"")+e}function Gr(t){return t.replace(/[a-z][A-Z]/g,t=>t.charAt(0)+"-"+t.charAt(1)).toLowerCase()}function Kr(t){return Qr(t)?t[1]:t}function Qr(t){return Array.isArray(t)&&t.length>=2&&"string"!=typeof t[1]}function $r(t){const e=Kr(t);return e&&e[0]||""}function Yr(t){return 0!=(32&t.flags)}function Xr(t,e){return t[e+0]}const Zr={MAP_DIRTY_VALUE:!0};function Jr(t){t[0]=Zr}function ti(t,e,n){t[e+1]=n}function ei(t,e){return t[e+1]}function ni(t,e){if("string"==typeof t)return t;let n="";if(t){const r=Object.keys(t);for(let i=0;i<r.length;i++){const o=r[i],s=e?Gr(o):o,a=t[o];null!==a&&(n=zr(n,`${s}:${a}`,";"))}}return n}function ri(t){return t!==Tr}function ii(t,e){let n="";for(let r=1;r<t.length;r+=2){const i=Xr(t,r),o=ei(t,r),s=zr(i,e?"":o,":");n=zr(n,s,e?" ":"; ")}return n}function oi(t,e,n,r){for(let i=1;i<t.length;i+=2){const o=Xr(t,i);if(e<=o){let s=!1;if(o===e){const e=t[i];!r&&Wr(e)||(s=!0,ti(t,i,n))}else s=!0,t.splice(i,0,e,n);return s}}return t.push(e,n),!0}function si(t,e,n){const r=Array.isArray(t)?t:Or(null);r[0]=e;for(let a=1;a<r.length;a+=2)ti(r,a,null);let i,o=null,s=!1;if("string"==typeof e?(o=function(t){let e=null,n=t.length,r=0,i=!1;for(let o=0;o<n;o++)t.charCodeAt(o)<=32?(i&&(null===e&&(e=[]),e.push(t.substring(r,o)),i=!1),r=o+1):i=!0;return i&&(null===e&&(e=[]),e.push(t.substring(r,n)),i=!1),e}(e),s=null!==o):(o=e?Object.keys(e):null,i=e),o)for(let a=0;a<o.length;a++){const t=o[a];oi(r,n?Gr(t):t,!!s||i[t],!0)}return r}function ai(t){return t.hasOwnProperty("class")?"class":"className"}let ci=!0;function ui(t){const e=ci;return ci=t,e}const li=255;let hi=0;function di(t,e){const n=pi(t,e);if(-1!==n)return n;const r=e[Ae];r.firstCreatePass&&(t.injectorIndex=e.length,fi(r.data,t),fi(e,null),fi(r.blueprint,null));const i=mi(t,e),o=t.injectorIndex;if(sr(i)){const t=ar(i),n=ur(i,e),r=n[Ae].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+Qn]=i,o}function fi(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pi(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+Qn]?-1:t.injectorIndex}function mi(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[Re],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[He])?e[Re]:null,r++;return n?n.injectorIndex|r<<16:-1}function gi(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[jt]:n.charCodeAt(0)||0;null==r&&(r=n[jt]=hi++);const i=r&li,o=1<<i,s=64&i,a=32&i,c=e.data;128&i?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function yi(t,e,n,r=lt.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[jt];return"number"==typeof e&&e>0?e&li:e}(n);if("function"==typeof i){Pn(e,t);try{const t=i();if(null!=t||r&lt.Optional)return t;throw new Error(`No provider for ${hr(n)}!`)}finally{Nn()}}else if("number"==typeof i){if(-1===i)return new Ei(t,e);let o=null,s=pi(t,e),a=Yn,c=r&lt.Host?e[We][Re]:null;for((-1===s||r&lt.SkipSelf)&&(a=-1===s?mi(t,e):e[s+Qn],Si(r,!1)?(o=e[Ae],s=ar(a),e=ur(a,e)):s=-1);-1!==s;){a=e[s+Qn];const t=e[Ae];if(Ci(i,s,t.data)){const t=bi(s,e,n,o,r,c);if(t!==vi)return t}Si(r,e[Ae].data[s+Kn]===c)&&Ci(i,s,e)?(o=t,s=ar(a),e=ur(a,e)):s=-1}}}if(r&lt.Optional&&void 0===i&&(i=null),0==(r&(lt.Self|lt.Host))){const t=e[Fe],o=Zt(void 0);try{return t?t.get(n,i,r&lt.Optional):ne(n,i,r&lt.Optional)}finally{Zt(o)}}if(r&lt.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${hr(n)}]`)}const vi={};function bi(t,e,n,r,i,o){const s=e[Ae],a=s.data[t+Kn],c=_i(a,s,n,null==r?rn(a)&&ci:r!=s&&3===a.type,i&lt.Host&&o===a);return null!==c?wi(e,s,c,a):vi}function _i(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=65535&o,c=t.directiveStart,u=o>>16,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&sn(t)&&t.type===n)return c}return null}function wi(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Xn){const s=i;if(s.resolving)throw new Error(`Circular dep for ${hr(o[n])}`);const a=ui(s.canSeeViewProviders);let c;s.resolving=!0,s.injectImpl&&(c=Zt(s.injectImpl)),Pn(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:o}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&Zt(c),ui(a),s.resolving=!1,Nn()}}return i}function Ci(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Si(t,e){return!(t&lt.Self||t&lt.Host&&e)}class Ei{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return yi(this._tNode,this._lView,t,void 0,e)}}function Ti(t){const e=Object.getPrototypeOf(t.prototype).constructor,n=e[Ut]||function t(e){const n=e;if(It(e))return()=>{const e=t(kt(n));return e?e():null};let r=ke(n);if(null===r){const t=yt(n);r=t&&t.factory}return r||null}(e);return null!==n?n:t=>new t}const ki="ngDebugContext",Ii="ngOriginalError",xi="ngErrorLogger";function Ai(t){return t[ki]}function Oi(t){return t[Ii]}function Di(t,...e){t.error(...e)}class Pi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[xi]||Di}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Ai(t)?Ai(t):this._findContext(Oi(t)):null}_findOriginalError(t){let e=Oi(t);for(;e&&Oi(e);)e=Oi(e);return e}}let Ni=!0,Ri=!1;function Mi(){return Ri=!0,Ni}class Li{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Fi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ui=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ji(t){return(t=String(t)).match(Fi)||t.match(Ui)?t:(Mi()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Vi(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Bi(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const qi=Vi("area,br,col,hr,img,wbr"),Hi=Vi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wi=Vi("rp,rt"),zi=Bi(Wi,Hi),Gi=Bi(qi,Bi(Hi,Vi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Bi(Wi,Vi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zi),Ki=Vi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qi=Vi("srcset"),$i=Bi(Ki,Qi,Vi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yi=Vi("script,style,template");class Xi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Gi.hasOwnProperty(e))return this.sanitizedSomething=!0,!Yi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!$i.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Ki[o]&&(s=ji(s)),Qi[o]&&(r=s,s=(r=String(r)).split(",").map(t=>ji(t.trim())).join(", ")),this.buf.push(" ",e,'="',to(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Gi.hasOwnProperty(e)&&!qi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(to(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Zi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ji=/([^\#-~ |!])/g;function to(t){return t.replace(/&/g,"&amp;").replace(Zi,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(Ji,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let eo;function no(t,e){let n=null;try{eo=eo||new Li(t);let r=e?String(e):"";n=eo.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=eo.getInertBodyElement(r)}while(r!==o);const s=new Xi,a=s.sanitizeChildren(ro(n)||n);return Mi()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=ro(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function ro(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const io=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),oo=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),so=/^url\(([^)]+)\)$/;function ao(t){const e=uo();return e?e.sanitize(io.HTML,t)||"":wr(t,"HTML")?_r(t):no(Jn(),lr(t))}function co(t){const e=uo();return e?e.sanitize(io.URL,t)||"":wr(t,"URL")?_r(t):ji(lr(t))}function uo(){const t=hn();return t&&t[Ve]}const lo="__ngContext__";function ho(t){for(;Array.isArray(t);)t=t[xe];return t}function fo(t,e){return ho(e[t+Ke])}function po(t,e){return ho(e[t.index])}function mo(t,e){return e[Ae].data[t+Ke]}function go(t,e){const n=e[t];return tn(n)?n:n[xe]}function yo(t){const e=function(t){return t[lo]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function vo(t){return 4==(4&t[Oe])}function bo(t,e){return null===t||null==e?null:t[e]}function _o(t){t[Ge]=0}function wo(t,e){t[lo]=e}function Co(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function So(){throw new Error("Cannot mix multi providers and regular providers")}const Eo="ng-template";function To(t,e){const n=t.length,r=t.toLowerCase().indexOf(e),i=r+e.length;return!(-1===r||r>0&&" "!==t[r-1]||i<n&&" "!==t[i])}function ko(t,e,n){return e===(0!==t.type||n?t.tagName:Eo)}function Io(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(ir(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!ko(t,c,n)||""===c&&1===e.length){if(xo(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&t.classes){if(!To($r(t.classes),u)){if(xo(r))return!1;s=!0}continue}const l=Ao(8&r?"class":c,i,0==t.type&&t.tagName!==Eo,n);if(-1===l){if(xo(r))return!1;s=!0;continue}if(""!==u){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&!To(e,u)||2&r&&u!==t){if(xo(r))return!1;s=!0}}}}else{if(!s&&!xo(r)&&!xo(c))return!1;if(s&&xo(c))continue;s=!1,r=c|1&r}}return xo(r)||s}function xo(t){return 0==(1&t)}function Ao(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function Oo(t,e,n=!1){for(let r=0;r<e.length;r++)if(Io(t,e[r],n))return!0;return!1}function Do(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}const Po={element:null,directiveIndex:-1,sourceIndex:-1,classesBitMask:-1,classesIndex:-1,stylesBitMask:-1,stylesIndex:-1,lastDirectClassMap:null,lastDirectStyleMap:null},No=0,Ro=1;function Mo(t,e){return Po.element!==t?(Po.element=t,Po.directiveIndex=e,Po.sourceIndex=e===Tr?0:1,Po.classesBitMask=No,Po.classesIndex=Ro,Po.stylesBitMask=No,Po.stylesIndex=Ro,Po.lastDirectClassMap=null,Po.lastDirectStyleMap=null):Po.directiveIndex!==e&&(Po.directiveIndex=e,Po.sourceIndex++),Po}const Lo={},Fo=0;function Uo(t,e,n,r,i,o,s,a,c,u){const l=!o,h=Mo(r,i),d=l?Fo:h.classesIndex++;return!(!u&&a===Sr||!Vo(t,e,n,d,h.sourceIndex,o,s,a,c,!1,u,!0)&&!c||(h.classesBitMask|=1<<d,0))}function jo(t,e,n,r,i,o,s,a,c,u,l){const h=!o,d=Mo(r,i),f=h?Fo:d.stylesIndex++;if(l||a!==Sr){const r=!!h||!!c&&c(o,null,1);if(Vo(t,e,n,f,d.sourceIndex,o,s,a,u,r,l,!1)||u)return d.stylesBitMask|=1<<f,!0}return!1}function Vo(t,e,n,r,i,o,s,a,c,u,l,h){const d=ri(i),f=h?4096:131072;l&&Bo(t,e,r,i,o,s,u,h);const p=c||Hr(n[s],a);return p&&(Br(n,s,a),Dr(e,f)&&!d&&(!o||!a)&&function(t,e,n,r,i){const o=Fr(t);if(null!==r&&Dr(e,i?4096:131072)){const e=4+o;let i=2,s=!1;for(;i<t.length;){if(Rr(t,i)===r){s=!0;break}i+=e}if(s){const e=i+4,r=e+o-1;for(let i=e+1;i<r;i++){const e=t[i];0!==e&&Br(n,e,null)}}}if(Dr(e,i?512:16384)){const e=6,r=e+o-1;for(let i=e+1;i<r;i++){const e=qr(n,t[i]);e&&Jr(e)}}}(t,e,n,o,h)),p}function Bo(t,e,n,r,i,o,s,a){let c=!1;i=i||Er;let u=Ur(t);for(;u<=r;)Wo(t),u++;const l=a?8192:262144,h="number"==typeof o,d=4+Fr(t);let f=2;for(;f<t.length;){const a=Rr(t,f);if(i<=a){i<a?qo(t,f,i,s):h&&Nr(e,l),Ho(t,f,o,n,r),c=!0;break}f+=d}c||(qo(t,t.length,i,s),Ho(t,f,o,n,r))}function qo(t,e,n,r){t.splice(e,0,r?1:0,Ar,Ar,n),e+=4;const i=Ur(t);for(let o=0;o<i;o++)t.splice(e,0,Ir),e++;t.splice(e,0,kr)}function Ho(t,e,n,r,i){if("number"==typeof n){const o=ri(i);t[e+4+i]=n,function(t,e,n,r){t[e+(r?2:1)]=n}(t,e,Lr(t,e,o)|1<<r,o)}else null!==n&&null===Vr(t,e)&&function(t,e,n){t[e+4+Ur(t)]=n}(t,e,n)}function Wo(t){const e=4+Fr(t)-1;let n=2;for(;n<t.length;)n+=e,t.splice(n++,0,Ir),n++;t[0]++}function zo(t,e,n){!function(t,e,n,r){let i=!1;for(let o=1;o<n.length;o+=2){const s=ei(n,o);s&&(Bo(t,e,-1,0,Xr(n,o),s,!1,r),i=!0)}i&&Nr(e,256)}(t,e,Kr(t),n)}function Go(t,e,n,r,i,o,s,a,c,u){const l=!0===(h=o)?-1:!1===h?0:h;var h;let d=null,f=!1;Dr(e,u?512:16384)&&(d=Yo,f=0!=(l&Lr(t,2,c)));const p=Fr(t);let m=1,g=f?1:0;c&&(g|=8,m=p-1);let y=function(t,e,n){let r=2;return Dr(e,n?512:16384)&&(r+=4+Fr(t)),r}(t,e,u);for(;y<t.length;){if(l&Lr(t,y,c)){let e=!1;const o=Rr(t,y),u=Vr(t,y);for(let l=0;l<m;l++){const h=jr(t,y,l);if(!e&&0!==h){const u=qr(i,h);Wr(u)&&(c&&0===l||s(n,r,o,a&&Mr(t,y)?a(o,u,2):_r(u),h),e=!0)}if(d){let h=g|(e?4:2);c&&0===l&&(h|=16);const f=d(t,n,r,i,l,s,a,h,o,u);e=e||f}}e||s(n,r,o,u)}y+=4+p}d&&(c&&(g|=16),d(t,n,r,i,0,s,a,g))}function Ko(t,e,n,r,i){let o;return r?(o="string"==typeof n?n:function(t){let e="";if(t)for(let n in t)t[n]&&(e+=(e.length?" ":"")+n);return e}(n),null!==i&&(o=zr(i,o," ")),Jo(t,e,o)):(o=ni(n,!0),null!==i&&(o=i+";"+o),ts(t,e,o)),o}function Qo(t,e,n,r,i,o,s){let a=_r(r);return!!Wr(a)&&(a=s?s(n,r,3):a,i(t,e,n,a,o),!0)}function $o(t,e,n,r,i,o,s){for(let a=1;a<r.length;a+=2){const c=Xr(r,a);if(c===i){let c=ei(r,a);return c=s?s(i,c,3):c,n(t,e,i,c,o),!0}if(c>i)break}return!1}let Yo=null;const Xo=(t,e,n,r)=>{if(null!==t)if(Wr(r))if(r=r.toString(),er(t))t.setStyle(e,n,r,tr.DashCase);else{const t=e.style;null!=t&&t.setProperty(n,r)}else if(er(t))t.removeStyle(e,n,tr.DashCase);else{const t=e.style;null!=t&&t.removeProperty(n)}},Zo=(t,e,n,r)=>{if(null!==t&&""!==n)if(r)if(er(t))t.addClass(e,n);else{const t=e.classList;null!=t&&t.add(n)}else if(er(t))t.removeClass(e,n);else{const t=e.classList;null!=t&&t.remove(n)}},Jo=(t,e,n)=>{null!==t&&(er(t)?t.setAttribute(e,"class",n):e.className=n)},ts=(t,e,n)=>{null!==t&&(er(t)?t.setAttribute(e,"style",n):e.setAttribute("style",n))};function es(t,e,n,r){const i=Kr(n);if(i)for(let o=1;o<i.length;o+=2){const n=Xr(i,o),s=ei(i,o);r?Zo(t,e,n,s,null):Xo(t,e,n,s,null)}}function ns(t){const e=t[De];return en(e)?e[De]:e}function rs(t){is(hn(),Un()+t,Sn())}function is(t,e,n){if(dn(1)&&pn(),!n)if(3==(3&t[Oe])){const n=t[Ae].preOrderCheckHooks;null!==n&&qn(t,n,e)}else{const n=t[Ae].preOrderHooks;null!==n&&Hn(t,n,0,e)}jn(e)}const os=(t,e,n,r,i,o,s,a,c,u)=>{let l=!1;if(Fr(t)){let h=!0;const d=!c;d&&0==(1&a)&&(h=!1,l=!0),h&&(l=function t(e,n,r,i,o,s,a,c,u,l){const h=Fr(e)-1-1,d=u<h&&0!=(8&a),f=0!=(16&a);f&&(a&=-17);let p=!1;if(u<=h){let h=function(t){return t>=cs.length&&cs.push(1),cs[t]}(u);const m=jr(e,2,u),g=qr(i,m);if(g){for(;h<g.length;){const y=Xr(g,h),v=c&&y>c,b=!v&&y===c,_=ei(g,h),w=Wr(_),C=v?a:ss(a,w,b),S=v?c:y;let E=!!d&&t(e,n,r,i,o,s,C,S,u+1,l);if(v){p||(p=E);break}if(!E&&as(a,b)&&(E=!0,!f)){const t=b?m:null;let e;e=b&&!w?l:s?s(y,_,3):_?_r(_):null,o(n,r,y,e,t)}p=E&&b,h+=2}cs[u]=h,!d||1!==g.length&&c||(p=t(e,n,r,i,o,s,a,c,u+1,l))}else d&&(p=t(e,n,r,i,o,s,a,c,u+1,l))}return p}(t,e,n,r,o,s,a,c||null,i,u||null)),d&&function(){for(let t=0;t<cs.length;t++)cs[t]=1}()}return l};function ss(t,e,n){let r=t;return!e&&(n?2&t:1&t)?(r|=2,r&=-5):(r|=4,r&=-3),r}function as(t,e){let n=0!=(1&t);return n?4&t&&e&&(n=!1):2&t&&(n=e),n}const cs=[];function us(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Dn(i),n.contentQueries(2,e[o],o)}}}function ls(t,e,n){return er(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function hs(t,e,n,r,i,o,s,a,c,u){const l=e.blueprint.slice();return l[xe]=i,l[Oe]=140|r,_o(l),l[De]=l[He]=t,l[Le]=n,l[Ue]=s||t&&t[Ue],l[je]=a||t&&t[je],l[Ve]=c||t&&t[Ve]||null,l[Fe]=u||t&&t[Fe]||null,l[Re]=o,l[We]=2==e.type?t[We]:l,l}function ds(t,e,n,r,i,o){const s=n+Ke,a=t.data[s]||function(t,e,n,r,i,o){const s=bn(),a=wn(),c=a?s:s&&s.parent,u=t.data[n]=Cs(0,c&&c!==e?c:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=u),s&&(!a||null!=s.child||null===u.parent&&2!==s.type?a||(s.next=u):s.child=u),u}(t,e,s,r,i,o);return _n(a,!0),a}function fs(t,e,n){Rn(t,t[Re]);try{const r=e.viewQuery;null!==r&&Hs(1,r,n);const i=e.template;null!==i&&gs(t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&us(e,t),e.staticViewQueries&&Hs(2,e.viewQuery,n);const o=e.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Us(t,e[n])}(t,o)}finally{t[Oe]&=-5,Fn()}}function ps(t,e,n,r){const i=t[Oe];if(256!=(256&i)){Rn(t,t[Re]);try{_o(t),kn(e.bindingStartIndex),null!==n&&gs(t,n,2,r);const o=Sn(),s=3==(3&i);if(!o)if(s){const n=e.preOrderCheckHooks;null!==n&&qn(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Hn(t,n,0,null),Wn(t,0)}if(function(t){let e=t[Be];for(;null!==e;){let n;if(en(e)&&(n=e[$e])>>1==-1){for(let t=Je;t<e.length;t++){const n=e[t],r=n[Ae];ps(n,r,r.template,n[Le])}0!=(1&n)&&Ls(e,t[We])}e=e[Pe]}}(t),null!==e.contentQueries&&us(e,t),!o)if(s){const n=e.contentCheckHooks;null!==n&&qn(t,n)}else{const n=e.contentHooks;null!==n&&Hn(t,n,1),Wn(t,1)}!function(t,e){const n=Un();try{const r=t.expandoInstructions;if(null!==r){let n=kn(t.expandoStartIndex);An(n);let i=-1,o=-1;for(let t=0;t<r.length;t++){const s=r[t];if("number"==typeof s){if(s<=0){o=-s,fn(o);const e=r[++t];n+=$n+e,i=n}else n+=s;An(n)}else null!==s&&(yn(),kn(n),s(2,ho(e[i]),o)),i++}}}finally{fn(n)}}(e,t);const a=e.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Fs(t,e[n])}(t,a);const c=e.viewQuery;if(null!==c&&Hs(2,c,r),!o)if(s){const n=e.viewCheckHooks;null!==n&&qn(t,n)}else{const n=e.viewHooks;null!==n&&Hn(t,n,2),Wn(t,2)}}finally{!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Oe]&=-73,dn(1)&&pn(),Fn()}}}function ms(t,e,n){const r=t[Ue],i=!Sn(),o=vo(t);try{i&&!o&&r.begin&&r.begin();const s=t[Ae];o&&fs(t,s,n),ps(t,s,e,n)}finally{i&&!o&&r.end&&r.end()}}function gs(t,e,n,r){const i=Un();try{fn(null),2&n&&t.length>Ke&&is(t,0,Sn()),e(n,r)}finally{dn(1)&&pn(),jn(i)}}function ys(t,e,n){if(nn(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function vs(t,e,n){ln()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||di(n,e),wo(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=sn(r);o&&Ps(e,n,r);const c=wi(e,t,a,n);wo(c,e),null!==s&&Ns(0,a-i,c,r,0,s),o&&(go(n.index,e)[Le]=c)}}(t,e,n,po(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-Ke;try{fn(a);for(let a=r;a<i;a++){const r=t.data[a],i=e[a];r.hostBindings?(yn(),ks(r,o,i,n,s)):s&&o.push(null)}}finally{fn(null)}}(t,e,n))}function bs(t,e,n=po){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function _s(t){return t.tView||(t.tView=ws(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function ws(t,e,n,r,i,o,s,a,c,u){const l=Ke+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Sr);return n}(l,h);return d[Ae]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:u}}function Cs(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,classes:null}}function Ss(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Es(t,e,n,r,i,o,s){const a=fo(e,t),c=mo(e,t);let u,l=c.inputs;if(!o&&null!=l&&(u=l[n]))$s(t,u,n,r),rn(c)&&function(t,e){const n=go(e,t);16&n[Oe]||(n[Oe]|=64)}(t,e+Ke);else if(3===c.type){n="class"===(h=n)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h;const e=s?s(c,t):t[je];r=null!=i?i(r,c.tagName||"",n):r,er(e)?e.setProperty(a,n,r):or(n)||(a.setProperty?a.setProperty(n,r):a[n]=r)}var h}function Ts(t,e,n,r){if(!ln())return!1;const i=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Oo(n,s.selectors,!1)&&(i||(i=[]),gi(di(n,e),t,s.type),sn(s)?(2&n.flags&&Co(n),xs(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),o=null===r?null:{"":-1};let s=!1;if(null!==i){s=!0,Os(n,t.data.length,i.length);for(let t=0;t<i.length;t++){const e=i[t];e.providersResolver&&e.providersResolver(e)}Is(t,n,i.length);let r=!1,a=!1;for(let s=0;s<i.length;s++){const c=i[s];Ds(t,e,c),As(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null!==c.hostBindings&&(n.flags|=128),!r&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Ke),r=!0),a||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Ke),a=!0)}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],e=t.inputs;o.push(null!==i?Rs(e,i):null),s=Ss(e,c,s),a=Ss(t.outputs,c,a)}null!==s&&((s.hasOwnProperty("class")||s.hasOwnProperty("className"))&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}return o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o),s}function ks(t,e,n,r,i){const o=e.length;un(t),t.hostBindings(1,n,r.index-Ke),un(null),o===e.length&&i&&e.push(t.hostBindings)}function Is(t,e,n){const r=Ke-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function xs(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function As(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;sn(e)&&(n[""]=t)}}function Os(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ds(t,e,n){t.data.push(n);const r=n.factory||(n.factory=ke(n.type)),i=new Xn(r,sn(n),null);t.blueprint.push(i),e.push(i)}function Ps(t,e,n){const r=po(e,t),i=_s(n),o=t[Ue],s=js(t,hs(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function Ns(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Rs(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ms(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function Ls(t,e){const n=t[Ye];for(let r=0;r<n.length;r++){const t=n[r],i=t[De][De][We];if(i!==e&&0==(16&i[Oe])){const e=t[Ae];ps(t,e,e.template,t[Le])}}}function Fs(t,e){const n=go(e,t);if(128==(128&n[Oe])&&80&n[Oe]){const t=n[Ae];ps(n,t,t.template,n[Le])}}function Us(t,e){const n=go(e,t);!function(t){const e=t[Ae];for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(n),fs(n,n[Ae],n[Le])}function js(t,e){return t[Be]?t[qe][Pe]=e:t[Be]=e,t[qe]=e,e}function Vs(t){for(;t;){t[Oe]|=64;const e=ns(t);if(an(t)&&!e)return t;t=e}return null}function Bs(t,e){const n=t[Ue];n.begin&&n.begin();try{const r=t[Ae];ps(t,r,r.template,e)}catch(r){throw Qs(t,r),r}finally{n.end&&n.end()}}function qs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=yo(n);ms(r,r[Ae].template,n)}}(t[Le])}function Hs(t,e,n){Dn(0),e(t,n)}const Ws=(()=>Promise.resolve(null))();function zs(t){return t[Me]||(t[Me]=[])}function Gs(t){return t[Ae].cleanup||(t[Ae].cleanup=[])}function Ks(t,e){return e[t.index][je]}function Qs(t,e){const n=t[Fe],r=n?n.get(Pi,null):null;r&&r.handleError(e)}function $s(t,e,n,r){const i=t[Ae];for(let o=0;o<e.length;){const s=e[o++],a=e[o++],c=t[s],u=i.data[s];null!==u.setInput?u.setInput(c,r,n,a):c[a]=r}}function Ys(t,e,n){const r=fo(e,t),i=t[je];er(i)?i.setValue(r,n):r.textContent=n}function Xs(t,e,n,r){null!==n.classes&&(r?es(t,e,n.classes,!0):Ko(t,e,$r(n.classes),!0,null)),null!==n.styles&&(r?es(t,e,n.styles,!1):Ko(t,e,$r(n.styles),!1,null))}function Zs(t,e){const n=e[De];return-1===t.index?en(n)?n:null:n}function Js(t,e){const n=Zs(t,e);return n?ha(e[je],n[Xe]):null}function ta(t,e,n,r,i){if(null!=r){let o,s=!1;en(r)?o=r:tn(r)&&(s=!0,r=r[xe]);const a=ho(r);0===t&&null!==n?null==i?ua(e,n,a):ca(e,n,a,i||null):1===t&&null!==n?ca(e,n,a,i||null):2===t?function(t,e,n){const r=ha(t,e);r&&function(t,e,n,r){er(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[Xe];o!==ho(n)&&ta(e,t,r,o,i);for(let s=Je;s<n.length;s++)ga(t,e,n[s],r,o)}(e,t,o,n,i)}}function ea(t,e,n){const r=Js(t[Ae].node,t);r&&ga(t[je],e?1:2,t,r,n)}function na(t,e){const n=t[Ye],r=n.indexOf(e);n.splice(r,1)}function ra(t,e){if(t.length<=Je)return;const n=Je+e,r=t[n];if(r){const i=r[ze];null!==i&&i!==t&&na(i,r),e>0&&(t[n-1][Pe]=r[Pe]);const o=ue(t,Je+e);ea(r,!1,null);const s=o[Ne];null!==s&&s.detachView(o[Ae]),r[De]=null,r[Pe]=null,r[Oe]&=-129}return r}function ia(t){if(!(256&t[Oe])){const e=t[je];er(e)&&e.destroyNode&&ga(e,3,t,null,null),function(t){let e=t[Be];if(!e)return sa(t);for(;e;){let n=null;if(tn(e))n=e[Be];else{const t=e[Je];t&&(n=t)}if(!n){for(;e&&!e[Pe]&&e!==t;)sa(e),e=oa(e,t);sa(e||t),n=e&&e[Pe]}e=n}}(t)}}function oa(t,e){let n;return tn(t)&&(n=t[Re])&&2===n.type?Zs(n,t):t[De]===e?null:t[De]}function sa(t){if(tn(t)&&!(256&t[Oe])){t[Oe]&=-129,t[Oe]|=256,function(t){const e=t[Ae];let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];e instanceof Xn||n[r+1].call(e)}}(t),function(t){const e=t[Ae].cleanup;if(null!==e){const n=t[Me];for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const i=e[r+1],o="function"==typeof i?i(t):ho(t[i]),s=n[e[r+2]],a=e[r+3];"boolean"==typeof a?o.removeEventListener(e[r],s,a):a>=0?n[a]():n[-a].unsubscribe(),r+=2}else e[r].call(n[e[r+1]]);t[Me]=null}}(t);const e=t[Re];e&&3===e.type&&er(t[je])&&t[je].destroy();const n=t[ze];if(null!==n&&en(t[De])){n!==t[De]&&na(n,t);const e=t[Ne];null!==e&&e.detachView(t[Ae])}}}function aa(t,e){let n=t.parent;for(;null!=n&&(4===n.type||5===n.type);)n=(t=n).parent;if(null==n){const t=e[Re];return 2===t.type?Js(t,e):e[xe]}if(t&&5===t.type&&4&t.flags)return po(t,e).parentNode;if(2&n.flags){const t=e[Ae].data,r=t[t[n.index].directiveStart].encapsulation;if(r!==de.ShadowDom&&r!==de.Native)return null}return po(n,e)}function ca(t,e,n,r){er(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function ua(t,e,n){er(t)?t.appendChild(e,n):e.appendChild(n)}function la(t,e,n,r){null!==r?ca(t,e,n,r):ua(t,e,n)}function ha(t,e){return er(t)?t.parentNode(e):e.parentNode}function da(t,e){if(2===t.type){const n=Zs(t,e);return null===n?null:pa(n.indexOf(e,Je)-Je,n)}return 4===t.type||5===t.type?po(t,e):null}function fa(t,e,n){const r=aa(e,n);if(null!=r){const i=n[je],o=da(e.parent||n[Re],n);if(Array.isArray(t))for(let e=0;e<t.length;e++)la(i,r,t[e],o);else la(i,r,t,o)}}function pa(t,e){const n=Je+t+1;if(n<e.length){const t=e[n],r=t[Ae].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return po(n,e);if(0===r)return pa(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return en(t)?pa(-1,t):ho(t)}}{const r=e[We],i=r[Re],o=ns(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[Xe]}function ma(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;s&&0===e&&(a&&wo(ho(a),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(ma(t,e,n.child,r,i,o,!1),ta(e,t,i,a,o)):1===c?ya(t,e,r,n,i,o):ta(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function ga(t,e,n,r,i){ma(t,e,n[Ae].node.child,n,r,i,!1)}function ya(t,e,n,r,i,o){const s=n[We],a=s[Re].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)ta(e,t,i,a[c],o);else ma(t,e,a,s[De],i,o,!0)}class va{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){return null==this._lView[xe]?function t(e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(ho(o)),en(o))for(let e=Je;e<o.length;e++){const n=o[e],i=n[Ae].firstChild;null!==i&&t(n,i,r)}const s=n.type;if(4===s||5===s)t(e,n.child,r);else if(1===s){const i=e[We],o=i[Re],s=ns(i);let a=o.projection[n.projection];null!==a&&null!==s&&t(s,a,r,!0)}n=i?n.projectionNext:n.next}return r}(this._lView,this._lView[Re].child,[]):[]}get context(){return this._lView[Le]}get destroyed(){return 256==(256&this._lView[Oe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}ia(this._lView)}onDestroy(t){var e,n;n=t,zs(e=this._lView).push(n),e[Ae].firstCreatePass&&Gs(e).push(e[Me].length-1,null)}markForCheck(){Vs(this._cdRefInjectingView||this._lView)}detach(){this._lView[Oe]&=-129}reattach(){this._lView[Oe]|=128}detectChanges(){Bs(this._lView,this.context)}checkNoChanges(){!function(t,e){En(!0);try{Bs(t,e)}finally{En(!1)}}(this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,ga((t=this._lView)[je],2,t,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ba extends va{constructor(t){super(t),this._view=t}detectChanges(){qs(this._view)}checkNoChanges(){!function(t){En(!0);try{qs(t)}finally{En(!1)}}(this._view)}get context(){return null}}let _a,wa,Ca;function Sa(t,e,n){return _a||(_a=class extends t{}),new _a(po(e,n))}function Ea(t,e,n,r){return wa||(wa=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=hs(this._declarationView,e,t,16,null,e.node);n[ze]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[Ne];null!==r&&(n[Ne]=r.createEmbeddedView(e)),fs(n,e,t);const i=new va(n);return i._tViewNode=n[Re],i}}),0===n.type?new wa(r,n,Sa(e,n,r)):null}function Ta(t,e,n,r){let i;Ca||(Ca=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Sa(e,this._hostTNode,this._hostView)}get injector(){return new Ei(this._hostTNode,this._hostView)}get parentInjector(){const t=mi(this._hostTNode,this._hostView),e=ur(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.injectorIndex;)e=e.parent;return e}let r=cr(t),i=e,o=e[Re];for(;r>1;)i=i[He],o=i[Re],r--;return o}(t,this._hostView,this._hostTNode);return sr(t)&&null!=n?new Ei(n,e):new Ei(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[Ze]&&this._lContainer[Ze][t]||null}get length(){return this._lContainer.length-Je}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(oe,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView;if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),en(n[De])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[De],r=new Ca(e,e[Re],e[De]);r.detach(r.indexOf(t))}}const r=this._adjustIndex(e);return function(t,e,n){const r=Je+n,i=e.length;n>0&&(e[r-1][Pe]=t),n<i-Je?(t[Pe]=e[r],ce(e,Je+n,t)):(e.push(t),t[Pe]=null),t[De]=e;const o=t[ze];null!==o&&e!==o&&function(t,e){const n=t[Ye],r=e[De][De][We];16!=(16&r[Oe])&&e[We]!==r&&(t[$e]|=1),null===n?t[Ye]=[e]:n.push(e)}(o,t);const s=t[Ne];null!==s&&s.insertView(t[Ae]),t[Oe]|=128}(n,this._lContainer,r),ea(n,!0,pa(r,this._lContainer)),t.attachToViewContainerRef(this),ce(this._lContainer[Ze],r,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[Ze];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=ra(t,e);n&&ia(n)})(this._lContainer,e),ue(this._lContainer[Ze],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ra(this._lContainer,e);return n&&null!=ue(this._lContainer[Ze],e)?new va(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[Ze]&&(this._lContainer[Ze]=[])}});const o=r[n.index];if(en(o))i=o,function(t,e){t[$e]=-2}(i);else{let t;if(4===n.type)t=ho(o);else if(t=r[je].createComment(""),an(r)){const e=r[je],i=po(n,r);ca(e,ha(e,i),t,function(t,e){return er(t)?t.nextSibling(e):e.nextSibling}(e,i))}else fa(t,n,r);r[n.index]=i=Ms(o,r,t,n),js(r,i)}return new Ca(i,n,r)}let ka=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ia(),t})();const Ia=function(t=!1){return function(t,e,n){if(!n&&rn(t)){const n=go(t.index,e);return new va(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new va(e[We],e):null}(bn(),hn(),t)},xa=new Vt("Set Injector scope."),Aa={},Oa={},Da=[];let Pa=void 0;function Na(){return void 0===Pa&&(Pa=new ie),Pa}function Ra(t,e=null,n=null,r){return e=e||Na(),new Ma(t,n,e,r)}class Ma{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ae(e,n=>this.processProvider(n,t,e)),ae([t],t=>this.processInjectorType(t,[],i)),this.records.set(Bt,Ua(void 0,this));const o=this.records.get(xa);this.scope=null!=o?o.value:null,this.injectorDefTypes.forEach(t=>this.get(t)),this.source=r||("object"==typeof t?null:St(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=qt,n=lt.Default){this.assertNotDestroyed();const r=Xt(this);try{if(!(n&lt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Vt)&&mt(t);e=n&&this.injectableDefInScope(n)?Ua(La(t),Aa):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&lt.Self?Na():this.parent).get(t,e=n&lt.Optional&&e===qt?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[Ht]=o[Ht]||[]).unshift(St(t)),r)throw o;return function(t,e,n,r){const i=t[Ht];throw e[Kt]&&i.unshift(e[Kt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Gt?t.substr(2):t;let i=St(e);if(Array.isArray(e))i=e.map(St).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):St(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(zt,"\n  ")}`}("\n"+t.message,i,n,r),t[Wt]=i,t[Ht]=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Xt(r)}var i}toString(){const t=[];return this.records.forEach((e,n)=>t.push(St(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=kt(t)))return!1;let r=yt(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=yt(i)),null==r)return!1;if(this.injectorDefTypes.add(o),this.records.set(o,Ua(r.factory,Aa)),null!=r.imports&&!s){let t;n.push(o);try{ae(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ae(r,t=>this.processProvider(t,n,r||Da))}}const a=r.providers;if(null!=a&&!s){const e=t;ae(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Va(t=kt(t))?t:kt(t&&t.provide);const i=function(t,e,n){return ja(t)?Ua(void 0,t.useValue):Ua(Fa(t,e,n),Aa)}(t,e,n);if(Va(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&So()}else{let e=this.records.get(r);e?void 0===e.multi&&So():(e=Ua(void 0,Aa,!0),e.factory=()=>re(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Oa?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(St(t)):e.value===Aa&&(e.value=Oa,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function La(t){const e=mt(t),n=null!==e?e.factory:ke(t);if(null!==n)return n;const r=yt(t);if(null!==r)return r.factory;if(t instanceof Vt)throw new Error(`Token ${St(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=le(e,"?");throw new Error(`Can't resolve all parameters for ${St(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[vt]||t[wt]||t[_t]&&t[_t]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Fa(t,e,n){let r=void 0;if(Va(t))return La(kt(t));if(ja(t))r=()=>kt(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...re(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>te(kt(t.useExisting));else{const i=kt(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${St(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return La(i);r=()=>new i(...re(t.deps))}var i;return r}function Ua(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ja(t){return null!==t&&"object"==typeof t&&Qt in t}function Va(t){return"function"==typeof t}const Ba=function(t,e,n){return Ra({name:n},e,t,n)};let qa=(()=>{class t{static create(t,e){return Array.isArray(t)?Ba(t,e,""):Ba(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=qt,t.NULL=new ie,t.\u0275prov=ft({token:t,providedIn:"any",factory:()=>te(Bt)}),t.__NG_ELEMENT_ID__=-1,t})();const Ha=new Vt("AnalyzeForEntryComponents");let Wa=new Map;const za=new Set;function Ga(t){return"string"==typeof t?t:t.text()}function Ka(t){const e=hn(),n=e[Ae];n.firstCreatePass&&(function(t,e,n){const r=t.expandoInstructions,i=r.length;i>=2&&r[i-2]===e.hostBindings?r[i-1]=r[i-1]+n:r.push(e.hostBindings,n)}(n,cn.lFrame.currentDirectiveDef,t),function(t,e,n){for(let r=0;r<n;r++)e.push(Sr),t.blueprint.push(Sr),t.data.push(null)}(n,e,t))}let Qa=null;function $a(){if(!Qa){const t=Pt.Symbol;if(t&&t.iterator)Qa=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Qa=n)}}}return Qa}function Ya(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class Xa{constructor(t){this.wrapped=t}static wrap(t){return new Xa(t)}static unwrap(t){return Xa.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Xa}}function Za(t){return!!Ja(t)&&(Array.isArray(t)||!(t instanceof Map)&&$a()in t)}function Ja(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function tc(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ec(t,e,n,r){const i=tc(t,e,n);return tc(t,e+1,r)||i}function nc(t,e,n,r){const i=hn();return tc(i,In(),e)&&function(t,e,n,r,i,o){const s=fo(t,r),a=r[je];if(null==n)er(a)?a.removeAttribute(s,e,o):s.removeAttribute(e);else{const c=mo(t,r),u=null==i?lr(n):i(n,c.tagName||"",e);er(a)?a.setAttribute(s,e,u,o):o?s.setAttributeNS(o,e,u):s.setAttribute(e,u)}}(Un(),t,e,i,n,r),nc}function rc(t,e,n,r){return tc(t,In(),n)?e+lr(n)+r:Sr}function ic(t,e,n,r,i,o,s,a){const c=hn(),u=c[Ae],l=t+Ke,h=u.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const u=e.consts,l=ds(e,n[Re],t,0,s||null,bo(u,a));Ts(e,n,l,bo(u,c)),Bn(e,l);const h=l.tViews=ws(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u),d=Cs(0,null,2,-1,null,null);return d.injectorIndex=l.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,u,c,e,n,r,i,o,s):u.data[l];_n(h,!1);const d=c[je].createComment("");fa(d,h,c),wo(d,c),js(c,c[l]=Ms(d,c,d,h)),on(h)&&vs(u,c,h),null!=s&&bs(c,h,a)}function oc(t,e=lt.Default){const n=hn();return null==n?te(t,e):yi(bn(),n,kt(t),e)}function sc(t){return function(t,e){if("class"===e)return $r(t.classes);if("style"===e)return $r(t.styles);const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(ir(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(bn(),t)}function ac(){throw new Error("invalid")}function cc(t,e,n){return function(t,e,n,r){const i=In(),o=hn(),s=mo(t,o),a=o[Ae].firstUpdatePass;a&&(Nr(s,32768),bc(s,vc(),!1)),lc(s,a,o,i,e,function(t,e){if(t===Sr)return t;let n=null;return Wr(t)&&(n=e?lr(t)+e:t),n}(n,r),!1)}(Un(),t,e,n),cc}function uc(t,e){const n=In(),r=hn(),i=mo(Un(),r),o=r[Ae].firstUpdatePass;return o&&(Nr(i,1024),bc(i,vc(),!0)),lc(i,o,r,n,t,e,!0),uc}function lc(t,e,n,r,i,o,s){let a=!1;const c=po(t,n),u=s?function(t){return yc(t,!0)}(t):gc(t),l=s?null:Vn();if(Pr(t,s,e)){const e=s?null:l;a=function(t,e,n,r,i,o,s,a,c,u){let l=!1;if(Hr(i[o],a)){Br(i,o,a);const h=c?Zo:Xo;l=Qo(t,r,s,a,h,o,u);const d=c?512:16384;if(!l&&Dr(n,d)){const e=Mo(r,Tr),n=c?e.lastDirectClassMap:e.lastDirectStyleMap;l=!!n&&$o(t,r,h,n,s,o,u)}if(!l&&Dr(n,256)){const n=Kr(e);l=!!n&&$o(t,r,h,n,s,o)}l||h(t,r,s,null,o)}return l}(fc(t,n),u,t,c,n,r,i,o,s,e),e&&mn(dc)}else{const h=gn();a=s?Uo(u,t,n,c,h,i,r,o,!1,e):jo(u,t,n,c,h,i,r,o,l,!1,e),mn(dc)}return a}function hc(t){const e=Un(),n=hn(),r=mo(e,n),i=n[Ae].firstUpdatePass,o=gc(r),s=Yr(r),a=xn(2);!vc()&&s&&t!==Sr&&(function(t,e,n,r,i,o,s){if(Hr(qr(e,r),i)){if(Wr(i)||!s){const r="style";$s(e,n.inputs[r],r,function(t,e,n){let r=e;return t.length&&(r=zr(t,ni(e,!0),";")),r}($r(t),i)),mn(dc)}Br(e,r,i)}}(o,n,r,a,t,0,i),t=Sr),i&&(Nr(r,16384),bc(r,vc(),!1)),function(t,e,n,r,i,o,s,a){const c=gn(),u=po(e,r),l=qr(r,i),h=Vn(),d=Hr(l,o);if(Pr(e,!1,n)){const n=h;(function(t,e,n,r,i,o,s,a,c,u,l){const h=qr(i,o);if(u||Hr(h,s)){const u=Dr(n,256),d=u&&!l?$r(e):null;Br(i,o,s);const f=o+1;let p=qr(i,f);p===Sr&&(p=d),p="string"!=typeof p?"":p;let m=!Dr(n,a?1024:32768);if(m&&function(t,e,n){return"undefined"===Pt.Node||e===Lo||((n?t.className:t.style&&t.style.cssText)||"")!==(e||"")}(r,p,a)&&(m=!1,h!==Lo&&(function(t,e,n,r){let i;i=function(t){return Array.isArray(t)&&"string"==typeof t[1]}(n)?n:si(null,n,!r);const o=r?Zo:Xo;for(let s=1;s<i.length;s+=2)ei(i,s)&&o(t,e,Xr(i,s),null)}(t,r,h,a),Br(i,f,Lo))),m)Br(i,f,Ko(t,r,s,a,u&&!l?$r(e):null)||null);else{const n=a?Zo:Xo,i=si(h,s,!a),l=u?Kr(e):null;for(let e=1;e<i.length;e+=2){const s=Xr(i,e);let a=Qo(t,r,s,ei(i,e),n,o,c);!a&&l&&(a=$o(t,r,n,l,s,o,c)),a||n(t,r,s,null,o)}const d=Mo(r,Tr);a?d.lastDirectClassMap=i:d.lastDirectStyleMap=i}}})(fc(e,r),t,e,u,r,i,o,!1,n,d,a),n&&mn(dc)}else{const s=o===Sr?Sr:si(l,o,!0);Yo=os,jo(t,e,r,u,c,null,i,s,h,d,n),mn(dc)}}(o,r,i,n,a,t,0,s)}function dc(){const t=hn(),e=t[Ae],n=mo(Un(),t),r=po(n,t),i=gn(),o=fc(n,t),s=Vn();(function(t,e,n,r,i,o,s,a,c){const u=Mo(o,s),l=ri(u.sourceIndex);i&&(c&&zo(i,n,!1),0!==u.stylesBitMask&&Go(i,n,t,o,e,u.stylesBitMask,Xo,a,l,!1)),r&&(c&&zo(r,n,!0),0!==u.classesBitMask&&Go(r,n,t,o,e,u.classesBitMask,Zo,null,l,!0)),Po.element=null})(o,t,n,Qr(n.classes)?n.classes:null,Qr(n.styles)?n.styles:null,r,i,s,e.firstUpdatePass),cn.lFrame.currentSanitizer=null}function fc(t,e){return 3===t.type?e[je]:null}function pc(t,e,n){let r=!1,i=Kr(t.styles),o=Kr(t.classes),s=-1;for(let a=n;a<e.length;a++){const t=e[a];if("number"==typeof t)s=t;else if(1==s)o=o||Or(null),oi(o,t,!0),r=!0;else if(2==s){const n=e[++a];i=i||Or(null),oi(i,t,n),r=!0}}return o&&o.length>1&&(t.classes||(t.classes=o),mc(t.classes,ii(o,!0))),i&&i.length>1&&(t.styles||(t.styles=i),mc(t.styles,ii(i,!1))),r&&(t.flags|=256),r}function mc(t,e){Kr(t)[0]=e}function gc(t){return yc(t,!1)}function yc(t,e){let n=e?t.classes:t.styles;var r;return Qr(n)||(on(t),r=(r=n)||Or(null),n=[xr,r],e?t.classes=n:t.styles=n),n}function vc(){return ri(gn())}function bc(t,e,n){Nr(t,e?n?4096:131072:n?2048:65536)}function _c(t,e,n,r){const i=hn(),o=i[Ae],s=Ke+t,a=i[je],c=i[s]=ls(e,a,cn.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=bo(a,o),u=ds(e,n[Re],t,3,i,c);return null!==c&&pc(u,c,0),Ts(e,n,u,bo(a,s)),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];_n(u,!0);const l=u.attrs;null!=l&&rr(a,c,l),256==(256&u.flags)&&Xs(a,c,u,!1),fa(c,u,i),0===cn.lFrame.elementDepthCount&&wo(c,i),cn.lFrame.elementDepthCount++,on(u)&&(vs(o,i,u),ys(o,u,i)),null!=r&&bs(i,u)}function wc(){let t=bn();wn()?Cn():(t=t.parent,_n(t,!1));const e=t,n=hn(),r=n[Ae];if(cn.lFrame.elementDepthCount--,r.firstCreatePass&&(Bn(r,t),nn(t)&&r.queries.elementEnd(t)),function(t){return 0!=(16&t.flags)}(e)){const t=ai(e.inputs);Ec(e.classes,n,e.inputs[t],t)}Yr(e)&&Ec(e.styles,n,e.inputs.style,"style")}function Cc(t,e,n,r){_c(t,e,n,r),wc()}function Sc(t){const e=Un(),n=hn(),r=n[Ae],i=mo(e,n);if(3===i.type){const e=po(i,n),o=rr(n[je],e,t);r.firstCreatePass&&pc(i,t,o)&&Xs(n[je],e,i,!0)}}function Ec(t,e,n,r){$s(e,n,r,t&&$r(t)||null)}function Tc(t,e,n){const r=hn(),i=r[Ae],o=t+Ke,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=bo(o,r),a=ds(e,n[Re],t,4,"ng-container",s);return null!==s&&pc(a,s,0),Ts(e,n,a,bo(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];_n(s,!0);const a=r[o]=r[je].createComment("");fa(a,s,r),wo(a,r),on(s)&&(vs(i,r,s),ys(i,s,r)),null!=n&&bs(r,s)}function kc(){let t=bn();const e=hn()[Ae];wn()?Cn():(t=t.parent,_n(t,!1)),e.firstCreatePass&&(Bn(e,t),nn(t)&&e.queries.elementEnd(t))}function Ic(t,e,n){Tc(t,e,n),kc()}function xc(){return hn()}function Ac(t){return!!t&&"function"==typeof t.then}function Oc(t){return!!t&&"function"==typeof t.subscribe}function Dc(t,e,n=!1,r){const i=hn(),o=bn();return Nc(i,i[je],o,t,e,n,r),Dc}function Pc(t,e,n=!1,r){const i=hn(),o=bn();return Nc(i,Ks(o,i),o,t,e,n,r),Pc}function Nc(t,e,n,r,i,o=!1,s){const a=t[Ae],c=on(n),u=a.firstCreatePass&&(a.cleanup||(a.cleanup=[])),l=zs(t);let h=!0;if(3===n.type){const a=po(n,t),d=s?s(a):pe,f=d.target||a,p=l.length,m=s?t=>s(ho(t[n.index])).target:n.index;if(er(e)){let o=null;if(!s&&c&&(o=function(t,e,n){const r=t[Ae].cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const o=r[i];if(o===e&&r[i+1]===n){const e=t[Me],n=r[i+2];return e.length>n?e[n]:null}"string"==typeof o&&(i+=2)}return null}(t,r,n.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=i,o.__ngLastListenerFn__=i,h=!1;else{i=Mc(n,t,i,!1);const o=e.listen(d.name||f,r,i);l.push(i,o),u&&u.push(r,m,p,p+1)}}else i=Mc(n,t,i,!0),f.addEventListener(r,i,o),l.push(i),u&&u.push(r,m,p,o)}const d=n.outputs;let f;if(h&&null!==d&&(f=d[r])){const e=f.length;if(e)for(let o=0;o<e;o+=2){const e=t[f[o]][f[o+1]].subscribe(i),s=l.length;l.push(i,e),u&&u.push(r,n.index,s,-(s+1))}}}function Rc(t,e,n){try{return!1!==e(n)}catch(r){return Qs(t,r),!1}}function Mc(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?go(t.index,e):e;0==(32&e[Oe])&&Vs(s);let a=Rc(e,n,o),c=i.__ngNextListenerFn__;for(;c;)a=Rc(e,c,o)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Lc(t=1){return function(t){return(cn.lFrame.contextLView=function(t,e){for(;t>0;)e=e[He],t--;return e}(t,cn.lFrame.contextLView))[Le]}(t)}function Fc(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?Oo(t,o,!0):Do(r,o))return i}else n=i}return n}function Uc(t){const e=hn()[We][Re];if(!e.projection){const n=e.projection=le(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Fc(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let jc=!1;function Vc(t,e=0,n){const r=hn(),i=ds(r[Ae],r[Re],t,1,null,n||null);null===i.projection&&(i.projection=e),Cn(),jc||function(t,e){ya(t[je],0,t,e,aa(e,t),da(e.parent||t[Re],t))}(r,i)}function Bc(t,e,n){const r=hn();return tc(r,In(),e)&&Es(r,Un(),t,e,n),Bc}function qc(t,e,n){return Hc(t,"",e,"",n),qc}function Hc(t,e,n,r,i){const o=hn(),s=rc(o,e,n,r);return s!==Sr&&Es(o,Un(),t,s,i),Hc}function Wc(t,e=""){const n=hn(),r=n[Ae],i=t+Ke,o=r.firstCreatePass?ds(r,n[Re],t,3,null,null):r.data[i];fa(n[i]=function(t,e){return er(e)?e.createText(t):e.createTextNode(t)}(e,n[je]),o,n),_n(o,!1)}function zc(t){return Gc("",t,""),zc}function Gc(t,e,n){const r=hn(),i=rc(r,t,e,n);return i!==Sr&&Ys(r,Un(),i),Gc}function Kc(t,e,n,r,i){const o=hn(),s=function(t,e,n,r,i,o){const s=ec(t,Tn(),n,i);return xn(2),s?e+lr(n)+r+lr(i)+o:Sr}(o,t,e,n,r,i);return s!==Sr&&Ys(o,Un(),s),Kc}function Qc(t,e,n){const r=hn();return tc(r,In(),e)&&Es(r,Un(),t,e,n,!0),Qc}function $c(t,e,n){const r=hn();return tc(r,In(),e)&&Es(r,Un(),t,e,n,!0,Ks),$c}function Yc(t,e){const n=yo(t)[Ae],r=n.data.length-1;Bn(n,{directiveStart:r,directiveEnd:r+1})}function Xc(t){let e=Object.getPrototypeOf(t.type.prototype).constructor;for(;e;){let n=void 0;if(sn(t))n=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");n=e.\u0275dir}if(n){const e=t;e.inputs=Zc(t.inputs),e.declaredInputs=Zc(t.declaredInputs),e.outputs=Zc(t.outputs);const r=n.hostBindings;r&&eu(t,r);const i=n.viewQuery,o=n.contentQueries;i&&Jc(t,i),o&&tu(t,o),dt(t.inputs,n.inputs),dt(t.declaredInputs,n.declaredInputs),dt(t.outputs,n.outputs),t.afterContentChecked=t.afterContentChecked||n.afterContentChecked,t.afterContentInit=t.afterContentInit||n.afterContentInit,t.afterViewChecked=t.afterViewChecked||n.afterViewChecked,t.afterViewInit=t.afterViewInit||n.afterViewInit,t.doCheck=t.doCheck||n.doCheck,t.onDestroy=t.onDestroy||n.onDestroy,t.onInit=t.onInit||n.onInit;const s=n.features;if(s)for(let n=0;n<s.length;n++){const e=s[n];e&&e.ngInherit&&e(t)}}e=Object.getPrototypeOf(e)}}function Zc(t){return t===pe?{}:t===me?[]:t}function Jc(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function tu(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function eu(t,e){const n=t.hostBindings;e!==n&&(t.hostBindings=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e)}class nu{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function ru(){return iu.ngInherit=!0,iu}function iu(t){t.type.prototype.ngOnChanges&&(t.setInput=ou,t.onChanges=function(){const t=au(this),e=t&&t.current;if(e){const n=t.previous;if(n===pe)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function ou(t,e,n,r){const i=au(t)||function(t,e){return t[su]=e}(t,{previous:pe,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new nu(c&&c.currentValue,e,s===pe),t[r]=e}const su="__ngSimpleChanges__";function au(t){return t[su]||null}function cu(t,e,n,r,i){if(t=kt(t),Array.isArray(t))for(let o=0;o<t.length;o++)cu(t[o],e,n,r,i);else{const o=hn(),s=o[Ae];let a=Va(t)?t:kt(t.provide),c=Fa(t);const u=bn(),l=65535&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>16;if(t.useClass||Va(t)){const n=(t.useClass||t).prototype.ngOnDestroy;n&&(s.destroyHooks||(s.destroyHooks=[])).push(e.length,n)}if(Va(t)||!t.multi){const t=new Xn(c,i,oc),r=lu(a,e,i?l:l+d,h);-1==r?(gi(di(u,o),s,a),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(t),o.push(t)):(n[r]=t,o[r]=t)}else{const t=lu(a,e,l+d,h),f=lu(a,e,l,l+d),p=t>=0&&n[t],m=f>=0&&n[f];if(i&&!m||!i&&!p){gi(di(u,o),s,a);const t=function(t,e,n,r,i){const o=new Xn(t,n,oc);return o.multi=[],o.index=e,o.componentProviders=0,uu(o,i,r&&!n),o}(i?du:hu,n.length,i,r,c);!i&&m&&(n[f].providerFactory=t),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(t),o.push(t)}else uu(n[i?f:t],c,!i&&r);!i&&r&&m&&n[f].componentProviders++}}}function uu(t,e,n){t.multi.push(e),n&&t.componentProviders++}function lu(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function hu(t,e,n,r){return fu(this.multi,[])}function du(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=wi(n,n[Ae],this.providerFactory.index,r);o=e.slice(0,t),fu(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],fu(i,o);return o}function fu(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function pu(t,e=[]){return n=>{n.providersResolver=(n,r)=>(function(t,e,n){const r=hn()[Ae];if(r.firstCreatePass){const i=sn(t);cu(n,r.data,r.blueprint,i,!0),cu(e,r.data,r.blueprint,i,!1)}})(n,r?r(t):t,e)}}class mu{}class gu{}const yu="ngComponent";class vu{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${St(t)}. Did you add it to @NgModule.entryComponents?`);return e[yu]=t,e}(t)}}let bu=(()=>{class t{}return t.NULL=new vu,t})(),_u=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>wu(t),t})();const wu=function(t){return Sa(t,bn(),hn())};class Cu{}const Su=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Eu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Tu(),t})();const Tu=function(){const t=hn(),e=go(bn().index,t);return function(t){const e=t[je];if(er(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(tn(e)?e:t)};let ku=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>null}),t})();class Iu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const xu=new Iu("9.0.0-rc.7");class Au{constructor(){}supports(t){return Za(t)}create(t){return new Du(t)}}const Ou=(t,e)=>e;class Du{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ou}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Mu(n,r,i)?e:n,s=Mu(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Za(t))throw new Error(`Error trying to diff '${St(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Ya(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Ya(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[$a()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Ya(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Ya(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ya(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ya(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Pu(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ru),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ru),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Pu{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Nu{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ya(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ru{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Nu,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mu(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Lu{constructor(){}supports(t){return t instanceof Map||Ja(t)}create(){return new Fu}}class Fu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ja(t)))throw new Error(`Error trying to diff '${St(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Uu(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ya(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Uu{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ju=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ut,new at]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>new t([new Au])}),t})(),Vu=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ut,new at]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>new t([new Lu])}),t})();const Bu=[new Lu],qu=new ju([new Au]),Hu=new Vu(Bu);let Wu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>zu(t,_u),t})();const zu=function(t,e){return Ea(t,e,bn(),hn())};let Gu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ku(t,_u),t})();const Ku=function(t,e){return Ta(t,e,bn(),hn())},Qu={};function $u(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Yu=new Vt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>dr});class Xu extends gu{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors[0][0]||"div",this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return $u(this.componentDef.inputs)}get outputs(){return $u(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Qu,i);return o!==Qu||r===Qu?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Cu,nr),s=i.get(ku,null),a=n?function(t,e,n){const r=t.createRenderer(null,null);if(er(r))return r.selectRootElement(e,n===de.ShadowDom);let i="string"==typeof e?r.querySelector(e):e;return i.textContent="",i}(o,n,this.componentDef.encapsulation):ls(this.selector,o.createRenderer(null,this.componentDef),null),c=this.componentDef.onPush?576:528,u="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),l={components:[],scheduler:dr,clean:Ws,playerHandler:null,flags:0},h=o.createRenderer(a,this.componentDef);n&&a&&(er(h)?h.setAttribute(a,"ng-version",xu.full):a.setAttribute("ng-version",xu.full));const d=ws(0,-1,null,1,0,null,null,null,null,null),f=hs(null,d,l,c,null,null,o,h,s,i);let p,m;Rn(f,null);try{const t=function(t,e,n,r,i,o){const s=n[Ae];n[0+Ke]=t;const a=ds(s,null,0,3,null,null),c=hs(n,_s(e),null,e.onPush?64:16,n[Ke],a,r,i,void 0);return s.firstCreatePass&&(gi(di(a,n),s,e.type),xs(s,a),Os(a,n.length,1)),js(n,c),n[Ke]=c}(a,this.componentDef,f,o,h);m=mo(0,f),e&&(m.projection=e.map(t=>Array.from(t))),p=function(t,e,n,r,i){const o=n[Ae],s=function(t,e,n){const r=bn();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Is(t,r,1),Ds(t,e,n));const i=wi(e,t,e.length-1,r);wo(i,e);const o=po(r,e);return o&&wo(o,e),i}(o,n,e);r.components.push(s),t[Le]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=bn();return o.firstCreatePass&&e.hostBindings&&(fn(a.index-Ke),yn(),ks(e,o.expandoInstructions,s,a,o.firstCreatePass),fn(null)),s}(t,this.componentDef,f,l,[Yc]),fs(f,d,null)}finally{Fn()}const g=new Zu(this.componentType,p,Sa(_u,m,f),f,m);return n&&!u||(g.hostView._tViewNode.child=m),g}}class Zu extends mu{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new ba(r),this.hostView._tViewNode=function(t,e,n,r){let i=t.node;return null==i&&(t.node=i=Cs(0,null,2,-1,null,null)),r[Re]=i}(r[Ae],0,0,r),this.componentType=t}get injector(){return new Ei(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}var Ju=["en",[["a","p"],["AM","PM"],void 0],[["AM","PM"],void 0,void 0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],void 0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",void 0,"{1} 'at' {0}",void 0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let tl={};function el(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=nl(e);if(n)return n;const r=e.split("-")[0];if(n=nl(r),n)return n;if("en"===r)return Ju;throw new Error(`Missing locale data for the locale "${t}".`)}function nl(t){return t in tl||(tl[t]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[t]),tl[t]}const rl=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),il="en-US";let ol=il;function sl(t){var e;e="Expected localeId to be defined",null==t&&function(t){throw new Error(`ASSERTION ERROR: ${t}`)}(e),"string"==typeof t&&(ol=t.toLowerCase().replace(/_/g,"-"))}const al=new Map,cl={provide:bu,useClass:class extends bu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Te(t);return new Xu(e,this.ngModule)}},deps:[oe]};class ul extends oe{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[];const n=Ie(t),r=t[Ft]||null;r&&sl(r),this._bootstrapComponents=fr(n.bootstrap),this._r3Injector=Ra(t,e,[{provide:oe,useValue:this},cl],St(t)),this.instance=this.get(t)}get(t,e=qa.THROW_IF_NOT_FOUND,n=lt.Default){return t===qa||t===oe||t===Bt?this:this._r3Injector.get(t,e,n)}get componentFactoryResolver(){return this.get(bu)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ll extends se{constructor(t){super(),this.moduleType=t,null!==Ie(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${St(e)} vs ${St(e.name)}`)})(t,al.get(t),e),al.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new ul(this.moduleType,t)}}function hl(t,e){const n=hn()[Ae];let r;const i=t+Ke;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=(r.factory||(r.factory=ke(r.type)))();return function(t,e){const n=hn(),r=n[Ae],i=t+Ke;i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=e}(t,o),o}function dl(t,e,n,r){const i=hn(),o=function(t,e){return t[e+Ke]}(i,t);return function(t,e){return Xa.isWrapped(e)&&(e=Xa.unwrap(e),t[Tn()]=Sr),e}(i,function(t,e){return t[Ae].data[e+Ke].pure}(i,t)?function(t,e,n,r,i){const o=function(){const t=cn.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.lView[Ae].bindingStartIndex),e}()+t,s=hn();return ec(s,o,n,r)?function(t,e,n){return t[e]=n}(s,o+2,i?e.call(i,n,r):e(n,r)):function(t,e){return t[e]}(s,o+2)}(e,o.transform,n,r,o):o.transform(n,r))}class fl extends k{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof d&&t.add(s),s}}function pl(){return this._results[$a()]()}class ml{constructor(){this.dirty=!0,this._results=[],this.changes=new fl,this.length=0;const t=$a(),e=ml.prototype;e[t]||(e[t]=pl)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class gl{constructor(t){this.queryList=t,this.matches=null}clone(){return new gl(this.queryList)}setDirty(){this.queryList.setDirty()}}class yl{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new yl(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Pl(t,e).matches&&this.queries[e].setDirty()}}class vl{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class bl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new bl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class _l{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new _l(this.metadata)):null}isApplyingToNode(t){return this._appliesToNextNode&&!1===this.metadata.descendants?this._declarationNodeIndex===(t.parent?t.parent.index:-1):this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,wl(e,n[r]))}else{const n=this.metadata.predicate;n===Wu?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,_i(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===_u||r===Gu||r===Wu&&0===e.type)this.addMatch(e.index,-2);else{const n=_i(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function wl(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Cl(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Sa(_u,t,e):0===t.type?Ea(Wu,_u,t,e):null}(e,t):-2===n?function(t,e,n){return n===_u?Sa(_u,e,t):n===Wu?Ea(Wu,_u,e,t):n===Gu?Ta(Gu,_u,e,t):void 0}(t,e,r):wi(t,t[Ae],n,e)}function Sl(t,e,n){const r=t[Ne].queries[n];if(null===r.matches){const n=t[Ae].data,i=e.matches,o=[];for(let r=0;r<i.length;r+=2){const s=i[r];o.push(s<0?null:Cl(t,n[s],i[r+1],e.metadata.read))}r.matches=o}return r.matches}function El(t){const e=hn(),n=On();Dn(n+1);const r=Pl(e[Ae],n);if(t.dirty&&vo(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const i=r.crossesNgTemplate?function t(e,n,r){const i=e[Ae].queries.getByIndex(n),o=i.matches;if(null!==o){const s=Sl(e,i,n);for(let n=0;n<o.length;n+=2){const i=o[n];if(i>0)r.push(s[n/2]);else{const s=o[n+1],a=e[-i];for(let e=Je;e<a.length;e++){const n=a[e];n[ze]===n[De]&&t(n,s,r)}if(null!==a[Ye]){const e=a[Ye];for(let n=0;n<e.length;n++)t(e[n],s,r)}}}}return r}(e,n,[]):Sl(e,r,n);t.reset(i),t.notifyOnChanges()}return!0}return!1}function Tl(t,e,n){Il(hn(),t,e,n,!0)}function kl(t,e,n){Il(hn(),t,e,n,!1)}function Il(t,e,n,r,i){const o=t[Ae];o.firstCreatePass&&(Dl(o,new vl(e,n,i,r),-1),i&&(o.staticViewQueries=!0)),Ol(t)}function xl(t,e,n,r){!function(t,e,n,r,i,o,s){const a=t[Ae];a.firstCreatePass&&(Dl(a,new vl(e,n,!1,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(a,s)),Ol(t)}(hn(),e,n,r,0,bn(),t)}function Al(){return t=hn(),e=On(),t[Ne].queries[e].queryList;var t,e}function Ol(t){const e=new ml;!function(t,e,n){const r=zs(t);r.push(e),t[Ae].firstCreatePass&&Gs(t).push(n,r.length-1)}(t,e,e.destroy),null===t[Ne]&&(t[Ne]=new yl),t[Ne].queries.push(new gl(e))}function Dl(t,e,n){null===t.queries&&(t.queries=new bl),t.queries.track(new _l(e,n))}function Pl(t,e){return t.queries.getByIndex(e)}const Nl=new Vt("Application Initializer");let Rl=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Ac(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(te(Nl,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Ml=new Vt("AppId"),Ll={provide:Ml,useFactory:function(){return`${Fl()}${Fl()}${Fl()}`},deps:[]};function Fl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ul=new Vt("Platform Initializer"),jl=new Vt("Platform ID"),Vl=new Vt("appBootstrapListener");let Bl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const ql=new Vt("LocaleId"),Hl=!0;class Wl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const zl=function(t){return new ll(t)},Gl=zl,Kl=function(t){return Promise.resolve(zl(t))},Ql=function(t){const e=zl(t),n=fr(Ie(t).declarations).reduce((t,e)=>{const n=Te(e);return n&&t.push(new Xu(n)),t},[]);return new Wl(e,n)},$l=Ql,Yl=function(t){return Promise.resolve(Ql(t))};let Xl=(()=>{class t{constructor(){this.compileModuleSync=Gl,this.compileModuleAsync=Kl,this.compileModuleAndAllComponentsSync=$l,this.compileModuleAndAllComponentsAsync=Yl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Zl=new Vt("compilerOptions"),Jl=(()=>Promise.resolve(0))();function th(t){"undefined"==typeof Zone?Jl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class eh{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fl(!1),this.onMicrotaskEmpty=new fl(!1),this.onStable=new fl(!1),this.onError=new fl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=Pt.requestAnimationFrame,e=Pt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Pt,()=>{t.lastRequestAnimationFrameId=-1,oh(t),ih(t)}),oh(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return sh(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),ah(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return sh(t),e.invoke(r,i,o,s,a)}finally{ah(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,oh(t),ih(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!eh.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(eh.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,rh,nh,nh);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function nh(){}const rh={};function ih(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function oh(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function sh(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ah(t){t._nesting--,ih(t)}class ch{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fl,this.onMicrotaskEmpty=new fl,this.onStable=new fl,this.onError=new fl}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let uh=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{eh.assertNotInAngularZone(),th(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())th(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(te(eh))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),lh=(()=>{class t{constructor(){this._applications=new Map,fh.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return fh.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class hh{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let dh,fh=new hh,ph=function(t,e,n){const r=new ll(n);if(0===Wa.size)return Promise.resolve(r);const i=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(t.get(Zl,[]).concat(e).map(t=>t.providers));if(0===i.length)return Promise.resolve(r);const o=function(){const t=Pt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),s=qa.create({providers:i}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(e){let r=n.get(e);if(!r){const i=t(e);n.set(e,r=i.then(Ga))}return r}return Wa.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const o=t.styleUrls,s=t.styles||(t.styles=[]),a=t.styles.length;o&&o.forEach((e,n)=>{s.push(""),i.push(r(e).then(r=>{s[a+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)}))});const c=Promise.all(i).then(()=>(function(t){za.delete(t)})(n));e.push(c)}),Wa=new Map,Promise.all(e).then(()=>void 0)}(t=>Promise.resolve(s.get(t))).then(()=>r)},mh=function(){},gh=function(t){return t.isBoundToModule};const yh=new Vt("AllowMultipleToken");class vh{constructor(t,e){this.name=t,this.token=e}}function bh(t,e,n=[]){const r=`Platform: ${e}`,i=new Vt(r);return(e=[])=>{let o=_h();if(!o||o.injector.get(yh,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:xa,useValue:"platform"});!function(t){if(dh&&!dh.destroyed&&!dh.injector.get(yh,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");mh(),dh=t.get(wh);const e=t.get(Ul,null);e&&e.forEach(t=>t())}(qa.create({providers:t,name:r}))}return function(t){const e=_h();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function _h(){return dh&&!dh.destroyed?dh:null}let wh=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new ch:("zone.js"===t?void 0:t)||new eh({enableLongStackTrace:Mi(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:eh,useValue:n}];return n.run(()=>{const e=qa.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Pi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return Hl&&sl(i.injector.get(ql,il)||il),i.onDestroy(()=>Eh(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Ac(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Rl);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ch({},e);return ph(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Sh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${St(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(te(qa))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Ch(t,e){return Array.isArray(e)?e.reduce(Ch,t):Object.assign(Object.assign({},t),e)}let Sh=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Mi(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new w(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new w(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{eh.assertNotInAngularZone(),th(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{eh.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=$(s,a.pipe(rt()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof gu?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=gh(n)?void 0:this._injector.get(oe),i=n.create(qa.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(uh,null);return o&&i.injector.get(lh).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Mi()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Eh(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Vl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Eh(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(te(eh),te(Bl),te(qa),te(Pi),te(bu),te(Rl))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Eh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Th{}const kh="#",Ih="NgFactory";class xh{}const Ah={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Oh=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ah}load(t){return!Hl&&this._compiler instanceof Xl?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split(kh);return void 0===r&&(r="default"),n("crnd")(e).then(t=>t[r]).then(t=>Dh(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split(kh),i=Ih;return void 0===r&&(r="default",i=""),n("crnd")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Dh(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(te(Xl),te(xh,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function Dh(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ph=bh(null,"core",[{provide:jl,useValue:"unknown"},{provide:wh,deps:[qa]},{provide:lh,deps:[]},{provide:Bl,deps:[]}]),Nh=[{provide:Sh,useClass:Sh,deps:[eh,Bl,qa,Pi,bu,Rl]},{provide:Yu,deps:[eh],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Rl,useClass:Rl,deps:[[new at,Nl]]},{provide:Xl,useClass:Xl,deps:[]},Ll,{provide:ju,useFactory:function(){return qu},deps:[]},{provide:Vu,useFactory:function(){return Hu},deps:[]},{provide:ql,useFactory:function(t){return t=t||Hl&&"undefined"!=typeof $localize&&$localize.locale||il,Hl&&sl(t),t},deps:[[new st(ql),new at,new ut]]}];let Rh=(()=>{class t{constructor(t){}}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(te(Sh))},providers:Nh}),t})();class Mh{constructor(t,e){this._name=t,this._options=e,this.value=null,this._lastSetValue=null,this._lastSetValueType=0,this._lastSetValueIdentityChange=!1}setValue(t){if(Array.isArray(t))this._lastSetValueType=4;else if(t instanceof Set)this._lastSetValueType=8;else if(t&&"string"==typeof t){if(!(4&this._options))throw new Error(this._name+" string values are not allowed");this._lastSetValueType=1}else this._lastSetValueType=t?2:0;this._lastSetValueIdentityChange=!0,this._lastSetValue=t||null}hasValueChanged(){let t=this._lastSetValueIdentityChange;if(!(t||14&this._lastSetValueType))return!1;let e=null;const n=!!(1&this._options),r=!!(8&this._options),i=!!(2&this._options);switch(this._lastSetValueType){case 1:const o=this._lastSetValue.split(/\s+/g);16&this._options?(e={},o.forEach((t,n)=>e[t]=!0)):e=o.reduce((t,e,n)=>t+(n?" ":"")+e);break;case 2:const s=this._lastSetValue,a=Object.keys(s);t||(t=!this.value||function(t,e,n){const r=t;if(!Vh(Object.keys(e),r))return!0;for(let i=0;i<r.length;i++){const t=r[i];if(e[t]!==n[t])return!0}return!1}(a,this.value,s)),t&&(e=Lh(this._name,n,r,i,s,a));break;case 4:case 8:const c=Array.from(this._lastSetValue);t||(t=!Vh(Object.keys(this.value),c)),t&&(e=Lh(this._name,n,r,i,c));break;default:e=null}return t&&(this.value=e),t}}function Lh(t,e,n,r,i,o){const s={};if(o)for(let a=0;a<o.length;a++){let t=o[a];t=e?t.trim():t;const c=i[t];void 0!==c&&Uh(s,t,c,n,r)}else for(let a=0;a<i.length;a++){let n=i[a];Fh(t,n),n=e?n.trim():n,Uh(s,n,!0,!1,r)}return s}function Fh(t,e){if("string"!=typeof e)throw new Error(`${t} can only toggle CSS classes expressed as strings, got ${e}`)}function Uh(t,e,n,r,i){if(i&&e.indexOf(" ")>0){const i=e.split(/\s+/g);for(let e=0;e<i.length;e++)jh(t,i[e],n,r)}else jh(t,e,n,r)}function jh(t,e,n,r){if(r){const t=function(t,e){const n=t.indexOf(".");if(n>0){const r=t.substr(n+1);t=t.substring(0,n),null!=e&&(e+=r)}return{key:t,value:e}}(e,n);n=t.value,e=t.key}t[e]=n}function Vh(t,e){if(t&&e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(-1===e.indexOf(t[n]))return!1;return!0}return!1}class Bh{}const qh={provide:Bh,useClass:(()=>{class t{constructor(){this._differ=new Mh("NgStyle",8),this._value=null}getValue(){return this._value}setNgStyle(t){this._differ.setValue(t)}applyChanges(){this._differ.hasValueChanged()&&(this._value=this._differ.value)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})()},Hh=Se({type:function(){},selectors:null,hostBindings:function(t,e,n){1&t&&Ka(2),2&t&&hc(e.getValue())}}),Wh=Hh,zh=Hh;let Gh=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.\u0275dir=Wh,t.\u0275fac=zh,t})(),Kh=(()=>{class t extends Gh{constructor(t){super(t)}set ngStyle(t){this._delegate.setNgStyle(t)}ngDoCheck(){this._delegate.applyChanges()}}return t.\u0275fac=function(e){return new(e||t)(oc(Bh))},t.\u0275dir=Se({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},features:[pu([qh]),Xc]}),t})(),Qh=null;function $h(){return Qh}class Yh{}const Xh=new Vt("DocumentToken");let Zh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:Jh,token:t,providedIn:"platform"}),t})();function Jh(){return te(ed)}const td=new Vt("Location Initialized");let ed=(()=>{class t extends Zh{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=$h().getLocation(),this._history=$h().getHistory()}getBaseHrefFromDOM(){return $h().getBaseHref(this._doc)}onPopState(t){$h().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){$h().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){nd()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){nd()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(te(Xh))},t.\u0275prov=ft({factory:rd,token:t,providedIn:"platform"}),t})();function nd(){return!!window.history.pushState}function rd(){return new ed(te(Xh))}function id(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function od(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function sd(t){return t&&"?"!==t[0]?"?"+t:t}let ad=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:cd,token:t,providedIn:"root"}),t})();function cd(t){const e=te(Xh).location;return new ld(te(Zh),e&&e.origin||"")}const ud=new Vt("appBaseHref");let ld=(()=>{class t extends ad{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return id(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+sd(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+sd(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+sd(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(te(Zh),te(ud,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),hd=(()=>{class t extends ad{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=id(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+sd(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+sd(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(te(Zh),te(ud,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),dd=(()=>{class t{constructor(t,e){this._subject=new fl,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=od(pd(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+sd(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,pd(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sd(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+sd(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(te(ad),te(Zh))},t.normalizeQueryParams=sd,t.joinWithSlash=id,t.stripTrailingSlash=od,t.\u0275prov=ft({factory:fd,token:t,providedIn:"root"}),t})();function fd(){return new dd(te(ad),te(Zh))}function pd(t){return t.replace(/\/index.html$/,"")}const md={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},gd=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),yd=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),vd=function(){var t={Format:0,Standalone:1};return t[t.Format]="Format",t[t.Standalone]="Standalone",t}(),bd=function(){var t={Narrow:0,Abbreviated:1,Wide:2,Short:3};return t[t.Narrow]="Narrow",t[t.Abbreviated]="Abbreviated",t[t.Wide]="Wide",t[t.Short]="Short",t}(),_d=function(){var t={Short:0,Medium:1,Long:2,Full:3};return t[t.Short]="Short",t[t.Medium]="Medium",t[t.Long]="Long",t[t.Full]="Full",t}(),wd=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function Cd(t,e){return xd(el(t)[rl.DateFormat],e)}function Sd(t,e){return xd(el(t)[rl.TimeFormat],e)}function Ed(t,e){return xd(el(t)[rl.DateTimeFormat],e)}function Td(t,e){const n=el(t),r=n[rl.NumberSymbols][e];if(void 0===r){if(e===wd.CurrencyDecimal)return n[rl.NumberSymbols][wd.Decimal];if(e===wd.CurrencyGroup)return n[rl.NumberSymbols][wd.Group]}return r}const kd=function(t){return el(t)[rl.PluralCase]};function Id(t){if(!t[rl.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[rl.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xd(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function Ad(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Od=2,Dd=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pd={},Nd=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Rd=function(){var t={Short:0,ShortGMT:1,Long:2,Extended:3};return t[t.Short]="Short",t[t.ShortGMT]="ShortGMT",t[t.Long]="Long",t[t.Extended]="Extended",t}(),Md=function(){var t={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return t[t.FullYear]="FullYear",t[t.Month]="Month",t[t.Date]="Date",t[t.Hours]="Hours",t[t.Minutes]="Minutes",t[t.Seconds]="Seconds",t[t.FractionalSeconds]="FractionalSeconds",t[t.Day]="Day",t}(),Ld=function(){var t={DayPeriods:0,Days:1,Months:2,Eras:3};return t[t.DayPeriods]="DayPeriods",t[t.Days]="Days",t[t.Months]="Months",t[t.Eras]="Eras",t}();function Fd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function Ud(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function jd(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case Md.FullYear:return e.getFullYear();case Md.Month:return e.getMonth();case Md.Date:return e.getDate();case Md.Hours:return e.getHours();case Md.Minutes:return e.getMinutes();case Md.Seconds:return e.getSeconds();case Md.FractionalSeconds:return e.getMilliseconds();case Md.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===Md.Hours)0===a&&-12===n&&(a=12);else if(t===Md.FractionalSeconds)return c=e,Ud(a,3).substr(0,c);var c;const u=Td(s,wd.MinusSign);return Ud(a,e,u,r,i)}}function Vd(t,e,n=vd.Format,r=!1){return function(i,o){return function(t,e,n,r,i,o){switch(n){case Ld.Months:return function(t,e,n){const r=el(t),i=xd([r[rl.MonthsFormat],r[rl.MonthsStandalone]],e);return xd(i,n)}(e,i,r)[t.getMonth()];case Ld.Days:return function(t,e,n){const r=el(t),i=xd([r[rl.DaysFormat],r[rl.DaysStandalone]],e);return xd(i,n)}(e,i,r)[t.getDay()];case Ld.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(o){const t=function(t){const e=el(t);return Id(e),(e[rl.ExtraData][2]||[]).map(t=>"string"==typeof t?Ad(t):[Ad(t[0]),Ad(t[1])])}(e),n=function(t,e,n){const r=el(t);Id(r);const i=xd([r[rl.ExtraData][0],r[rl.ExtraData][1]],e)||[];return xd(i,n)||[]}(e,i,r);let o;if(t.forEach((t,e)=>{if(Array.isArray(t)){const{hours:r,minutes:i}=t[0],{hours:c,minutes:u}=t[1];s>=r&&a>=i&&(s<c||s===c&&a<u)&&(o=n[e])}else{const{hours:r,minutes:i}=t;r===s&&i===a&&(o=n[e])}}),o)return o}return function(t,e,n){const r=el(t),i=xd([r[rl.DayPeriodsFormat],r[rl.DayPeriodsStandalone]],e);return xd(i,n)}(e,i,r)[s<12?0:1];case Ld.Eras:return function(t,e){return xd(el(t)[rl.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,t,e,n,r)}}function Bd(t){return function(e,n,r){const i=-1*r,o=Td(n,wd.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Rd.Short:return(i>=0?"+":"")+Ud(s,2,o)+Ud(Math.abs(i%60),2,o);case Rd.ShortGMT:return"GMT"+(i>=0?"+":"")+Ud(s,1,o);case Rd.Long:return"GMT"+(i>=0?"+":"")+Ud(s,2,o)+":"+Ud(Math.abs(i%60),2,o);case Rd.Extended:return 0===r?"Z":(i>=0?"+":"")+Ud(s,2,o)+":"+Ud(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}const qd=0,Hd=4;function Wd(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,qd,1).getDay();return new Date(t,0,1+(e<=Hd?Hd:Hd+7)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(Hd-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return Ud(i,t,Td(r,wd.MinusSign))}}const zd={};function Gd(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Kd(t){return t instanceof Date&&!isNaN(t.valueOf())}const Qd=/^(\d+)?\.((\d+)(-(\d+))?)?$/,$d=22,Yd=".",Xd="0",Zd=";",Jd=",",tf="#",ef="\xa4";function nf(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class rf{}let of=(()=>{class t extends rf{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(kd(e||this.locale)(t)){case yd.Zero:return"zero";case yd.One:return"one";case yd.Two:return"two";case yd.Few:return"few";case yd.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(te(ql))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function sf(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class af{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cf=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Mi()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new af(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new uf(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new uf(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(oc(Gu),oc(Wu),oc(ju))},t.\u0275dir=Se({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class uf{constructor(t,e){this.record=t,this.view=e}}let lf=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new hf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){df("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){df("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(oc(Gu),oc(Wu))},t.\u0275dir=Se({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class hf{constructor(){this.$implicit=null,this.ngIf=null}}function df(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${St(e)}'.`)}function ff(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${St(t)}'`)}let pf=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return function(t,e,n,r){let i=function(t){if(Kd(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(Dd))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,u),e}(n)}const e=new Date(t);if(!Kd(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const r=function(t){return el(t)[rl.LocaleId]}(e);if(Pd[r]=Pd[r]||{},Pd[r][n])return Pd[r][n];let i="";switch(n){case"shortDate":i=Cd(e,_d.Short);break;case"mediumDate":i=Cd(e,_d.Medium);break;case"longDate":i=Cd(e,_d.Long);break;case"fullDate":i=Cd(e,_d.Full);break;case"shortTime":i=Sd(e,_d.Short);break;case"mediumTime":i=Sd(e,_d.Medium);break;case"longTime":i=Sd(e,_d.Long);break;case"fullTime":i=Sd(e,_d.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");i=Fd(Ed(e,_d.Short),[n,r]);break;case"medium":const o=t(e,"mediumTime"),s=t(e,"mediumDate");i=Fd(Ed(e,_d.Medium),[o,s]);break;case"long":const a=t(e,"longTime"),c=t(e,"longDate");i=Fd(Ed(e,_d.Long),[a,c]);break;case"full":const u=t(e,"fullTime"),l=t(e,"fullDate");i=Fd(Ed(e,_d.Full),[u,l])}return i&&(Pd[r][n]=i),i}(n,e)||e;let o,s=[];for(;e;){if(o=Nd.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=Gd(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(Gd(e,r)-r))}(i,r));let c="";return s.forEach(t=>{const e=function(t){if(zd[t])return zd[t];let e;switch(t){case"G":case"GG":case"GGG":e=Vd(Ld.Eras,bd.Abbreviated);break;case"GGGG":e=Vd(Ld.Eras,bd.Wide);break;case"GGGGG":e=Vd(Ld.Eras,bd.Narrow);break;case"y":e=jd(Md.FullYear,1,0,!1,!0);break;case"yy":e=jd(Md.FullYear,2,0,!0,!0);break;case"yyy":e=jd(Md.FullYear,3,0,!1,!0);break;case"yyyy":e=jd(Md.FullYear,4,0,!1,!0);break;case"M":case"L":e=jd(Md.Month,1,1);break;case"MM":case"LL":e=jd(Md.Month,2,1);break;case"MMM":e=Vd(Ld.Months,bd.Abbreviated);break;case"MMMM":e=Vd(Ld.Months,bd.Wide);break;case"MMMMM":e=Vd(Ld.Months,bd.Narrow);break;case"LLL":e=Vd(Ld.Months,bd.Abbreviated,vd.Standalone);break;case"LLLL":e=Vd(Ld.Months,bd.Wide,vd.Standalone);break;case"LLLLL":e=Vd(Ld.Months,bd.Narrow,vd.Standalone);break;case"w":e=Wd(1);break;case"ww":e=Wd(2);break;case"W":e=Wd(1,!0);break;case"d":e=jd(Md.Date,1);break;case"dd":e=jd(Md.Date,2);break;case"E":case"EE":case"EEE":e=Vd(Ld.Days,bd.Abbreviated);break;case"EEEE":e=Vd(Ld.Days,bd.Wide);break;case"EEEEE":e=Vd(Ld.Days,bd.Narrow);break;case"EEEEEE":e=Vd(Ld.Days,bd.Short);break;case"a":case"aa":case"aaa":e=Vd(Ld.DayPeriods,bd.Abbreviated);break;case"aaaa":e=Vd(Ld.DayPeriods,bd.Wide);break;case"aaaaa":e=Vd(Ld.DayPeriods,bd.Narrow);break;case"b":case"bb":case"bbb":e=Vd(Ld.DayPeriods,bd.Abbreviated,vd.Standalone,!0);break;case"bbbb":e=Vd(Ld.DayPeriods,bd.Wide,vd.Standalone,!0);break;case"bbbbb":e=Vd(Ld.DayPeriods,bd.Narrow,vd.Standalone,!0);break;case"B":case"BB":case"BBB":e=Vd(Ld.DayPeriods,bd.Abbreviated,vd.Format,!0);break;case"BBBB":e=Vd(Ld.DayPeriods,bd.Wide,vd.Format,!0);break;case"BBBBB":e=Vd(Ld.DayPeriods,bd.Narrow,vd.Format,!0);break;case"h":e=jd(Md.Hours,1,-12);break;case"hh":e=jd(Md.Hours,2,-12);break;case"H":e=jd(Md.Hours,1);break;case"HH":e=jd(Md.Hours,2);break;case"m":e=jd(Md.Minutes,1);break;case"mm":e=jd(Md.Minutes,2);break;case"s":e=jd(Md.Seconds,1);break;case"ss":e=jd(Md.Seconds,2);break;case"S":e=jd(Md.FractionalSeconds,1);break;case"SS":e=jd(Md.FractionalSeconds,2);break;case"SSS":e=jd(Md.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Bd(Rd.Short);break;case"ZZZZZ":e=Bd(Rd.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Bd(Rd.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Bd(Rd.Long);break;default:return null}return zd[t]=e,e}(t);c+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(e,n,i||this.locale,r)}catch(o){throw ff(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(oc(ql))},t.\u0275pipe=Ee({name:"date",type:t,pure:!0}),t})(),mf=(()=>{class t{constructor(t){this._locale=t}transform(e,n,r="symbol",i,o){if(function(t){return null==t||""===t||t!=t}(e))return null;o=o||this._locale,"boolean"==typeof r&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),r=r?"symbol":"code");let s=n||"USD";"code"!==r&&(s="symbol"===r||"symbol-narrow"===r?function(t,e,n="en"){const r=function(t){return el(t)[rl.Currencies]}(n)[t]||md[t]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||t}(s,"symbol"===r?"wide":"narrow",o):r);try{return function(t,e,n,r,i){const o=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Zd),i=r[0],o=r[1],s=-1!==i.indexOf(Yd)?i.split(Yd):[i.substring(0,i.lastIndexOf(Xd)+1),i.substring(i.lastIndexOf(Xd)+1)],a=s[0],c=s[1]||"";n.posPre=a.substr(0,a.indexOf(tf));for(let l=0;l<c.length;l++){const t=c.charAt(l);t===Xd?n.minFrac=n.maxFrac=l+1:t===tf?n.maxFrac=l+1:n.posSuf+=t}const u=a.split(Jd);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf(tf);n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return el(t)[rl.NumberFormats][e]}(e,gd.Currency),Td(e,wd.MinusSign));return o.minFrac=function(t){let e;const n=md[t];return n&&(e=n[2]),"number"==typeof e?e:Od}(r),o.maxFrac=o.minFrac,function(t,e,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(t)){let u=function(t){let e,n,r,i,o,s=Math.abs(t)+"",a=0;for((n=s.indexOf(Yd))>-1&&(s=s.replace(Yd,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===Xd;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===Xd;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>$d&&(e=e.splice(0,$d-1),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);s&&(u=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(u));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(o){const t=o.match(Qd);if(null===t)throw new Error(`${o} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=nf(e)),null!=n&&(h=nf(n)),null!=r?d=nf(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(a>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const u=e+t.integerLen,l=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,c&&(0===r[n]&&n>=u?r.pop():c=!1),e>=10?1:0}),0);l&&(r.unshift(l),t.integerLen++)}(u,h,d);let f=u.digits,p=u.integerLen;const m=u.exponent;let g=[];for(c=f.every(t=>!t);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?g=f.splice(p,f.length):(g=f,f=[0]);const y=[];for(f.length>=e.lgSize&&y.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)y.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(Td(n,r)),g.length&&(a+=Td(n,i)+g.join("")),m&&(a+=Td(n,wd.Exponential)+"+"+m)}else a=Td(n,wd.Infinity);return a=t<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,wd.CurrencyGroup,wd.CurrencyDecimal,i).replace(ef,n).replace(ef,"")}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),o,s,n,i)}catch(a){throw ff(t,a.message)}}}return t.\u0275fac=function(e){return new(e||t)(oc(ql))},t.\u0275pipe=Ee({name:"currency",type:t,pure:!0}),t})(),gf=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[{provide:rf,useClass:of}]}),t})();const yf="browser",vf="server";function bf(t){return t===vf}let _f=(()=>{class t{}return t.\u0275prov=ft({token:t,providedIn:"root",factory:()=>new wf(te(Xh),window,te(Pi))}),t})();class wf{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class Cf extends Yh{constructor(){super()}supportsDOMEvents(){return!0}}class Sf extends Cf{static makeCurrent(){var t;t=new Sf,Qh||(Qh=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Tf||(Tf=document.querySelector("base"),Tf)?Tf.getAttribute("href"):null;return null==e?null:(n=e,Ef||(Ef=document.createElement("a")),Ef.setAttribute("href",n),"/"===Ef.pathname.charAt(0)?Ef.pathname:"/"+Ef.pathname);var n}resetBaseElement(){Tf=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return sf(document.cookie,t)}}let Ef,Tf=null;const kf=new Vt("TRANSITION_ID"),If=[{provide:Nl,useFactory:function(t,e,n){return()=>{n.get(Rl).donePromise.then(()=>{const n=$h();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[kf,Xh,qa],multi:!0}];class xf{static init(){var t;t=new xf,fh=t}addToWindow(t){Pt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},Pt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Pt.getAllAngularRootElements=()=>t.getAllRootElements(),Pt.frameworkStabilizers||(Pt.frameworkStabilizers=[]),Pt.frameworkStabilizers.push(t=>{const e=Pt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(i)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?$h().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Af=new Vt("EventManagerPlugins");let Of=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(te(Af),te(eh))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Df{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=$h().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Pf=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Nf=(()=>{class t extends Pf{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>$h().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(te(Xh))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Rf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Mf=/%COMP%/g,Lf=!1,Ff="_nghost-%COMP%",Uf="_ngcontent-%COMP%";function jf(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?jf(t,i,n):(i=i.replace(Mf,t),n.push(i))}return n}function Vf(t){return e=>{if(e===Function)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Bf=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new qf(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case de.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new zf(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case de.Native:case de.ShadowDom:return new Gf(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=jf(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(te(Of),te(Nf),te(Ml))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class qf{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Rf[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Rf[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Rf[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Su.DashCase?t.style.setProperty(e,n,r&Su.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Su.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){Lf&&Wf(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return Lf&&Wf(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Vf(n)):this.eventManager.addEventListener(t,e,Vf(n))}}const Hf=(()=>"@".charCodeAt(0))();function Wf(t,e){if(t.charCodeAt(0)===Hf)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class zf extends qf{constructor(t,e,n,r){super(t),this.component=n;const i=jf(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=Uf.replace(Mf,r+"-"+n.id),this.hostAttr=function(t){return Ff.replace(Mf,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Gf extends qf{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===de.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=jf(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Kf=(()=>{class t extends Df{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(te(Xh))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Qf=["alt","control","meta","shift"],$f=3,Yf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xf={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Zf={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Jf=(()=>{class t extends Df{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$h().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Qf.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===$f&&Xf.hasOwnProperty(e)&&(e=Xf[e]))}return Yf[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Qf.forEach(r=>{r!=n&&(0,Zf[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(te(Xh))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),tp=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return te(ep)},token:t,providedIn:"root"}),t})(),ep=(()=>{class t extends tp{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case io.NONE:return e;case io.HTML:return wr(e,"HTML")?_r(e):no(this._doc,String(e));case io.STYLE:return wr(e,"Style")?_r(e):function(t){if(!(t=String(t).trim()))return"";const e=t.match(so);return e&&ji(e[1])===e[1]||t.match(oo)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Mi()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e);case io.SCRIPT:if(wr(e,"Script"))return _r(e);throw new Error("unsafe value used in a script context");case io.URL:return Cr(e),wr(e,"URL")?_r(e):ji(String(e));case io.RESOURCE_URL:if(wr(e,"ResourceURL"))return _r(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return new mr(t)}bypassSecurityTrustStyle(t){return new gr(t)}bypassSecurityTrustScript(t){return new yr(t)}bypassSecurityTrustUrl(t){return new vr(t)}bypassSecurityTrustResourceUrl(t){return new br(t)}}return t.\u0275fac=function(e){return new(e||t)(te(Xh))},t.\u0275prov=ft({factory:function(){return t=te(Bt),new ep(t.get(Xh));var t},token:t,providedIn:"root"}),t})();const np=bh(Ph,"browser",[{provide:jl,useValue:yf},{provide:Ul,useValue:function(){Sf.makeCurrent(),xf.init()},multi:!0},{provide:Xh,useFactory:function(){return function(t){Zn=t}(document),document},deps:[]}]),rp=[[],{provide:xa,useValue:"root"},{provide:Pi,useFactory:function(){return new Pi},deps:[]},{provide:Af,useClass:Kf,multi:!0,deps:[Xh,eh,jl]},{provide:Af,useClass:Jf,multi:!0,deps:[Xh]},[],{provide:Bf,useClass:Bf,deps:[Of,Nf,Ml]},{provide:Cu,useExisting:Bf},{provide:Pf,useExisting:Nf},{provide:Nf,useClass:Nf,deps:[Xh]},{provide:uh,useClass:uh,deps:[eh]},{provide:Of,useClass:Of,deps:[Af,eh]},[]];let ip=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Ml,useValue:e.appId},{provide:kf,useExisting:Ml},If]}}}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(te(t,12))},providers:rp,imports:[gf,Rh]}),t})();function op(...t){let e=t[t.length-1];return x(e)?(t.pop(),B(t,e)):Q(t)}"undefined"!=typeof window&&window;class sp extends k{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(t){super.next(this._value=t)}}const ap=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),cp={};function up(...t){let e=null,n=null;return x(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),Q(t,n).lift(new lp(e))}class lp{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new hp(t,this.resultSelector))}}class hp extends F{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(cp),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(L(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===cp?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const dp=new w(t=>t.complete());function fp(t){return t?function(t){return new w(e=>t.schedule(()=>e.complete()))}(t):dp}function pp(t){return new w(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?q(n):fp()).subscribe(e)})}function mp(){return K(1)}function gp(t,e){return function(n){return n.lift(new yp(t,e))}}class yp{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new vp(t,this.predicate,this.thisArg))}}class vp extends m{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const bp=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function _p(t){return function(e){return 0===t?fp():e.lift(new wp(t))}}class wp{constructor(t){if(this.total=t,this.total<0)throw new bp}call(t,e){return e.subscribe(new Cp(t,this.total))}}class Cp extends m{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Sp(t=kp){return e=>e.lift(new Ep(t))}class Ep{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Tp(t,this.errorFactory))}}class Tp extends m{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function kp(){return new ap}function Ip(t=null){return e=>e.lift(new xp(t))}class xp{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Ap(t,this.defaultValue))}}class Ap extends m{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Op(t,e){const n=arguments.length>=2;return r=>r.pipe(t?gp((e,n)=>t(e,n,r)):G,_p(1),n?Ip(e):Sp(()=>new ap))}function Dp(t){return function(e){const n=new Pp(t),r=e.lift(n);return n.caught=r}}class Pp{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Np(t,this.selector,this.caught))}}class Np extends F{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new A(this,void 0,void 0);this.add(r),L(this,n,void 0,void 0,r)}}}function Rp(t){return e=>0===t?fp():e.lift(new Mp(t))}class Mp{constructor(t){if(this.total=t,this.total<0)throw new bp}call(t,e){return e.subscribe(new Lp(t,this.total))}}class Lp extends m{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Fp(t,e){const n=arguments.length>=2;return r=>r.pipe(t?gp((e,n)=>t(e,n,r)):G,Rp(1),n?Ip(e):Sp(()=>new ap))}class Up{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new jp(t,this.predicate,this.thisArg,this.source))}}class jp extends m{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Vp(t,e){return"function"==typeof e?n=>n.pipe(Vp((n,r)=>q(t(n,r)).pipe(U((t,i)=>e(n,t,r,i))))):e=>e.lift(new Bp(t))}class Bp{constructor(t){this.project=t}call(t,e){return e.subscribe(new qp(t,this.project))}}class qp extends F{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new A(this,void 0,void 0);this.destination.add(i),this.innerSubscription=L(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Hp(...t){return mp()(op(...t))}function Wp(...t){const e=t[t.length-1];return x(e)?(t.pop(),n=>Hp(t,n,e)):e=>Hp(t,e)}function zp(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Gp(t,e,n))}}class Gp{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Kp(t,this.accumulator,this.seed,this.hasSeed))}}class Kp extends m{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Qp(t,e){return H(t,e,1)}function $p(t,e,n){return function(r){return r.lift(new Yp(t,e,n))}}class Yp{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Xp(t,this.nextOrObserver,this.error,this.complete))}}class Xp extends m{constructor(t,e,n,r){super(t),this._tapNext=v,this._tapError=v,this._tapComplete=v,this._tapError=n||v,this._tapComplete=r||v,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||v,this._tapError=e.error||v,this._tapComplete=e.complete||v)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Zp{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Jp(t,this.callback))}}class Jp extends m{constructor(t,e){super(t),this.add(new d(e))}}class tm{constructor(t,e){this.id=t,this.url=e}}class em extends tm{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class nm extends tm{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rm extends tm{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class im extends tm{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class om extends tm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sm extends tm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class am extends tm{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cm extends tm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class um extends tm{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lm{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hm{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dm{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fm{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pm{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mm{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gm{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ym=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&Cc(0,"router-outlet")},directives:function(){return[Sy]},encapsulation:2}),t})();const vm="primary";class bm{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function _m(t){return new bm(t)}const wm="ngNavigationCancelingError";function Cm(t){const e=Error("NavigationCancelingError: "+t);return e[wm]=!0,e}function Sm(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class Em{constructor(t,e){this.routes=t,this.module=e}}function Tm(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];km(r,Im(e,r))}}function km(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==vm)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Tm(t.children,e)}function Im(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function xm(t){const e=t.children&&t.children.map(xm),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vm&&(n.component=ym),n}function Am(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Om(t[i],e[i]))return!1;return!0}function Om(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Dm(t){return Array.prototype.concat.apply([],t)}function Pm(t){return t.length>0?t[t.length-1]:null}function Nm(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Rm(t){return Oc(t)?t:Ac(t)?q(Promise.resolve(t)):op(t)}function Mm(t,e,n){return n?function(t,e){return Am(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!jm(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Om(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!jm(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!jm(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!jm(n.segments,t)&&!!n.children[vm]&&e(n.children[vm],r,o)}}(e,n,n.segments)}(t.root,e.root)}class Lm{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_m(this.queryParams)),this._queryParamMap}toString(){return Hm.serialize(this)}}class Fm{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Nm(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wm(this)}}class Um{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=_m(this.parameters)),this._parameterMap}toString(){return Ym(this)}}function jm(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Vm(t,e){let n=[];return Nm(t.children,(t,r)=>{r===vm&&(n=n.concat(e(t,r)))}),Nm(t.children,(t,r)=>{r!==vm&&(n=n.concat(e(t,r)))}),n}class Bm{}class qm{parse(t){const e=new eg(t);return new Lm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Wm(e);if(n){const n=e.children[vm]?t(e.children[vm],!1):"",r=[];return Nm(e.children,(e,n)=>{n!==vm&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Vm(e,(n,r)=>r===vm?[t(e.children[vm],!1)]:[`${r}:${t(n,!1)}`]);return`${Wm(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Gm(e)}=${Gm(t)}`).join("&"):`${Gm(e)}=${Gm(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Hm=new qm;function Wm(t){return t.segments.map(t=>Ym(t)).join("/")}function zm(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gm(t){return zm(t).replace(/%3B/gi,";")}function Km(t){return zm(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qm(t){return decodeURIComponent(t)}function $m(t){return Qm(t.replace(/\+/g,"%20"))}function Ym(t){return`${Km(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Km(t)}=${Km(e[t])}`).join("")}`;var e}const Xm=/^[^\/()?;=#]+/;function Zm(t){const e=t.match(Xm);return e?e[0]:""}const Jm=/^[^=?&#]+/,tg=/^[^?&#]+/;class eg{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fm([],{}):new Fm([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[vm]=new Fm(t,e)),n}parseSegment(){const t=Zm(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Um(Qm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Zm(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Zm(this.remaining);t&&(n=t,this.capture(n))}t[Qm(e)]=Qm(n)}parseQueryParam(t){const e=function(t){const e=t.match(Jm);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(tg);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=$m(e),i=$m(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Zm(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=vm);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[vm]:new Fm([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ng{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=rg(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=rg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ig(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ig(t,this._root).map(t=>t.value)}}function rg(t,e){if(t===e.value)return e;for(const n of e.children){const e=rg(t,n);if(e)return e}return null}function ig(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ig(t,n);if(r.length)return r.unshift(e),r}return[]}class og{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function sg(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ag extends ng{constructor(t,e){super(t),this.snapshot=e,fg(this,t)}toString(){return this.snapshot.toString()}}function cg(t,e){const n=function(t,e){const n=new hg([],{},{},"",{},vm,e,null,t.root,-1,{});return new dg("",new og(n,[]))}(t,e),r=new sp([new Um("",{})]),i=new sp({}),o=new sp({}),s=new sp({}),a=new sp(""),c=new ug(r,i,s,a,o,vm,e,n.root);return c.snapshot=n.root,new ag(new og(c,[]),n)}class ug{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(U(t=>_m(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(U(t=>_m(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lg(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class hg{constructor(t,e,n,r,i,o,s,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_m(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_m(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dg extends ng{constructor(t,e){super(e),this.url=t,fg(this,e)}toString(){return pg(this._root)}}function fg(t,e){e.value._routerState=t,e.children.forEach(e=>fg(t,e))}function pg(t){const e=t.children.length>0?` { ${t.children.map(pg).join(", ")} } `:"";return`${t.value}${e}`}function mg(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Am(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Am(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Am(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Am(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function gg(t,e){var n,r;return Am(t.params,e.params)&&jm(n=t.url,r=e.url)&&n.every((t,e)=>Am(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||gg(t.parent,e.parent))}function yg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function vg(t,e,n,r,i){let o={};return r&&Nm(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Lm(n.root===t?e:function t(e,n,r){const i={};return Nm(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Fm(e.segments,i)}(n.root,t,e),o,i)}class bg{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&yg(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Pm(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _g{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function wg(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[vm]:`${t}`}function Cg(t,e,n){if(t||(t=new Fm([],{})),0===t.segments.length&&t.hasChildren())return Sg(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=wg(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Ig(s,a,e))return o;r+=2}else{if(!Ig(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Fm(t.segments.slice(0,r.pathIndex),{});return e.children[vm]=new Fm(t.segments.slice(r.pathIndex),t.children),Sg(e,0,i)}return r.match&&0===i.length?new Fm(t.segments,{}):r.match&&!t.hasChildren()?Eg(t,e,n):r.match?Sg(t,0,i):Eg(t,e,n)}function Sg(t,e,n){if(0===n.length)return new Fm(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[vm]:t}:void 0===t[0].outlets?{[vm]:t}:t[0].outlets}(n),i={};return Nm(r,(n,r)=>{null!==n&&(i[r]=Cg(t.children[r],e,n))}),Nm(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Fm(t.segments,i)}}function Eg(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Tg(n[i].outlets);return new Fm(r,t)}if(0===i&&yg(n[0])){r.push(new Um(t.segments[e].path,n[0])),i++;continue}const o=wg(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&yg(s)?(r.push(new Um(o,kg(s))),i+=2):(r.push(new Um(o,{})),i++)}return new Fm(r,{})}function Tg(t){const e={};return Nm(t,(t,n)=>{null!==t&&(e[n]=Eg(new Fm([],{}),0,t))}),e}function kg(t){const e={};return Nm(t,(t,n)=>e[n]=`${t}`),e}function Ig(t,e,n){return t==n.path&&Am(e,n.parameters)}const xg=(t,e,n)=>U(r=>(new Ag(e,r.targetRouterState,r.currentRouterState,n).activate(t),r));class Ag{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),mg(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=sg(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Nm(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=sg(t),i=t.value.component?n.children:e;Nm(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=sg(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new mm(t.value.snapshot))}),t.children.length&&this.forwardEvent(new fm(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(mg(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Og(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Og(t){mg(t.value),t.children.forEach(Og)}function Dg(t){return"function"==typeof t}function Pg(t){return t instanceof Lm}class Ng{constructor(t){this.segmentGroup=t||null}}class Rg{constructor(t){this.urlTree=t}}function Mg(t){return new w(e=>e.error(new Ng(t)))}function Lg(t){return new w(e=>e.error(new Rg(t)))}function Fg(t){return new w(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ug{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(oe)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,vm).pipe(U(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Dp(t=>{if(t instanceof Rg)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Ng)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vm).pipe(U(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Dp(t=>{if(t instanceof Ng)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Fm([],{[vm]:t}):t;return new Lm(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(U(t=>new Fm([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return op({});const n=[],r=[],i={};return Nm(t,(t,o)=>{const s=e(o,t).pipe(U(t=>i[o]=t));o===vm?n.push(s):r.push(s)}),op.apply(null,n.concat(r)).pipe(mp(),Op(),U(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return op(...n).pipe(U(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Dp(t=>{if(t instanceof Ng)return op(null);throw t}))),mp(),Fp(t=>!!t),Dp((t,n)=>{if(t instanceof ap||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return op(new Fm([],{}));throw new Ng(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return qg(r)!==o?Mg(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Mg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Lg(i):this.lineralizeSegments(n,i).pipe(H(n=>{const i=new Fm(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:u}=jg(e,r,i);if(!s)return Mg(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Lg(l):this.lineralizeSegments(r,l).pipe(H(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(U(t=>(n._loadedConfig=t,new Fm(r,{})))):op(new Fm(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=jg(e,n,r);if(!i)return Mg(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(H(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Bg(t,e,n)&&qg(n)!==vm)}(t,n,r)?{segmentGroup:Vg(new Fm(e,function(t,e){const n={};n[vm]=e;for(const r of t)""===r.path&&qg(r)!==vm&&(n[qg(r)]=new Fm([],{}));return n}(r,new Fm(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Bg(t,e,n))}(t,n,r)?{segmentGroup:Vg(new Fm(t.segments,function(t,e,n,r){const i={};for(const o of n)Bg(t,e,o)&&!r[qg(o)]&&(i[qg(o)]=new Fm([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(U(t=>new Fm(o,t))):0===r.length&&0===s.length?op(new Fm(o,{})):this.expandSegment(n,i,r,s,vm,!0).pipe(U(t=>new Fm(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?op(new Em(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?op(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?q(r).pipe(U(r=>{const i=t.get(r);let o;if(function(t){return t&&Dg(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Dg(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Rm(o)})).pipe(mp(),(i=t=>!0===t,t=>t.lift(new Up(i,void 0,t)))):op(!0);var i}(t.injector,e,n).pipe(H(n=>n?this.configLoader.load(t.injector,e).pipe(U(t=>(e._loadedConfig=t,t))):function(t){return new w(e=>e.error(Cm(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):op(new Em([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return op(n);if(r.numberOfChildren>1||!r.children[vm])return Fg(t.redirectTo);r=r.children[vm]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Lm(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Nm(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Nm(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Fm(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function jg(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Sm)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Vg(t){if(1===t.numberOfChildren&&t.children[vm]){const e=t.children[vm];return new Fm(t.segments.concat(e.segments),e.children)}return t}function Bg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function qg(t){return t.outlet||vm}class Hg{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Wg{constructor(t,e){this.component=t,this.route=e}}function zg(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=sg(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!jm(t.url,e.url);case"pathParamsOrQueryParamsChange":return!jm(t.url,e.url)||!Am(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gg(t,e)||!Am(t.queryParams,e.queryParams);case"paramsChange":default:return!gg(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Hg(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?c?c.children:null:r,i,o),u&&o.canDeactivateChecks.push(new Wg(c&&c.outlet&&c.outlet.component||null,a))}else a&&Kg(n,c,o),o.canActivateChecks.push(new Hg(i)),t(e,null,s.component?c?c.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Nm(s,(t,e)=>Kg(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function Gg(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Kg(t,e,n){const r=sg(t),i=t.value;Nm(r,(t,r)=>{Kg(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Wg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Qg=Symbol("INITIAL_VALUE");function $g(){return Vp(t=>up(...t.map(t=>t.pipe(Rp(1),Wp(Qg)))).pipe(zp((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Qg)return t;if(r===Qg&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Pg(r))return r}return t},t)},Qg),gp(t=>t!==Qg),U(t=>Pg(t)?t:!0===t),Rp(1)))}function Yg(t,e){return null!==t&&e&&e(new pm(t)),op(!0)}function Xg(t,e){return null!==t&&e&&e(new dm(t)),op(!0)}function Zg(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?op(r.map(r=>pp(()=>{const i=Gg(r,e,n);let o;if(function(t){return t&&Dg(t.canActivate)}(i))o=Rm(i.canActivate(e,t));else{if(!Dg(i))throw new Error("Invalid CanActivate guard");o=Rm(i(e,t))}return o.pipe(Fp())}))).pipe($g()):op(!0)}function Jg(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>pp(()=>op(e.guards.map(i=>{const o=Gg(i,e.node,n);let s;if(function(t){return t&&Dg(t.canActivateChild)}(o))s=Rm(o.canActivateChild(r,t));else{if(!Dg(o))throw new Error("Invalid CanActivateChild guard");s=Rm(o(r,t))}return s.pipe(Fp())})).pipe($g())));return op(i).pipe($g())}class ty{}class ey{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=iy(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vm),n=new hg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vm,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new og(n,e),i=new dg(this.url,r);return this.inheritParamsAndData(i._root),op(i)}catch(t){return new w(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=lg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Vm(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===vm?-1:e.value.outlet===vm?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof ty))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new ty}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new ty;if((t.outlet||vm)!==r)throw new ty;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Pm(n).parameters:{};i=new hg(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ay(t),r,t.component,t,ny(e),ry(e)+n.length,cy(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new ty;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Sm)(n,t,e);if(!r)throw new ty;const i={};Nm(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new hg(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ay(t),r,t.component,t,ny(e),ry(e)+o.length,cy(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=iy(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new og(i,t)]}if(0===a.length&&0===u.length)return[new og(i,[])];const l=this.processSegment(a,c,u,vm);return[new og(i,l)]}}function ny(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ry(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function iy(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>oy(t,e,n)&&sy(n)!==vm)}(t,n,r)){const i=new Fm(e,function(t,e,n,r){const i={};i[vm]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&sy(o)!==vm){const n=new Fm([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[sy(o)]=n}return i}(t,e,r,new Fm(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>oy(t,e,n))}(t,n,r)){const o=new Fm(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(oy(t,n,a)&&!i[sy(a)]){const n=new Fm([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[sy(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Fm(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function oy(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function sy(t){return t.outlet||vm}function ay(t){return t.data||{}}function cy(t){return t.resolve||{}}function uy(t,e,n,r){const i=Gg(t,e,r);return Rm(i.resolve?i.resolve(e,n):i(e,n))}function ly(t){return function(e){return e.pipe(Vp(e=>{const n=t(e);return n?q(n).pipe(U(()=>e)):q([e])}))}}class hy{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const dy=new Vt("ROUTES");class fy{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(U(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Em(Dm(r.injector.get(dy)).map(xm),r)}))}loadModuleFactory(t){return"string"==typeof t?q(this.loader.load(t)):Rm(t()).pipe(H(t=>t instanceof se?op(t):q(this.compiler.compileModuleAsync(t))))}}class py{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function my(t){throw t}function gy(t,e,n){return e.parse("/")}function yy(t,e){return op(null)}let vy=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new k,this.errorHandler=my,this.malformedUriErrorHandler=gy,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yy,afterPreactivation:yy},this.urlHandlingStrategy=new py,this.routeReuseStrategy=new hy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(oe),this.console=i.get(Bl);const c=i.get(eh);this.isNgZoneEnabled=c instanceof eh,this.resetConfig(a),this.currentUrlTree=new Lm(new Fm([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fy(o,s,t=>this.triggerEvent(new lm(t)),t=>this.triggerEvent(new hm(t))),this.routerState=cg(this.currentUrlTree,this.rootComponentType),this.transitions=new sp({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(gp(t=>0!==t.id),U(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Vp(t=>{let n=!1,r=!1;return op(t).pipe($p(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vp(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return op(t).pipe(Vp(t=>{const n=this.transitions.getValue();return e.next(new em(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?dp:[t]}),Vp(t=>Promise.resolve(t)),function(t,e,n,r){return function(i){return i.pipe(Vp(i=>(function(t,e,n,r,i){return new Ug(t,e,n,r,i).apply()})(t,e,n,i.extractedUrl,r).pipe(U(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),$p(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(H(o=>(function(t,e,n,r,i="emptyOnly",o="legacy"){return new ey(t,e,n,r,i,o).recognize()})(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(U(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),$p(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),$p(t=>{const n=new om(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new em(n,this.serializeUrl(r),i,o);e.next(a);const c=cg(r,this.rootComponentType).snapshot;return op(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),dp}),ly(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),$p(t=>{const e=new sm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),U(t=>Object.assign(Object.assign({},t),{guards:zg(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(H(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?op(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return q(t).pipe(H(t=>(function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?op(o.map(o=>{const s=Gg(o,e,i);let a;if(function(t){return t&&Dg(t.canDeactivate)}(s))a=Rm(s.canDeactivate(t,e,n,r));else{if(!Dg(s))throw new Error("Invalid CanDeactivate guard");a=Rm(s(t,e,n,r))}return a.pipe(Fp())})).pipe($g()):op(!0)})(t.component,t.route,n,e,r)),Fp(t=>!0!==t,!0))}(s,r,i,t).pipe(H(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return q(e).pipe(Qp(e=>q([Xg(e.route.parent,r),Yg(e.route,r),Jg(t,e.path,n),Zg(t,e.route,n)]).pipe(mp(),Fp(t=>!0!==t,!0))),Fp(t=>!0!==t,!0))}(r,o,t,e):op(n)),U(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),$p(t=>{if(Pg(t.guardsResult)){const e=Cm(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),$p(t=>{const e=new am(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),gp(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new rm(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),ly(t=>{if(t.guards.canActivateChecks.length)return op(t).pipe($p(t=>{const e=new cm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(H(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?q(i).pipe(Qp(n=>(function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return op({});if(1===i.length){const o=i[0];return uy(t[o],e,n,r).pipe(U(t=>({[o]:t})))}const o={};return q(i).pipe(H(i=>uy(t[i],e,n,r).pipe(U(t=>(o[i]=t,t))))).pipe(Op(),U(()=>o))}(t._resolve,t,e,r).pipe(U(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),lg(t,n).resolve),null)))})(n.route,r,t,e)),function(t,e){return arguments.length>=2?function(n){return b(zp(t,e),_p(1),Ip(e))(n)}:function(e){return b(zp((e,n,r)=>t(e,n,r+1)),_p(1))(e)}}((t,e)=>t),U(t=>n)):op(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),$p(t=>{const e=new um(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),ly(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),U(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new og(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new ug(new sp((i=n.value).url),new sp(i.params),new sp(i.queryParams),new sp(i.fragment),new sp(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new og(r,o)}}var i}(t,e._root,n?n._root:void 0);return new ag(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),$p(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),xg(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),$p({next(){n=!0},complete(){n=!0}}),function(t){return e=>e.lift(new Zp(t))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new rm(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Dp(n=>{if(r=!0,function(t){return t&&t[wm]}(n)){const r=Pg(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new rm(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new im(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return dp}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Tm(t),this.config=t.map(xm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;Mi()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,u=a?this.currentUrlTree.fragment:i;let l=null;if(s)switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return vg(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new bg(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Nm(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new bg(n,e,r)}(n);if(o.toRoot())return vg(e.root,new Fm([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new _g(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new _g(n.snapshot._urlSegment,!0,0);const r=yg(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new _g(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Sg(s.segmentGroup,s.index,o.commands):Cg(s.segmentGroup,s.index,o.commands);return vg(s.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,l,u)}navigateByUrl(t,e={skipLocationChange:!1}){Mi()&&this.isNgZoneEnabled&&!eh.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Pg(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Pg(t))return Mm(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Mm(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new nm(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,c;i?(s=i.resolve,a=i.reject,c=i.promise):c=new Promise((t,e)=>{s=t,a=e});const u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){ac()},t.\u0275dir=Se({type:t}),t})(),by=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof nm&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Mi()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:_y(this.skipLocationChange),replaceUrl:_y(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:_y(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:_y(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(oc(vy),oc(ug),oc(ad))},t.\u0275dir=Se({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(t,e,n){1&t&&(Ka(2),Dc("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)}))),2&t&&(Qc("href",e.href,co),nc("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[ru()]}),t})();function _y(t){return""===t||!!t}class wy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cy,this.attachRef=null}}class Cy{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new wy,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Sy=(()=>{class t{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new fl,this.deactivateEvents=new fl,this.name=r||vm,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Ey(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(oc(Cy),oc(Gu),oc(bu),sc("name"),oc(ka))},t.\u0275dir=Se({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ey{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ug?this.route:t===Cy?this.childContexts:this.parent.get(t,e)}}class Ty{}class ky{preload(t,e){return op(null)}}let Iy=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new fy(e,n,e=>t.triggerEvent(new lm(e)),e=>t.triggerEvent(new hm(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(gp(t=>t instanceof nm),Qp(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(oe);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return q(n).pipe(K(),U(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(H(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(te(vy),te(Th),te(Xl),te(qa),te(Ty))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),xy=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof em?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nm&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new gm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){ac()},t.\u0275dir=Se({type:t}),t})();const Ay=new Vt("ROUTER_CONFIGURATION"),Oy=new Vt("ROUTER_FORROOT_GUARD"),Dy=[dd,{provide:Bm,useClass:qm},{provide:vy,useFactory:function(t,e,n,r,i,o,s,a,c={},u,l){const h=new vy(null,e,n,r,i,o,s,Dm(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=$h();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[Sh,Bm,Cy,dd,qa,Th,Xl,dy,Ay,[class{},new at],[class{},new at]]},Cy,{provide:ug,useFactory:function(t){return t.routerState.root},deps:[vy]},{provide:Th,useClass:Oh},Iy,ky,class{preload(t,e){return e().pipe(Dp(()=>op(null)))}},{provide:Ay,useValue:{enableTracing:!1}}];function Py(){return new vh("Router",vy)}let Ny=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Dy,Fy(e),{provide:Oy,useFactory:Ly,deps:[[vy,new at,new ut]]},{provide:Ay,useValue:n||{}},{provide:ad,useFactory:My,deps:[Zh,[new st(ud),new at],Ay]},{provide:xy,useFactory:Ry,deps:[vy,_f,Ay]},{provide:Ty,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ky},{provide:vh,multi:!0,useFactory:Py},[Uy,{provide:Nl,multi:!0,useFactory:jy,deps:[Uy]},{provide:By,useFactory:Vy,deps:[Uy]},{provide:Vl,multi:!0,useExisting:By}]]}}static forChild(e){return{ngModule:t,providers:[Fy(e)]}}}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(te(Oy,8),te(vy,8))}}),t})();function Ry(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new xy(t,e,n)}function My(t,e,n={}){return n.useHash?new hd(t,e):new ld(t,e)}function Ly(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Fy(t){return[{provide:Ha,multi:!0,useValue:t},{provide:dy,multi:!0,useValue:t}]}let Uy=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new k}appInitializer(){return this.injector.get(td,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(vy),r=this.injector.get(Ay);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?op(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Ay),n=this.injector.get(Iy),r=this.injector.get(xy),i=this.injector.get(vy),o=this.injector.get(Sh);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(te(qa))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();function jy(t){return t.appInitializer.bind(t)}function Vy(t){return t.bootstrapListener.bind(t)}const By=new Vt("Router Initializer");function qy(t,e){return new w(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=q(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Hy=["novalidate",""],Wy=new Vt("NgValueAccessor"),zy={provide:Wy,useExisting:Tt(()=>Gy),multi:!0};let Gy=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(oc(Eu),oc(_u))},t.\u0275dir=Se({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e,n){1&t&&Dc("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(t){return e.onTouched()}))},features:[pu([zy])]}),t})();const Ky={provide:Wy,useExisting:Tt(()=>$y),multi:!0},Qy=new Vt("CompositionEventMode");let $y=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=$h()?$h().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(oc(Eu),oc(_u),oc(Qy,8))},t.\u0275dir=Se({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e,n){1&t&&Dc("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(t){return e.onTouched()}))("compositionstart",(function(t){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[pu([Ky])]}),t})(),Yy=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Se({type:t}),t})(),Xy=(()=>{class t extends Yy{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Zy(e||t)},t.\u0275dir=Se({type:t,features:[Xc]}),t})();const Zy=Ti(Xy);function Jy(){throw new Error("unimplemented")}class tv extends Yy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Jy()}get asyncValidator(){return Jy()}}class ev{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let nv=(()=>{class t extends ev{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(oc(tv,2))},t.\u0275dir=Se({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostBindings:function(t,e,n){1&t&&Ka(7),2&t&&uc("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Xc]}),t})(),rv=(()=>{class t extends ev{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(oc(Xy,2))},t.\u0275dir=Se({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostBindings:function(t,e,n){1&t&&Ka(7),2&t&&uc("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[Xc]}),t})();function iv(t){return null==t||0===t.length}const ov=new Vt("NgValidators"),sv=new Vt("NgAsyncValidators"),av=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class cv{static min(t){return e=>{if(iv(e.value)||iv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(iv(e.value)||iv(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return iv(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return iv(t.value)?null:av.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(iv(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return cv.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(iv(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(uv);return 0==e.length?null:function(t){return hv(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(uv);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(u(e))return qy(e,null);if(l(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return qy(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return qy(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(U(t=>e(...t)))}return qy(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(lv)).pipe(U(hv))}}}function uv(t){return null!=t}function lv(t){const e=Ac(t)?q(t):t;if(!Oc(e))throw new Error("Expected validator to return Promise or Observable.");return e}function hv(t){const e=t.reduce((t,e)=>null!=e?Object.assign(Object.assign({},t),e):t,{});return 0===Object.keys(e).length?null:e}function dv(t){return t.validate?e=>t.validate(e):t}function fv(t){return t.validate?e=>t.validate(e):t}const pv={provide:Wy,useExisting:Tt(()=>mv),multi:!0};let mv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(oc(Eu),oc(_u))},t.\u0275dir=Se({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e,n){1&t&&Dc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},features:[pu([pv])]}),t})();const gv={provide:Wy,useExisting:Tt(()=>vv),multi:!0};let yv=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),vv=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(tv),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(oc(Eu),oc(_u),oc(yv),oc(qa))},t.\u0275dir=Se({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e,n){1&t&&Dc("change",(function(t){return e.onChange()}))("blur",(function(t){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[pu([gv])]}),t})();const bv={provide:Wy,useExisting:Tt(()=>_v),multi:!0};let _v=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(oc(Eu),oc(_u))},t.\u0275dir=Se({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e,n){1&t&&Dc("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},features:[pu([bv])]}),t})();const wv={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class Cv{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${wv.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${wv.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${wv.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${wv.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${wv.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${wv.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const Sv={provide:Wy,useExisting:Tt(()=>Tv),multi:!0};function Ev(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Tv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ya}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Ev(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(oc(Eu),oc(_u))},t.\u0275dir=Se({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e,n){1&t&&Dc("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(t){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[pu([Sv])]}),t})(),kv=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Ev(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(oc(_u),oc(Eu),oc(Tv,9))},t.\u0275dir=Se({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Iv={provide:Wy,useExisting:Tt(()=>Av),multi:!0};function xv(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Av=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Ya}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(oc(Eu),oc(_u))},t.\u0275dir=Se({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e,n){1&t&&Dc("change",(function(t){return e.onChange(t.target)}))("blur",(function(t){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[pu([Iv])]}),t})(),Ov=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(xv(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(xv(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(oc(_u),oc(Eu),oc(Av,9))},t.\u0275dir=Se({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Dv(t,e){return[...e.path,t]}function Pv(t,e){t||Lv(e,"Cannot find control with"),e.valueAccessor||Lv(e,"No value accessor for form control with"),t.validator=cv.compose([t.validator,e.validator]),t.asyncValidator=cv.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Nv(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Nv(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Nv(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Rv(t,e){null==t&&Lv(e,"Cannot find control with"),t.validator=cv.compose([t.validator,e.validator]),t.asyncValidator=cv.composeAsync([t.asyncValidator,e.asyncValidator])}function Mv(t){return Lv(t,"There is no FormControl instance attached to form control element with")}function Lv(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function Fv(t){return null!=t?cv.compose(t.map(dv)):null}function Uv(t){return null!=t?cv.composeAsync(t.map(fv)):null}function jv(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Ya(e,n.currentValue)}const Vv=[Gy,_v,mv,Tv,Av,vv];function Bv(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function qv(t,e){if(!e)return null;Array.isArray(e)||Lv(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===$y?n=e:function(t){return Vv.some(e=>t.constructor===e)}(e)?(r&&Lv(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Lv(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(Lv(t,"No valid value accessor for form control with"),null)}function Hv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Wv="VALID",zv="INVALID",Gv="PENDING",Kv="DISABLED";function Qv(t){const e=Yv(t)?t.validators:t;return Array.isArray(e)?Fv(e):e||null}function $v(t,e){const n=Yv(e)?e.asyncValidators:t;return Array.isArray(n)?Uv(n):n||null}function Yv(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Xv{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===Wv}get invalid(){return this.status===zv}get pending(){return this.status==Gv}get disabled(){return this.status===Kv}get enabled(){return this.status!==Kv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Qv(t)}setAsyncValidators(t){this.asyncValidator=$v(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Gv,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Kv,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Wv,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Wv&&this.status!==Gv||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Kv:Wv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Gv;const e=lv(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length?null:e.reduce((t,e)=>t instanceof Jv?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof tb&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new fl,this.statusChanges=new fl}_calculateStatus(){return this._allControlsDisabled()?Kv:this.errors?zv:this._anyControlsHaveStatus(Gv)?Gv:this._anyControlsHaveStatus(zv)?zv:Wv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Yv(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Zv extends Xv{constructor(t=null,e,n){super(Qv(e),$v(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Jv extends Xv{constructor(t,e,n){super(Qv(e),$v(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Zv?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class tb extends Xv{constructor(t,e,n){super(Qv(e),$v(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Zv?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const eb={provide:Xy,useExisting:Tt(()=>rb)},nb=(()=>Promise.resolve(null))();let rb=(()=>{class t extends Xy{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new fl,this.form=new Jv({},Fv(t),Uv(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){nb.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Pv(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){nb.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),Hv(this._directives,t)})}addFormGroup(t){nb.then(()=>{const e=this._findContainer(t.path),n=new Jv({});Rv(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){nb.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){nb.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Bv(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(oc(ov,10),oc(sv,10))},t.\u0275dir=Se({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e,n){1&t&&Dc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(t){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pu([eb]),Xc]}),t})(),ib=(()=>{class t extends Xy{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Dv(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Fv(this._validators)}get asyncValidator(){return Uv(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return ob(e||t)},t.\u0275dir=Se({type:t,features:[Xc]}),t})();const ob=Ti(ib);class sb{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${wv.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${wv.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${wv.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${wv.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${wv.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${wv.ngModelGroup}`)}}const ab={provide:Xy,useExisting:Tt(()=>cb)};let cb=(()=>{class t extends ib{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof t||this._parent instanceof rb||sb.modelGroupParentException()}}return t.\u0275fac=function(e){return new(e||t)(oc(Xy,5),oc(ov,10),oc(sv,10))},t.\u0275dir=Se({type:t,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[pu([ab]),Xc]}),t})();const ub={provide:tv,useExisting:Tt(()=>hb)},lb=(()=>Promise.resolve(null))();let hb=(()=>{class t extends tv{constructor(t,e,n,r){super(),this.control=new Zv,this._registered=!1,this.update=new fl,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=qv(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),jv(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Dv(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Fv(this._rawValidators)}get asyncValidator(){return Uv(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof cb)&&this._parent instanceof ib?sb.formGroupNameException():this._parent instanceof cb||this._parent instanceof rb||sb.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||sb.missingNameException()}_updateValue(t){lb.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;lb.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(oc(Xy,9),oc(ov,10),oc(sv,10),oc(Wy,10))},t.\u0275dir=Se({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[pu([ub]),Xc,ru()]}),t})(),db=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Se({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostBindings:function(t,e,n){1&t&&Sc(Hy)}}),t})();const fb=new Vt("NgModelWithFormControlWarning"),pb={provide:Xy,useExisting:Tt(()=>mb)};let mb=(()=>{class t extends Xy{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new fl}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Pv(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Hv(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);Rv(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);Rv(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,Bv(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>Mv(e)),e.valueAccessor.registerOnTouched(()=>Mv(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&Pv(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=Fv(this._validators);this.form.validator=cv.compose([this.form.validator,t]);const e=Uv(this._asyncValidators);this.form.asyncValidator=cv.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||Cv.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(oc(ov,10),oc(sv,10))},t.\u0275dir=Se({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e,n){1&t&&Dc("submit",(function(t){return e.onSubmit(t)}))("reset",(function(t){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[pu([pb]),Xc,ru()]}),t})();const gb={provide:Xy,useExisting:Tt(()=>yb)};let yb=(()=>{class t extends ib{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){_b(this._parent)&&Cv.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(oc(Xy,13),oc(ov,10),oc(sv,10))},t.\u0275dir=Se({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[pu([gb]),Xc]}),t})();const vb={provide:Xy,useExisting:Tt(()=>bb)};let bb=(()=>{class t extends Xy{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Dv(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return Fv(this._validators)}get asyncValidator(){return Uv(this._asyncValidators)}_checkParentType(){_b(this._parent)&&Cv.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(oc(Xy,13),oc(ov,10),oc(sv,10))},t.\u0275dir=Se({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[pu([vb]),Xc]}),t})();function _b(t){return!(t instanceof yb||t instanceof mb||t instanceof bb)}const wb={provide:tv,useExisting:Tt(()=>Cb)};let Cb=(()=>{class t extends tv{constructor(t,e,n,r,i){super(),this._ngModelWarningConfig=i,this._added=!1,this.update=new fl,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=qv(this,r)}set isDisabled(t){Cv.disabledAttrWarning()}ngOnChanges(e){var n,r;this._added||this._setUpControl(),jv(e,this.viewModel)&&("formControlName",n=t,this,r=this._ngModelWarningConfig,Mi()&&"never"!==r&&((null!==r&&"once"!==r||n._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(Cv.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Dv(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return Fv(this._rawValidators)}get asyncValidator(){return Uv(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof yb)&&this._parent instanceof ib?Cv.ngModelGroupException():this._parent instanceof yb||this._parent instanceof mb||this._parent instanceof bb||Cv.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(oc(Xy,13),oc(ov,10),oc(sv,10),oc(Wy,10),oc(fb,8))},t.\u0275dir=Se({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[pu([wb]),Xc,ru()]}),t._ngModelWarningSentOnce=!1,t})(),Sb=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})(),Eb=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Jv(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Zv(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new tb(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Zv||t instanceof Jv||t instanceof tb?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),Tb=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[yv],imports:[Sb]}),t})(),kb=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:fb,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[Eb,yv],imports:[Sb]}),t})();function Ib(t){return function(t){return new w(e=>({unsubscribe:t.onSnapshot(e)}))}(t).pipe(rt())}function xb(t){return Ib(t).pipe(U(t=>({payload:t,type:"query"})))}function Ab(t){return xb(t).pipe(U(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Ob(t,e){return xb(t).pipe(U(t=>t.payload.docChanges()),zp((t,n)=>(function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t})(t,n,e),[]),U(t=>t.map(t=>({type:t.type,payload:t}))))}class Db extends d{constructor(t,e){super()}schedule(t,e=0){return this}}class Pb extends Db{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class Nb extends Pb{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let Rb=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Mb extends Rb{constructor(t,e=Rb.now){super(t,()=>Mb.delegate&&Mb.delegate!==this?Mb.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Mb.delegate&&Mb.delegate!==this?Mb.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class Lb extends Mb{}const Fb=new Lb(Nb);class Ub{constructor(t,e){this.zone=t,this.platformId=e}schedule(...t){return this.zone.runGuarded((function(){return Fb.schedule.apply(Fb,t)}))}keepUnstableUntilFirst(t){return bf(this.platformId)?new w(e=>{const n=()=>{},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(t=>{"scheduled"===r.state&&r.invoke(),e.next(t)},t=>{"scheduled"===r.state&&r.invoke(),e.error(t)},()=>{"scheduled"===r.state&&r.invoke(),e.complete()})}):t}runOutsideAngular(t){return new w(e=>this.zone.runOutsideAngular(()=>t.subscribe(t=>this.zone.run(()=>e.next(t)),t=>this.zone.run(()=>e.error(t)),()=>this.zone.run(()=>e.complete()))))}}const jb=t=>e=>new w(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())));function Vb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Bb{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Ab(this.query))).pipe(U(e=>e.filter(e=>t.indexOf(e.type)>-1)),gp(t=>t.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Ab(this.query)))}auditTrail(t){return this.stateChanges(t).pipe(zp((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Vb(t),n=Ob(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(t={}){const e=xb(this.query),n=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(U(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return q(this.query.get(t)).pipe(jb(this.afs.scheduler.zone))}add(t){return this.ref.add(t)}doc(t){return new qb(this.ref.doc(t),this.afs)}}class qb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=r_(n,e);return new Bb(r,i,this.afs)}snapshotChanges(){const t=Ib(this.ref).pipe(U(t=>({payload:t,type:"value"}))),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)}valueChanges(){return this.snapshotChanges().pipe(U(t=>t.payload.data()))}get(t){return q(this.ref.get(t)).pipe(jb(this.afs.scheduler.zone))}}class Hb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Ab(this.query))).pipe(U(e=>e.filter(e=>t.indexOf(e.type)>-1)),gp(t=>t.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(Ab(this.query)))}auditTrail(t){return this.stateChanges(t).pipe(zp((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Vb(t),n=Ob(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(){const t=xb(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(U(t=>t.payload.docs.map(t=>t.data())))}get(t){return q(this.query.get(t)).pipe(jb(this.afs.scheduler.zone))}}var Wb,zb=n("Wcq6"),Gb=n.n(zb);const Kb=new Vt("angularfire2.app.options"),Qb=new Vt("angularfire2.app.nameOrConfig");function $b(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",Gb.a.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>Gb.a.initializeApp(t,r))}const Yb={provide:class{},useFactory:$b,deps:[Kb,eh,[new at,Qb]]};let Xb=(()=>{let t=Wb=class{static initializeApp(t,e){return{ngModule:Wb,providers:[{provide:Kb,useValue:t},{provide:Qb,useValue:e}]}}};return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[Yb]}),t})();const Zb=new Vt("angularfire2.enableFirestorePersistence"),Jb=new Vt("angularfire2.firestore.persistenceSettings"),t_=new Vt("angularfire2.firestore.settings"),e_=parseInt(Gb.a.SDK_VERSION.split(".")[0]),n_=e_<5||5==e_&&parseInt(Gb.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function r_(t,e=(t=>t)){return{query:e(t),ref:t}}let i_=(()=>{let t=class{constructor(t,e,n,r,i,o,s){this.scheduler=new Ub(o,i),this.firestore=o.runOutsideAngular(()=>{const n=$b(t,o,e).firestore();return n.settings(r||n_),n}),this.persistenceEnabled$=n&&!bf(i)?o.runOutsideAngular(()=>{try{return q(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return op(!1)}}):op(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=r_(n,e);return new Bb(r,i,this)}collectionGroup(t,e){if(e_<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Hb(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new qb(e,this)}createId(){return this.firestore.collection("_").doc().id}};return t.\u0275fac=function(e){return new(e||t)(te(Kb),te(Qb,8),te(Zb,8),te(t_,8),te(jl),te(eh),te(Jb,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),o_=(()=>{class t{constructor(t){this.afs=t,this.domainCollection=this.afs.collection("domains")}getDomains(){var t=this.afs.collection("domains",t=>t.orderBy("creationDate","desc"));return this.domains=t.snapshotChanges().pipe(U(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}getFeauturedDomains(){var t=this.afs.collection("domains",t=>t.orderBy("creationDate","desc").limit(16));return this.domains=t.snapshotChanges().pipe(U(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}getDomainById(t){return console.log("getDomainById",t),this.domainDocument=this.afs.doc(`domains/${t}`),this.domainDocument.valueChanges()}setDomain(t){const e=this.afs.createId();return t.id=e,t.creationDate=new Date,t.modificationDate=new Date,this.domainCollection.doc(e).set(t)}deleteDomain(t){return this.domainDocument=this.afs.doc(`domains/${t.id}`),this.domainDocument.delete()}updateDomain(t){return t.modificationDate=new Date,this.domainDocument=this.afs.doc(`domains/${t.id}`),this.domainDocument.update(t)}}return t.\u0275fac=function(e){return new(e||t)(te(i_))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),s_=(()=>{class t{constructor(){this.isSearch=new sp(!0),this.currentMessage=this.isSearch.asObservable()}changeMessage(t){this.isSearch.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var a_=n("q3Kh"),c_=n("iqUP");let u_=(()=>{class t{constructor(t){this.afs=t,this.db=c_.firestore(),this.searchCollection=this.afs.collection("searchTerms")}setSearchWord(t){const e=this.afs.createId();return t.id=e,t.creationDate=new Date,this.searchCollection.doc(e).set(t)}updateSearchWord(t){return this.searchDocument=this.afs.doc(`searchTerms/${t.id}`),this.searchDocument.update(t)}getSearchWords(){var t=this.afs.collection("searchTerms",t=>t.orderBy("creationDate","desc"));return this.searches=t.snapshotChanges().pipe(Object(a_.map)(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}}return t.\u0275fac=function(e){return new(e||t)(te(i_))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l_={prefix:"fab",iconName:"facebook",icon:[512,512,[],"f09a","M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"]},h_={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},d_={prefix:"fab",iconName:"pinterest",icon:[496,512,[],"f0d2","M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"]},f_={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]};function p_(t){return(p_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g_(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){m_(t,e,n[e])}))}return t}function y_(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v_={},b_={};try{"undefined"!=typeof window&&(v_=window),"undefined"!=typeof document&&(b_=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(uN){}var __=(v_.navigator||{}).userAgent,w_=void 0===__?"":__,C_=v_,S_=b_,E_=!!S_.documentElement&&!!S_.head&&"function"==typeof S_.addEventListener&&"function"==typeof S_.createElement,T_=(~w_.indexOf("MSIE")||w_.indexOf("Trident/"),"fa"),k_="svg-inline--fa",I_="data-fa-i2svg",x_=[1,2,3,4,5,6,7,8,9,10],A_=x_.concat([11,12,13,14,15,16,17,18,19,20]),O_={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},D_=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",O_.GROUP,O_.SWAP_OPACITY,O_.PRIMARY,O_.SECONDARY].concat(x_.map((function(t){return"".concat(t,"x")}))).concat(A_.map((function(t){return"w-".concat(t)}))),C_.FontAwesomeConfig||{});S_&&"function"==typeof S_.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(t){var e=y_(t,2),n=e[1],r=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=S_.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(e[0]));null!=r&&(D_[n]=r)}));var P_=g_({},{familyPrefix:T_,replacementClass:k_,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},D_);P_.autoReplaceSvg||(P_.observeMutations=!1);var N_=g_({},P_);C_.FontAwesomeConfig=N_;var R_=C_||{};R_.___FONT_AWESOME___||(R_.___FONT_AWESOME___={}),R_.___FONT_AWESOME___.styles||(R_.___FONT_AWESOME___.styles={}),R_.___FONT_AWESOME___.hooks||(R_.___FONT_AWESOME___.hooks={}),R_.___FONT_AWESOME___.shims||(R_.___FONT_AWESOME___.shims=[]);var M_=R_.___FONT_AWESOME___,L_=[];E_&&((S_.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(S_.readyState)||S_.addEventListener("DOMContentLoaded",(function t(){S_.removeEventListener("DOMContentLoaded",t),L_.map((function(t){return t()}))})));var F_,U_="pending",j_="settled",V_="fulfilled",B_="rejected",q_=function(){},H_="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,W_="undefined"==typeof setImmediate?setTimeout:setImmediate,z_=[];function G_(){for(var t=0;t<z_.length;t++)z_[t][0](z_[t][1]);z_=[],F_=!1}function K_(t,e){z_.push([t,e]),F_||(F_=!0,W_(G_,0))}function Q_(t){var e=t.owner,n=e._state,r=e._data,i=t[n],o=t.then;if("function"==typeof i){n=V_;try{r=i(r)}catch(uN){Z_(o,uN)}}$_(o,r)||(n===V_&&Y_(o,r),n===B_&&Z_(o,r))}function $_(t,e){var n;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===p_(e))){var r=e.then;if("function"==typeof r)return r.call(e,(function(r){n||(n=!0,e===r?X_(t,r):Y_(t,r))}),(function(e){n||(n=!0,Z_(t,e))})),!0}}catch(uN){return n||Z_(t,uN),!0}return!1}function Y_(t,e){t!==e&&$_(t,e)||X_(t,e)}function X_(t,e){t._state===U_&&(t._state=j_,t._data=e,K_(tw,t))}function Z_(t,e){t._state===U_&&(t._state=j_,t._data=e,K_(ew,t))}function J_(t){t._then=t._then.forEach(Q_)}function tw(t){t._state=V_,J_(t)}function ew(t){t._state=B_,J_(t),!t._handled&&H_&&global.process.emit("unhandledRejection",t._data,t)}function nw(t){global.process.emit("rejectionHandled",t)}function rw(t){if("function"!=typeof t)throw new TypeError("Promise resolver "+t+" is not a function");if(this instanceof rw==0)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(t,e){function n(t){Z_(e,t)}try{t((function(t){Y_(e,t)}),n)}catch(uN){n(uN)}}(t,this)}rw.prototype={constructor:rw,_state:U_,_then:null,_data:void 0,_handled:!1,then:function(t,e){var n={owner:this,then:new this.constructor(q_),fulfilled:t,rejected:e};return!e&&!t||this._handled||(this._handled=!0,this._state===B_&&H_&&K_(nw,this)),this._state===V_||this._state===B_?K_(Q_,n):this._then.push(n),n.then},catch:function(t){return this.then(null,t)}},rw.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new rw((function(e,n){var r=[],i=0;function o(t){return i++,function(n){r[t]=n,--i||e(r)}}for(var s,a=0;a<t.length;a++)(s=t[a])&&"function"==typeof s.then?s.then(o(a),n):r[a]=s;i||e(r)}))},rw.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new rw((function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)}))},rw.resolve=function(t){return t&&"object"===p_(t)&&t.constructor===rw?t:new rw((function(e){e(t)}))},rw.reject=function(t){return new rw((function(e,n){n(t)}))};var iw={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},ow="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function sw(){for(var t=12,e="";t-- >0;)e+=ow[62*Math.random()|0];return e}function aw(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function cw(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,": ").concat(t[n],";")}),"")}function uw(t){return t.size!==iw.size||t.x!==iw.x||t.y!==iw.y||t.rotate!==iw.rotate||t.flipX||t.flipY}function lw(t){var e=t.transform,n=t.iconWidth,r={transform:"translate(".concat(t.containerWidth/2," 256)")},i="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)");return{outer:r,inner:{transform:"".concat(i," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(n/2*-1," -256)")}}}var hw={x:0,y:0,width:"100%",height:"100%"};function dw(t){return t.attributes&&(t.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t.attributes.fill="black"),t}function fw(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,c=t.title,u=t.extra,l=t.watchable,h=void 0!==l&&l,d=r.found?r:n,f=d.width,p=d.height,m="fa-w-".concat(Math.ceil(f/p*16)),g=[N_.replacementClass,o?"".concat(N_.familyPrefix,"-").concat(o):"",m].filter((function(t){return-1===u.classes.indexOf(t)})).concat(u.classes).join(" "),y={children:[],attributes:g_({},u.attributes,{"data-prefix":i,"data-icon":o,class:g,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(f," ").concat(p)})};h&&(y.attributes[I_]=""),c&&y.children.push({tag:"title",attributes:{id:y.attributes["aria-labelledby"]||"title-".concat(sw())},children:[c]});var v=g_({},y,{prefix:i,iconName:o,main:n,mask:r,transform:s,symbol:a,styles:u.styles}),b=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.mask,s=i.icon,a=o.icon,c=lw({transform:t.transform,containerWidth:o.width,iconWidth:i.width}),u={tag:"rect",attributes:g_({},hw,{fill:"white"})},l=s.children?{children:s.children.map(dw)}:{},h={tag:"g",attributes:g_({},c.inner),children:[dw(g_({tag:s.tag,attributes:g_({},s.attributes,c.path)},l))]},d={tag:"g",attributes:g_({},c.outer),children:[h]},f="mask-".concat(sw()),p="clip-".concat(sw()),m={tag:"mask",attributes:g_({},hw,{id:f,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[u,d]},g={tag:"defs",children:[{tag:"clipPath",attributes:{id:p},children:(e=a,"g"===e.tag?e.children:[e])},m]};return n.push(g,{tag:"rect",attributes:g_({fill:"currentColor","clip-path":"url(#".concat(p,")"),mask:"url(#".concat(f,")")},hw)}),{children:n,attributes:r}}(v):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=cw(t.styles);if(o.length>0&&(n.style=o),uw(i)){var s=lw({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:g_({},s.outer),children:[{tag:"g",attributes:g_({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:g_({},r.icon.attributes,s.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(v),_=b.attributes;return v.children=b.children,v.attributes=_,a?function(t){var e=t.iconName,n=t.children,r=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:g_({},t.attributes,{id:!0===r?"".concat(t.prefix,"-").concat(N_.familyPrefix,"-").concat(e):r}),children:n}]}]}(v):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(uw(s)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=cw(g_({},o,{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(v)}var pw=function(t,e,n,r){var i,o,s,a=Object.keys(t),c=a.length,u=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,s=t[a[0]]):(i=0,s=n);i<c;i++)s=u(s,t[o=a[i]],o,t);return s};function mw(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=Object.keys(e).reduce((function(t,n){var r=e[n];return r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{});"function"!=typeof M_.hooks.addPack||r?M_.styles[t]=g_({},M_.styles[t]||{},i):M_.hooks.addPack(t,i),"fas"===t&&mw("fa",e)}var gw=M_.styles,yw=M_.shims,vw=function(){var t=function(t){return pw(gw,(function(e,n,r){return e[r]=pw(n,t,{}),e}),{})};t((function(t,e,n){return e[3]&&(t[e[3]]=n),t})),t((function(t,e,n){var r=e[2];return t[n]=n,r.forEach((function(e){t[e]=n})),t}));var e="far"in gw;pw(yw,(function(t,n){var r=n[1];return"far"!==r||e||(r="fas"),t[n[0]]={prefix:r,iconName:n[2]},t}),{})};function bw(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function _w(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?aw(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,'="').concat(aw(t[n]),'" ')}),"").trim()}(r),">").concat(o.map(_w).join(""),"</").concat(e,">")}function ww(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}vw(),(ww.prototype=Object.create(Error.prototype)).constructor=ww;var Cw={fill:"currentColor"},Sw={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Ew=(g_({},Cw,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),g_({},Sw,{attributeName:"opacity"}));function Tw(t){var e=t[0],n=t[1],r=y_(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(N_.familyPrefix,"-").concat(O_.GROUP)},children:[{tag:"path",attributes:{class:"".concat(N_.familyPrefix,"-").concat(O_.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(N_.familyPrefix,"-").concat(O_.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}g_({},Cw,{cx:"256",cy:"364",r:"28"}),g_({},Sw,{attributeName:"r",values:"28;14;28;28;14;28;"}),g_({},Ew,{values:"1;0;1;1;0;1;"}),g_({},Cw,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),g_({},Ew,{values:"1;0;0;0;0;1;"}),g_({},Cw,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),g_({},Ew,{values:"0;0;1;1;0;0;"});var kw='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';function Iw(){N_.autoAddCss&&!Pw&&(function(t){if(t&&E_){var e=S_.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=S_.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}S_.head.insertBefore(e,r)}}(function(){var t=T_,e=k_,n=N_.familyPrefix,r=N_.replacementClass,i=kw;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),s=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(s,"--".concat(n,"-")).replace(a,".".concat(r))}return i}()),Pw=!0)}function xw(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(t){return _w(t)}))}}),Object.defineProperty(t,"node",{get:function(){if(E_){var e=S_.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function Aw(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return bw(Dw.definitions,n,r)||bw(M_.styles,n,r)}var Ow,Dw=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e;return(e=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(e){t.definitions[e]=g_({},t.definitions[e]||{},i[e]),mw(e,i[e]),vw()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((function(e){var r=n[e],i=r.prefix,o=r.iconName,s=r.icon;t[i]||(t[i]={}),t[i][o]=s})),t}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}()),Pw=!1,Nw={transform:function(t){return function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce((function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t}),e):e}(t)}},Rw=(Ow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?iw:n,i=e.symbol,o=void 0!==i&&i,s=e.mask,a=void 0===s?null:s,c=e.title,u=void 0===c?null:c,l=e.classes,h=void 0===l?[]:l,d=e.attributes,f=void 0===d?{}:d,p=e.styles,m=void 0===p?{}:p;if(t){var g=t.prefix,y=t.iconName,v=t.icon;return xw(g_({type:"icon"},t),(function(){return Iw(),N_.autoA11y&&(u?f["aria-labelledby"]="".concat(N_.replacementClass,"-title-").concat(sw()):(f["aria-hidden"]="true",f.focusable="false")),fw({icons:{main:Tw(v),mask:a?Tw(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:y,transform:g_({},iw,r),symbol:o,title:u,extra:{attributes:f,styles:m,classes:h}})}))}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:Aw(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:Aw(r||{})),Ow(n,g_({},e,{mask:r}))});const Mw=[1,"ng-fa-icon"];let Lw=(()=>{class t{constructor(){this.defaultPrefix="fas",this.globalLibrary="unset"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Fw=(()=>{class t{constructor(){this.definitions={}}addIcons(...t){for(let e=0;e<t.length;e++){const n=t[e];n.prefix in this.definitions||(this.definitions[n.prefix]={}),this.definitions[n.prefix][n.iconName]=n}}addIconPacks(...t){for(let e=0;e<t.length;e++){const n=t[e],r=Object.keys(n).map(t=>n[t]);this.addIcons(...r)}}getIconDefinition(t,e){return t in this.definitions&&e in this.definitions[t]?this.definitions[t][e]:null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Uw=t=>{console.error(`FontAwesome: Could not find icon with iconName=${t.iconName} and prefix=${t.prefix}. `+"This warning will become a hard error in 0.6.0.")},jw=()=>{console.error("FontAwesome: Property `icon` is required for `fa-icon`/`fa-duotone-icon` components. This warning will become a hard error in 0.6.0.")},Vw=t=>{const e={"fa-spin":t.spin,"fa-pulse":t.pulse,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-layers-counter":t.counter,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip,[`fa-${t.size}`]:null!==t.size,[`fa-rotate-${t.rotate}`]:null!==t.rotate,[`fa-pull-${t.pull}`]:null!==t.pull,[`fa-stack-${t.stackItemSize}`]:null!=t.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)},Bw=(t,e)=>(t=>void 0!==t.prefix&&void 0!==t.iconName)(t)?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:e,iconName:t}:void 0;let qw=(()=>{class t{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Se({type:t,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[ru()]}),t})(),Hw=(()=>{class t{constructor(t,e,n,r){this.sanitizer=t,this.config=e,this.iconLibrary=n,this.stackItem=r,this.classes=[]}get iconProp(){return this.icon}set iconProp(t){this.icon=t}ngOnChanges(t){if(null==this.icon)return jw();if(t){const t=this.findIconDefinition(this.icon);if(null!=t){const e=this.buildParams();this.renderIcon(t,e)}}}render(){this.ngOnChanges({})}findIconDefinition(t){const e=Bw(t,this.config.defaultPrefix);if("icon"in e)return e;const n=this.iconLibrary.getIconDefinition(e.prefix,e.iconName);if(null!=n)return n;const r=Aw(e);if(null!=r){const t="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+t);else if(!this.config.globalLibrary)throw new Error(t);return r}return Uw(e),null}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,listItem:this.listItem,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:this.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},e="string"==typeof this.transform?Nw.transform(this.transform):this.transform;return{title:this.title,transform:e,classes:[...Vw(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,e){const n=Rw(t,e);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(n.html.join("\n"))}}return t.\u0275fac=function(e){return new(e||t)(oc(tp),oc(Lw),oc(Fw),oc(qw,8))},t.\u0275cmp=ye({type:t,selectors:[["fa-icon"]],hostBindings:function(t,e,n){1&t&&(Ka(2),Sc(Mw)),2&t&&(Qc("innerHTML",e.renderedIconHTML,ao),nc("title",e.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",listItem:"listItem",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[ru()],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})(),Ww=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})(),zw=(()=>{class t{constructor(){this.faFacebook=l_,this.faTwitter=f_,this.faInstagram=h_,this.faPinterest=d_}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["app-footer"]],decls:25,vars:4,consts:[[1,"footer"],[1,"container"],[1,"row","standard-footer"],[1,"col-md-12","text-center"],[1,"linklist"],["href","https://resources.domains.com/website-terms-of-use/"],[1,"col-md-10","col-xs-12"],["href","https://domains.com/",1,"pinklink"],[1,"col-md-2","col-xs-12","text-right","social-media"],["size","2x",3,"icon"]],template:function(t,e){1&t&&(_c(0,"div",0),_c(1,"div",1),_c(2,"div",2),_c(3,"div",3),_c(4,"p"),Wc(5,"Domains create brandable domain names for new businesses and products. Find catchy, short and memorable domains for your company. "),wc(),_c(6,"p",4),_c(7,"a",5),Wc(8,"Terms of Use"),wc(),_c(9,"a",5),Wc(10,"Privacy Policy"),wc(),wc(),wc(),wc(),_c(11,"div",2),_c(12,"div",6),_c(13,"p"),Wc(14,"\xa9 "),_c(15,"a",7),Wc(16,"Domains Ltd"),wc(),Wc(17,". All rights reserved."),wc(),_c(18,"p"),Wc(19,"Domains is registered in India"),wc(),wc(),_c(20,"div",8),Cc(21,"fa-icon",9),Cc(22,"fa-icon",9),Cc(23,"fa-icon",9),Cc(24,"fa-icon",9),wc(),wc(),wc(),wc()),2&t&&(rs(21),Bc("icon",e.faFacebook),rs(1),Bc("icon",e.faTwitter),rs(1),Bc("icon",e.faInstagram),rs(1),Bc("icon",e.faPinterest))},directives:[Hw],styles:[".wrapper[_ngcontent-%COMP%]{background:#fff;height:100%}.search-control[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #bcbcbc;border-radius:2px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.container[_ngcontent-%COMP%]{padding-right:15px;display:block;padding-left:15px;margin-right:auto;margin-left:auto}.text-center[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:2px}.text-strike[_ngcontent-%COMP%]{text-decoration:line-through}.form-inline[_ngcontent-%COMP%]{display:inline-block;width:auto;vertical-align:middle}.strike-text[_ngcontent-%COMP%]{text-decoration:line-through}@media(min-width:1440px){.container[_ngcontent-%COMP%]{width:1440px}}@media(min-width:1200px){.container[_ngcontent-%COMP%]{width:1170px}}.footer[_ngcontent-%COMP%]{padding-top:36px;background:#29b6f6;margin-top:0;color:#fff;padding-bottom:36px}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;opacity:1;text-decoration:underline;margin-right:16px}.social-media[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{margin-right:8px}@media(max-width:767px){.footer[_ngcontent-%COMP%]{text-align:center}}"]}),t})(),Gw=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}openDomainDetail(t){console.log("openDomainDetail->",t),this.router.navigateByUrl("/domain/"+t)}}return t.\u0275fac=function(e){return new(e||t)(oc(vy))},t.\u0275cmp=ye({type:t,selectors:[["app-domain-card"]],inputs:{domain:"domain"},decls:17,vars:13,consts:[[1,"details-card",3,"click"],[1,"img-container"],[1,"img-text"],[1,"row"],[1,"col-sm-12"],[1,"col-sm-6"],[1,"price","strike-text"],[1,"price"]],template:function(t,e){1&t&&(_c(0,"div",0),Dc("click",(function(t){return e.openDomainDetail(e.domain.id)})),_c(1,"div",1),_c(2,"div",2),Wc(3),wc(),wc(),_c(4,"div",3),_c(5,"div",4),_c(6,"span"),Wc(7),wc(),wc(),wc(),_c(8,"div",3),_c(9,"div",5),_c(10,"span",6),Wc(11),hl(12,"currency"),wc(),wc(),_c(13,"div",5),_c(14,"span",7),Wc(15),hl(16,"currency"),wc(),wc(),wc(),wc()),2&t&&(rs(1),cc("background-color",e.domain.color),rs(1),cc("font-family",e.domain.font),rs(1),zc(e.domain.name.toLowerCase()),rs(4),Kc("",e.domain.name.toLowerCase(),".",e.domain.extension.toLowerCase(),""),rs(4),zc(dl(12,7,e.domain.price,"USD")),rs(4),zc(dl(16,10,e.domain.salePrice,"USD")))},pipes:[mf],styles:[".wrapper[_ngcontent-%COMP%]{background:#fff;height:100%}.search-control[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #bcbcbc;border-radius:2px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.container[_ngcontent-%COMP%]{padding-right:15px;display:block;padding-left:15px;margin-right:auto;margin-left:auto}.text-center[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:2px}.text-strike[_ngcontent-%COMP%]{text-decoration:line-through}.form-inline[_ngcontent-%COMP%]{display:inline-block;width:auto;vertical-align:middle}.strike-text[_ngcontent-%COMP%]{text-decoration:line-through}@media(min-width:1440px){.container[_ngcontent-%COMP%]{width:1440px}}@media(min-width:1200px){.container[_ngcontent-%COMP%]{width:1170px}}.details-card[_ngcontent-%COMP%]{font-size:1.2em;width:100%;border:1px solid #e4e4e4;border-radius:2px;overflow:hidden;text-align:left;position:relative;margin-bottom:30px;cursor:pointer}.details-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{vertical-align:middle;width:100%;height:140px;padding:32px;margin:0 auto}.details-card[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{text-align:center;margin:auto;background-color:#eee;vertical-align:middle;height:140px;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.details-card[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img-text[_ngcontent-%COMP%]{font-family:BioRhyme,serif;font-size:1.4em;font-weight:800;color:#fff;letter-spacing:2px;word-wrap:break-word}.details-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:8px}.details-card[_ngcontent-%COMP%]   .strike-text[_ngcontent-%COMP%]{text-decoration:line-through}"]}),t})();function Kw(t,e){if(1&t&&(_c(0,"div",9),Cc(1,"app-domain-card",10),wc()),2&t){const t=e.$implicit;rs(1),Bc("domain",t)}}function Qw(t,e){if(1&t&&(_c(0,"div",9),Cc(1,"app-domain-card",10),wc()),2&t){const t=e.$implicit;rs(1),Bc("domain",t)}}let $w=(()=>{class t{constructor(t,e,n,r,i){this.domainService=t,this.router=e,this.fb=n,this.headerService=r,this.searchWordService=i,this.domains=[]}ngOnInit(){this.getDomainDetails(),this.searchForm=this.fb.group({term:["",cv.required]}),this.headerService.changeMessage(!0)}getDomainDetails(){this.domainService.getFeauturedDomains().subscribe(t=>{this.domains=t,console.log("getFeauturedDomains->",this.domains)})}openDomainDetail(t){console.log("openDomainDetail->",t),this.router.navigateByUrl("/domain/"+t)}submitSearchForm(){let t=this.searchForm.get("term").value;this.searchWordService.setSearchWord({term:t}),this.router.navigateByUrl("/search/"+t)}randomColorGenerator(){return["#ef5350","#ec407a","#ab47bc","#7e57c2","#5c6bc0","#2196f3","#039be5","#0097a7","#26a69a","#43a047","#689f38","#ef6c00","#ff5722"][Math.floor(13*Math.random())]}randomFontGenerator(){return["BioRhyme","Roboto","Calistoga","Lato","Playfair Display"][Math.floor(5*Math.random())]}getColor(){return{"background-color":this.randomColorGenerator()}}}return t.\u0275fac=function(e){return new(e||t)(oc(o_),oc(vy),oc(Eb),oc(s_),oc(u_))},t.\u0275cmp=ye({type:t,selectors:[["app-home-page"]],decls:19,vars:2,consts:[[1,"home"],[1,"container-home"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"small-title"],["class","col-md-3 col-xs-6",4,"ngFor","ngForOf"],[1,"lead"],["routerLink","/search"],[1,"col-md-3","col-xs-6"],[3,"domain"]],template:function(t,e){1&t&&(_c(0,"div",0),_c(1,"div",1),_c(2,"div",2),_c(3,"div",3),_c(4,"div",4),_c(5,"h3",5),Wc(6,"Trending domains for sale"),wc(),_c(7,"div",3),ic(8,Kw,2,1,"div",6),wc(),wc(),wc(),_c(9,"div",3),_c(10,"div",4),_c(11,"h3",5),Wc(12,"Featured domains for sale"),wc(),_c(13,"div",3),ic(14,Qw,2,1,"div",6),wc(),wc(),wc(),_c(15,"p",7),_c(16,"a",8),Wc(17,"Explore All Domains"),wc(),wc(),wc(),wc(),Cc(18,"app-footer"),wc()),2&t&&(rs(8),Bc("ngForOf",e.domains),rs(6),Bc("ngForOf",e.domains))},directives:[cf,by,zw,Gw],styles:[".wrapper[_ngcontent-%COMP%]{background:#fff;height:100%}.search-control[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #bcbcbc;border-radius:2px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.container[_ngcontent-%COMP%]{display:block}.text-center[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:2px}.text-strike[_ngcontent-%COMP%]{text-decoration:line-through}.form-inline[_ngcontent-%COMP%]{display:inline-block;width:auto;vertical-align:middle}.strike-text[_ngcontent-%COMP%]{text-decoration:line-through}@media(min-width:1440px){.container[_ngcontent-%COMP%]{width:1440px}}@media(min-width:1200px){.container[_ngcontent-%COMP%]{width:1170px}}.home[_ngcontent-%COMP%]{background:#29b6f6;color:#fff}.container[_ngcontent-%COMP%]{padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto;min-height:60vh}.container[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]{background:0 0;margin-top:8vh;margin-bottom:4vh;padding-top:48px;padding-bottom:36px;color:#fff;text-align:center}.container[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   .search-control[_ngcontent-%COMP%]{max-width:500px;margin:30px auto 0}.container[_ngcontent-%COMP%]   .jumbotron[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:47px;margin-bottom:15px}.lead[_ngcontent-%COMP%]{opacity:1;margin:36px;font-size:21px;font-weight:200;text-align:center}.lead[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000}form[_ngcontent-%COMP%]{display:block;margin-top:0}.container-home[_ngcontent-%COMP%]{margin-top:8vh;background-color:#fff;padding:50px 0;color:#000}.small-title[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:#292929;text-decoration:none;font-size:24px}input[type=text][_ngcontent-%COMP%]{color:#444;font-size:20px;height:36px;border-radius:8px;width:100%;-webkit-box-flex:1;flex:1 1 100%;padding:8px 15px;border:0;outline:0;-webkit-appearance:none;background:#fff}input[type=submit][_ngcontent-%COMP%]{width:22px;height:22px;margin-right:15px;border:0;-webkit-box-flex:0;flex:0 0 auto;background:url(search.f306d4893303535509f3.png) center/contain no-repeat;-webkit-appearance:button;cursor:pointer}"]}),t})();var Yw={prefix:"fas",iconName:"arrow-right",icon:[448,512,[],"f061","M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"]},Xw={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},Zw={prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},Jw={prefix:"fas",iconName:"check-circle",icon:[512,512,[],"f058","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"]},tC={prefix:"fas",iconName:"heart",icon:[512,512,[],"f004","M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"]},eC={prefix:"fas",iconName:"sign-out-alt",icon:[512,512,[],"f2f5","M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"]},nC={prefix:"fas",iconName:"star",icon:[576,512,[],"f005","M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"]},rC={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]};let iC=(()=>{class t{constructor(t){this.afs=t,this.accountCollection=this.afs.collection("accounts")}getAccounts(){var t=this.afs.collection("accounts",t=>t.orderBy("creationDate","desc"));return this.accounts=t.snapshotChanges().pipe(U(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}getAccountById(t){return console.log("getAccountById",t),this.accountDocument=this.afs.doc(`accounts/${t}`),this.accountDocument.valueChanges()}getAccountByUid(t){console.log("getAccountById",t);var e=this.afs.collection("accounts",e=>e.where("uid","==",t).limit(1));return this.accounts=e.snapshotChanges().pipe(U(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}setAccount(t){const e=this.afs.createId();return t.id||(t.id=e),t.creationDate=new Date,t.modificationDate=new Date,this.accountCollection.doc(t.id).set(t,{merge:!0})}deleteAccount(t){return this.accountDocument=this.afs.doc(`accounts/${t.id}`),this.accountDocument.delete()}updateAccount(t){return t.modificationDate=new Date,this.accountDocument=this.afs.doc(`accounts/${t.id}`),this.accountDocument.update(t)}}return t.\u0275fac=function(e){return new(e||t)(te(i_))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function oC(t){return null!=t&&"false"!==`${t}`}function sC(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function aC(t){return Array.isArray(t)?t:[t]}function cC(t){return null==t?"":"string"==typeof t?t:`${t}px`}function uC(t){return t instanceof _u?t.nativeElement:t}function lC(t,e,n,r){return i(n)&&(r=n,n=void 0),r?lC(t,e,n).pipe(U(t=>u(t)?r(...t):r(t))):new w(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}const hC=new Mb(Pb);class dC{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new fC(t,this.durationSelector))}}class fC extends F{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=L(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function pC(t){return!u(t)&&t-parseFloat(t)+1>=0}function mC(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function gC(t,e=hC){return n=()=>(function(t=0,e,n){let r=-1;return pC(e)?r=Number(e)<1?1:Number(e):x(e)&&(n=e),x(n)||(n=hC),new w(e=>{const i=pC(t)?t:+t-n.now();return n.schedule(mC,i,{index:0,period:r,subscriber:e})})})(t,e),function(t){return t.lift(new dC(n))};var n}function yC(t){return e=>e.lift(new vC(t))}class vC{constructor(t){this.notifier=t}call(t,e){const n=new bC(t),r=L(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class bC extends F{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}let _C;try{_C="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(lN){_C=!1}let wC,CC=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?this._platformId===yf:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_C)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(te(jl,8))},t.\u0275prov=ft({factory:function(){return new t(te(jl,8))},token:t,providedIn:"root"}),t})(),SC=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})();const EC=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function TC(){if(wC)return wC;if("object"!=typeof document||!document)return wC=new Set(EC),wC;let t=document.createElement("input");return wC=new Set(EC.filter(e=>(t.setAttribute("type",e),t.type===e))),wC}let kC;function IC(t){return function(){if(null==kC&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>kC=!0}))}finally{kC=kC||!1}return kC}()?t:!!t.capture}const xC=new Vt("cdk-dir-doc",{providedIn:"root",factory:function(){return ee(Xh)}});let AC=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new fl,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(te(xC,8))},t.\u0275prov=ft({factory:function(){return new t(te(xC,8))},token:t,providedIn:"root"}),t})(),OC=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})();function DC(t){return t&&"function"==typeof t.connect}const PC=20;let NC=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new k,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=PC){return this._platform.isBrowser?new w(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(gC(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):op()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(gp(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>lC(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(te(eh),te(CC))},t.\u0275prov=ft({factory:function(){return new t(te(eh),te(CC))},token:t,providedIn:"root"}),t})(),RC=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[OC,SC],OC]}),t})();const MC=20;let LC=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?$(lC(window,"resize"),lC(window,"orientationchange")):op(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=MC){return t>0?this._change.pipe(gC(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(te(CC),te(eh))},t.\u0275prov=ft({factory:function(){return new t(te(CC),te(eh))},token:t,providedIn:"root"}),t})();function FC(){throw Error("Host already has a portal attached")}class UC{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&FC(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class jC extends UC{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class VC extends UC{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class BC extends UC{constructor(t){super(),this.element=t instanceof _u?t.nativeElement:t}}class qC{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&FC(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof jC?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof VC?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof BC?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class HC extends qC{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let WC=(()=>{class t extends qC{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new fl,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(oc(bu),oc(Gu),oc(Xh))},t.\u0275dir=Se({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Xc]}),t})(),zC=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})();class GC{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}const KC=27,QC=33,$C=34,YC=35,XC=36,ZC=37,JC=38,tS=39,eS=40;function nS(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}class rS{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=cC(-this._previousScrollPosition.left),t.style.top=cC(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function iS(){return Error("Scroll strategy has already been attached.")}class oS{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw iS();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class sS{enable(){}disable(){}attach(){}}function aS(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function cS(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class uS{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw iS();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();aS(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let lS=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new sS,this.close=t=>new oS(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new rS(this._viewportRuler,this._document),this.reposition=t=>new uS(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(te(NC),te(LC),te(eh),te(Xh))},t.\u0275prov=ft({factory:function(){return new t(te(NC),te(LC),te(eh),te(Xh))},token:t,providedIn:"root"}),t})();class hS{constructor(t){if(this.scrollStrategy=new sS,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class dS{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class fS{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function pS(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function mS(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let gS=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(te(Xh))},t.\u0275prov=ft({factory:function(){return new t(te(Xh))},token:t,providedIn:"root"}),t})(),yS=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.getElementsByClassName("cdk-overlay-container");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(te(Xh))},t.\u0275prov=ft({factory:function(){return new t(te(Xh))},token:t,providedIn:"root"}),t})();class vS{constructor(t,e,n,r,i,o,s,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._backdropElement=null,this._backdropClick=new k,this._attachments=new k,this._detachments=new k,this._locationChanges=d.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new w(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new k,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(Rp(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=cC(this._config.width),t.height=cC(this._config.height),t.minWidth=cC(this._config.minWidth),t.minHeight=cC(this._config.minHeight),t.maxWidth=cC(this._config.maxWidth),t.maxHeight=cC(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;aC(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(yC($(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const bS="cdk-overlay-connected-position-bounding-box";class _S{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new k,this._resizeSubscription=d.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add(bS),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),c=this._getOverlayFit(a,e,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&wS(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(bS),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){let{x:i,y:o}=t,s=this._getOffset(r,"x"),a=this._getOffset(r,"y");s&&(i+=s),a&&(o+=a);let c=0-o,u=o+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,c,u),d=l*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=this._overlayRef.getConfig().minHeight,s=this._overlayRef.getConfig().minWidth,a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),o=Math.max(t.y+e.height-r.bottom,0),s=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let c=0,u=0;return c=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,u=e.height<=r.height?s||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:c,y:u},{x:t.x+c,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new fS(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,c,u;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,i=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:o,left:c,bottom:s,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=cC(n.height),r.top=cC(n.top),r.bottom=cC(n.bottom),r.width=cC(n.width),r.left=cC(n.left),r.right=cC(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=cC(t)),i&&(r.maxWidth=cC(i))}this._lastBoundingBoxSize=n,wS(this._boundingBox.style,r)}_resetBoundingBoxStyles(){wS(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){wS(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();wS(n,this._getExactOverlayY(e,t,r)),wS(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=cC(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=cC(o.maxWidth):i&&(n.maxWidth="")),wS(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:null,bottom:null},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=`${this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)}px`:r.top=cC(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:null,right:null},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=`${this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)}px`:i.left=cC(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:cS(t,n),isOriginOutsideView:aS(t,n),isOverlayClipped:cS(e,n),isOverlayOutsideView:aS(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{mS("originX",t.originX),pS("originY",t.originY),mS("overlayX",t.overlayX),pS("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&aC(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof _u)return t.nativeElement.getBoundingClientRect();if(t instanceof HTMLElement)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function wS(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class CS{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new _S(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new dS(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const SS="cdk-global-overlay-wrapper";class ES{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(SS),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(SS),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let TS=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new ES}connectedTo(t,e,n){return new CS(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new _S(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(te(LC),te(Xh),te(CC),te(yS))},t.\u0275prov=ft({factory:function(){return new t(te(LC),te(Xh),te(CC),te(yS))},token:t,providedIn:"root"}),t})(),kS=0,IS=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new hS(t);return i.direction=i.direction||this._directionality.value,new vS(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${kS++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Sh)),new HC(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(te(lS),te(yS),te(bu),te(TS),te(gS),te(qa),te(eh),te(Xh),te(AC),te(dd,8))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const xS={provide:new Vt("cdk-connected-overlay-scroll-strategy"),deps:[IS],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let AS=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[IS,xS],imports:[[OC,zC,RC],RC]}),t})();class OS{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new DS(t,this.dueTime,this.scheduler))}}class DS extends m{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(PS,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function PS(t){t.debouncedNext()}let NS=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})(),RS=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[NS]}),t})(),MS=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(lN){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){const t=e&&e.nodeName.toLowerCase();if(-1===FS(e))return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&"object"===t)return!1;if((this._platform.BLINK||this._platform.WEBKIT)&&!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=FS(t);if(t.hasAttribute("contenteditable"))return-1!==i;if("iframe"===r)return!1;if("audio"===r){if(!t.hasAttribute("controls"))return!1;if(this._platform.BLINK)return!0}if("video"===r){if(!t.hasAttribute("controls")&&this._platform.TRIDENT)return!1;if(this._platform.BLINK||this._platform.FIREFOX)return!0}return("object"!==r||!this._platform.BLINK&&!this._platform.WEBKIT)&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&t.tabIndex>=0}isFocusable(t){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||LS(t))}(t)&&!this.isDisabled(t)&&this.isVisible(t)}}return t.\u0275fac=function(e){return new(e||t)(te(CC))},t.\u0275prov=ft({factory:function(){return new t(te(CC))},token:t,providedIn:"root"}),t})();function LS(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function FS(t){if(!LS(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class US{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], `+`[cdkFocusRegion${t}], `+`[cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated `+"attribute will be removed in 8.0.0.",e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', `+`use 'cdkFocusRegion${t}' instead. The deprecated attribute `+"will be removed in 8.0.0.",e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return t?(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),Mi()&&!this._checker.isFocusable(t)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",t),t.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.asObservable().pipe(Rp(1)).subscribe(t)}}let jS=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new US(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(te(MS),te(eh),te(Xh))},t.\u0275prov=ft({factory:function(){return new t(te(MS),te(eh),te(Xh))},token:t,providedIn:"root"}),t})();const VS=new Vt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),BS=new Vt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let qS=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(te(VS,8),te(eh),te(Xh),te(BS,8))},t.\u0275prov=ft({factory:function(){return new t(te(VS,8),te(eh),te(Xh),te(BS,8))},token:t,providedIn:"root"}),t})();const HS=650,WS=IC({passive:!0,capture:!0});let zS=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.composedPath?t.composedPath()[0]:t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,HS)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(t,e=!1){if(!this._platform.isBrowser)return op(null);const n=uC(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let r={unlisten:()=>{},checkChildren:e,subject:new k};this._elementInfo.set(n,r),this._incrementMonitoredElementCount();let i=t=>this._onFocus(t,n),o=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",i,!0),n.addEventListener("blur",o,!0)}),r.unlisten=()=>{n.removeEventListener("focus",i,!0),n.removeEventListener("blur",o,!0)},r.subject.asObservable()}stopMonitoring(t){const e=uC(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const r=uC(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,WS),document.addEventListener("mousedown",this._documentMousedownListener,WS),document.addEventListener("touchstart",this._documentTouchstartListener,WS),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,WS),document.removeEventListener("mousedown",this._documentMousedownListener,WS),document.removeEventListener("touchstart",this._documentTouchstartListener,WS),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.\u0275fac=function(e){return new(e||t)(te(eh),te(CC))},t.\u0275prov=ft({factory:function(){return new t(te(eh),te(CC))},token:t,providedIn:"root"}),t})();const GS="cdk-high-contrast-black-on-white",KS="cdk-high-contrast-white-on-black",QS="cdk-high-contrast-active";let $S=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=(this._document.defaultView.getComputedStyle(t).backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),e){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(QS),t.remove(GS),t.remove(KS);const e=this.getHighContrastMode();1===e?(t.add(QS),t.add(GS)):2===e&&(t.add(QS),t.add(KS))}}}return t.\u0275fac=function(e){return new(e||t)(te(CC),te(Xh))},t.\u0275prov=ft({factory:function(){return new t(te(CC),te(Xh))},token:t,providedIn:"root"}),t})(),YS=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(te($S))},imports:[[gf,SC,RS]]}),t})();const XS=new Iu("9.0.0-rc.6");class ZS{}class JS{}const tE="*";function eE(t,e){return{type:7,name:t,definitions:e,options:{}}}function nE(t,e=null){return{type:4,styles:e,timings:t}}function rE(t,e=null){return{type:2,steps:t,options:e}}function iE(t){return{type:6,styles:t,offset:null}}function oE(t,e,n){return{type:0,name:t,styles:e,options:n}}function sE(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function aE(t){Promise.resolve(null).then(t)}class cE{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){aE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class uE{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?aE(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const lE="!";function hE(){return"undefined"!=typeof process}function dE(t){switch(t.length){case 0:return new cE;case 1:return t[0];default:return new uE(t)}}function fE(t,e,n,r,i={},o={}){const s=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case lE:a=i[n];break;case tE:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),u=l,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function pE(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&mE(n,"start",t)));break;case"done":t.onDone(()=>r(n&&mE(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&mE(n,"destroy",t)))}}function mE(t,e,n){const r=n.totalTime,i=gE(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function gE(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function yE(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function vE(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let bE=(t,e)=>!1,_E=(t,e)=>!1,wE=(t,e,n)=>[];const CE=hE();(CE||"undefined"!=typeof Element)&&(bE=(t,e)=>t.contains(e),_E=(()=>{if(CE||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):_E}})(),wE=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let SE=null,EE=!1;function TE(t){SE||(SE=("undefined"!=typeof document?document.body:null)||{},EE=!!SE.style&&"WebkitAppearance"in SE.style);let e=!0;return SE.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in SE.style,!e&&EE)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in SE.style),e}const kE=_E,IE=bE,xE=wE;function AE(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let OE=(()=>{class t{validateStyleProperty(t){return TE(t)}matchesElement(t,e){return kE(t,e)}containsElement(t,e){return IE(t,e)}query(t,e,n){return xE(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new cE(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),DE=(()=>{class t{}return t.NOOP=new OE,t})();const PE=1e3,NE="{{",RE="ng-enter",ME="ng-leave",LE="ng-trigger",FE=".ng-trigger",UE="ng-animating",jE=".ng-animating";function VE(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:BE(parseFloat(e[1]),e[2])}function BE(t,e){switch(e){case"s":return t*PE;default:return t}}function qE(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=BE(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=BE(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function HE(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function WE(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else HE(t,n);return n}function zE(t,e,n){return n?e+":"+n+";":""}function GE(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=zE(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=zE(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function KE(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=eT(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),hE()&&GE(t))}function QE(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=eT(e);t.style[n]=""}),hE()&&GE(t))}function $E(t){return Array.isArray(t)?1==t.length?t[0]:rE(t):t}const YE=new RegExp(`${NE}\\s*(.+?)\\s*}}`,"g");function XE(t){let e=[];if("string"==typeof t){let n;for(;n=YE.exec(t);)e.push(n[1]);YE.lastIndex=0}return e}function ZE(t,e,n){const r=t.toString(),i=r.replace(YE,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function JE(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const tT=/-+([a-z0-9])/g;function eT(t){return t.replace(tT,(...t)=>t[1].toUpperCase())}function nT(t,e){return 0===t||0===e}function rT(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach((function(e){n[e]=oT(t,e)}))}}return e}function iT(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function oT(t,e){return window.getComputedStyle(t)[e]}const sT="*";function aT(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(lT(i,s)),"<"!=o[0]||i==sT&&s==sT||e.push(lT(s,i))})(t,n,e)):n.push(t),n}const cT=new Set(["true","1"]),uT=new Set(["false","0"]);function lT(t,e){const n=cT.has(t)||uT.has(t),r=cT.has(e)||uT.has(e);return(i,o)=>{let s=t==sT||t==i,a=e==sT||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?cT.has(t):uT.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?cT.has(e):uT.has(e)),s&&a}}const hT=":self",dT=new RegExp(`s*${hT}s*,?`,"g");function fT(t,e,n){return new mT(t).build(e,n)}const pT="";class mT{constructor(t){this._driver=t}build(t,e){const n=new gT(e);return this._resetContextStyleTimingState(n),iT(this,$E(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=pT,t.collectedStyles={},t.collectedStyles[pT]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(yT(t)){const e=t;Object.keys(e).forEach(t=>{XE(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=JE(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=iT(this,$E(t.animation),e);return{type:1,matchers:aT(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:vT(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>iT(this,t,e)),options:vT(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=iT(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:vT(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return bT(qE(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=bT(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||qE(r,e),bT(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:iE({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=iE(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==tE?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(yT(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf(NE)>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=XE(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(yT(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(yT(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),s=s||u<0||u>1,o=o||u<a,a=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:iT(this,$E(t.animation),e),options:vT(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:vT(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:vT(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==hT);return e&&(t=t.replace(dT,"")),[t=t.replace(/@\*/g,FE).replace(/@\w+/g,t=>FE+"-"+t.substr(1)).replace(/:animating/g,jE),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,yE(e.collectedStyles,e.currentQuerySelector,{});const s=iT(this,$E(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:vT(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:qE(t.timings,e.errors,!0);return{type:12,animation:iT(this,$E(t.animation),e),timings:n,options:null}}}class gT{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function yT(t){return!Array.isArray(t)&&"object"==typeof t}function vT(t){var e;return t?(t=HE(t)).params&&(t.params=(e=t.params)?HE(e):null):t={},t}function bT(t,e,n){return{duration:t,delay:e,easing:n}}function _T(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class wT{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const CT=1,ST=new RegExp(":enter","g"),ET=new RegExp(":leave","g");function TT(t,e,n,r,i,o={},s={},a,c,u=[]){return(new kT).buildKeyframes(t,e,n,r,i,o,s,a,c,u)}class kT{buildKeyframes(t,e,n,r,i,o,s,a,c,u=[]){c=c||new wT;const l=new xT(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),iT(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[_T(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?VE(n.duration):null,o=null!=n.delay?VE(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),iT(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=IT);const t=VE(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>iT(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?VE(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),iT(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return qE(e.params?ZE(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?VE(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=IT);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),iT(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;iT(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const IT={};class xT{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=IT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new AT(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=VE(n.duration)),null!=n.delay&&(r.delay=VE(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=ZE(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new xT(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=IT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new OT(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(ST,"."+this._enterClassName)).replace(ET,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class AT{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new AT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=CT,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||tE,this._currentKeyframe[t]=tE}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=tE})):WE(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=ZE(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:tE),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=WE(i,!0);Object.keys(s).forEach(n=>{const r=s[n];r==lE?t.add(n):r==tE&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?JE(t.values()):[],o=e.size?JE(e.values()):[];if(n){const t=r[0],e=HE(t);t.offset=0,e.offset=1,r=[t,e]}return _T(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class OT extends AT{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=WE(t[0],!1);a.offset=0,i.push(a);const c=WE(t[0],!1);c.offset=DT(s),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let s=WE(t[r],!1);s.offset=DT((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return _T(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function DT(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class PT{}class NT extends PT{normalizePropertyName(t,e){return eT(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(RT[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const RT=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function MT(t,e,n,r,i,o,s,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const LT={};class FT{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||LT,d=this.buildStyles(n,s&&s.params||LT,l),f=a&&a.params||LT,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,v="void"===r,b={params:Object.assign(Object.assign({},h),f)},_=u?[]:TT(t,e,this.ast.animation,i,o,d,p,b,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return MT(e,this._triggerName,n,r,v,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=yE(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=yE(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const C=JE(m.values());return MT(e,this._triggerName,n,r,v,d,p,_,C,g,y,w)}}class UT{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=HE(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=ZE(o,r,e)),n[t]=o})}}),n}}class jT{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new UT(t.style,t.options&&t.options.params||{})}),VT(this.states,"true","1"),VT(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new FT(t,e,this.states))}),this.fallbackTransition=new FT(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function VT(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const BT=new wT;class qT{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=fT(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=fE(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=TT(this._driver,e,i,RE,ME,{},{},n,BT,r),o.forEach(t=>{const e=yE(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,tE)})});const a=dE(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=gE(e,"","","");return pE(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const HT="ng-animate-queued",WT=".ng-animate-queued",zT="ng-animate-disabled",GT=".ng-animate-disabled",KT="ng-star-inserted",QT=".ng-star-inserted",$T=[],YT={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},XT={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ZT="__ng_removed";class JT{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=HE(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const tk="void",ek=new JT(tk);class nk{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,lk(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=yE(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=yE(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(lk(t,LE),lk(t,LE+"-"+e),a[e]=ek),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new ik(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(lk(t,LE),lk(t,LE+"-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new JT(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=ek),c.value!==tk&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{QE(t,n),KE(t,r)})}return}const u=yE(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(lk(t,HT),o.onStart(()=>{hk(t,HT)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,FE,!0);n.forEach(t=>{if(t[ZT])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,tk,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&dE(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||ek,s=new JT(tk),a=new ik(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){lk(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=gE(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,pE(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class rk{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new nk(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(ok(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!ok(e))return;const i=e[ZT];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),lk(t,zT)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),hk(t,zT))}removeNode(t,e,n,r){if(ok(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[ZT]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return ok(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,FE,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,jE,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return dE(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[ZT];if(e&&e.setForRemoval){if(t[ZT]=YT,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,GT)&&this.markElementAsDisabled(t,!1),this.driver.query(t,GT,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)lk(this.collectedEnterElements[n],KT);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?dE(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new wT,r=[],i=new Map,o=[],s=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,WT,!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=ck(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=RE+p++;f.set(e,n),t.forEach(t=>lk(t,n))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t[ZT];e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,QT,!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,b=ck(h,Array.from(g));b.forEach((t,e)=>{const n=ME+p++;v.set(e,n),t.forEach(t=>lk(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>hk(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>hk(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i[ZT];if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(!p.errors||!p.errors.length)return u?(e.onStart(()=>QE(i,p.fromStyles)),e.onDestroy(()=>KE(i,p.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>QE(i,p.fromStyles)),e.onDestroy(()=>KE(i,p.toStyles)),void r.push(e)):(p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>yE(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(p)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,S=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{yE(C,e,[]).push(t),t.destroy()})});const E=m.filter(t=>fk(t,a,c)),T=new Map;ak(T,this.driver,y,c,tE).forEach(t=>{fk(t,a,c)&&E.push(t)});const k=new Map;d.forEach((t,e)=>{ak(k,this.driver,new Set(t),a,lE)}),E.forEach(t=>{const e=T.get(t),n=k.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>KE(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=A;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,i,k,T);if(o.setRealPlayer(n),t===A)I.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=dE(e)),r.push(o)}}else QE(e,s.fromStyles),o.onDestroy(()=>KE(e,s.toStyles)),x.push(o),u.has(e)&&r.push(o)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=dE(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<m.length;O++){const t=m[O],e=t[ZT];if(hk(t,ME),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,jE,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?dk(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e[ZT];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==tk;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,c=yE(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}QE(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h[ZT];if(d&&d.removedBeforeQueried)return new cE(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof uE?t(i.players,n):n.push(i)}}(t,e),e}((n.get(h)||$T).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),y=fE(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new ik(t,s,h);e.setRealPlayer(v),c.push(e)}return v});c.forEach(t=>{yE(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r})(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>lk(t,UE));const d=dE(h);return d.onDestroy(()=>{u.forEach(t=>hk(t,UE)),KE(a,e.toStyles)}),l.forEach(t=>{yE(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new cE(t.duration,t.delay)}}class ik{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new cE,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>pE(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){yE(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ok(t){return t&&1===t.nodeType}function sk(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function ak(t,e,n,r,i){const o=[];n.forEach(t=>o.push(sk(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[ZT]=XT,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>sk(t,o[a++])),s}function ck(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}const uk="$$classes";function lk(t,e){if(t.classList)t.classList.add(e);else{let n=t[uk];n||(n=t[uk]={}),n[e]=!0}}function hk(t,e){if(t.classList)t.classList.remove(e);else{let n=t[uk];n&&delete n[e]}}function dk(t,e,n){dE(n).onDone(()=>t.processLeaveNode(e))}function fk(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class pk{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new rk(t,e,n),this._timelineEngine=new qT(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=fT(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new jT(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=vE(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=vE(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function mk(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=yk(e[0]),e.length>1&&(r=yk(e[e.length-1]))):e&&(n=yk(e)),n||r?new gk(t,n,r):null}let gk=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&KE(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(KE(this._element,this._initialStyles),this._endStyles&&(KE(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(QE(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(QE(this._element,this._endStyles),this._endStyles=null),KE(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function yk(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];vk(i)&&(e=e||{},e[i]=t[i])}return e}function vk(t){return"display"===t||"position"===t}const bk=3,_k="animation",wk="animationend",Ck=1e3;class Sk{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Ak(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),xk(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ik(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ek(this._element,this._name,"paused")}resume(){Ek(this._element,this._name,"running")}setPosition(t){const e=Tk(this._element,this._name);this._position=t*this._duration,xk(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(bk))*Ck;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ik(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Ak(t,"").split(","),r=kk(n,e);r>=0&&(n.splice(r,1),xk(t,"",n.join(",")))}(this._element,this._name))}}function Ek(t,e,n){xk(t,"PlayState",n,Tk(t,e))}function Tk(t,e){const n=Ak(t,"");return n.indexOf(",")>0?kk(n.split(","),e):kk([n],e)}function kk(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ik(t,e,n){n?t.removeEventListener(wk,e):t.addEventListener(wk,e)}function xk(t,e,n,r){const i=_k+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Ak(t,e){return t.style[_k+e]}const Ok="forwards",Dk="linear";class Pk{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||Dk,this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Sk(this.element,this.animationName,this._duration,this._delay,this.easing,Ok,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:oT(this.element,n))})}this.currentSnapshot=t}}class Nk extends cE{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=AE(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const Rk="gen_css_kf_",Mk=" ";class Lk{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return TE(t)}matchesElement(t,e){return kE(t,e)}containsElement(t,e){return IE(t,e)}query(t,e,n){return xE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>AE(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=Mk;const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=Mk,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof Pk),c={};nT(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=rT(t,e,c));if(0==n)return new Nk(t,u);const l=`${Rk}${this._count++}`,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=mk(t,e),f=new Pk(t,e,l,n,r,i,u,d);return f.onDestroy(()=>(function(t){t.parentNode.removeChild(t)})(h)),f}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Fk{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:oT(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Uk{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(jk().toString()),this._cssKeyframesDriver=new Lk}validateStyleProperty(t){return TE(t)}matchesElement(t,e){return kE(t,e)}containsElement(t,e){return IE(t,e)}query(t,e,n){return xE(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=o.filter(t=>t instanceof Fk);nT(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=mk(t,e=rT(t,e=e.map(t=>WE(t,!1)),c));return new Fk(t,e,a,l)}}function jk(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Vk=(()=>{class t extends ZS{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:de.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?rE(t):t;return Hk(this._renderer,null,e,"register",[n]),new Bk(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(te(Cu),te(Xh))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Bk extends JS{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new qk(this._id,t,e||{},this._renderer)}}class qk{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Hk(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Hk(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Wk="@",zk="@.disabled";let Gk=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Kk("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new Qk(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(te(Cu),te(pk),te(eh))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class Kk{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Wk&&e==zk?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Qk extends Kk{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Wk?"."==e.charAt(1)&&e==zk?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Wk){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=Wk&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let $k=(()=>{class t extends pk{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(te(Xh),te(DE),te(PT))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const Yk=new Vt("AnimationModuleType"),Xk=[{provide:DE,useFactory:function(){return"function"==typeof jk()?new Uk:new Lk}},{provide:Yk,useValue:"BrowserAnimations"},{provide:ZS,useClass:Vk},{provide:PT,useFactory:function(){return new NT}},{provide:pk,useClass:$k},{provide:Cu,useFactory:function(t,e,n){return new Gk(t,e,n)},deps:[Bf,pk,eh]}];let Zk=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:Xk,imports:[ip]}),t})();const Jk=[1,"mat-ripple"],tI=new Iu("9.0.0-rc.6"),eI=new Vt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let nI=(()=>{class t{constructor(t,e){this._hasDoneGlobalChecks=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checksAreEnabled(){return Mi()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document&&this._document.body&&"function"==typeof getComputedStyle))return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&tI.full!==XS.full&&console.warn("The Angular Material version ("+tI.full+") does not match the Angular CDK version ("+XS.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)(te($S),te(eI,8))},imports:[[OC],OC]}),t})();function rI(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=oC(t)}}}function iI(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function oI(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=oC(t)}}}function sI(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function aI(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new k}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}const cI=new Vt("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return ee(ql)}});class uI{constructor(){this._localeChanges=new k}get localeChanges(){return this._localeChanges}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const lI=new Vt("mat-date-formats");let hI;try{hI="undefined"!=typeof Intl}catch(lN){hI=!1}const dI={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},fI=gI(31,t=>String(t+1)),pI={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},mI=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function gI(t,e){const n=Array(t);for(let r=0;r<t;r++)n[r]=e(r);return n}let yI=(()=>{class t extends uI{constructor(t,e){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!e.TRIDENT,this._clampDate=e.TRIDENT||e.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(hI){const e=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return gI(12,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,t,1))))}return dI[t]}getDateNames(){if(hI){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return gI(31,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return fI}getDayOfWeekNames(t){if(hI){const e=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return gI(7,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return pI[t]}getYearName(t){if(hI){const e=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(e,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,e,n){if(e<0||e>11)throw Error(`Invalid month index "${e}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let r=this._createDateWithOverflow(t,e,n);if(r.getMonth()!=e)throw Error(`Invalid date "${n}" for month with index "${e}".`);return r}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,e){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(hI){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),e=Object.assign(Object.assign({},e),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,e);return this._stripDirectionalityCharacters(this._format(n,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,e){return this.addCalendarMonths(t,12*e)}addCalendarMonths(t,e){let n=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+e,this.getDate(t));return this.getMonth(n)!=((this.getMonth(t)+e)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(t,e){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+e)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(mI.test(t)){let e=new Date(t);if(this.isValid(e))return e}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(t,e,n){const r=new Date(t,e,n);return t>=0&&t<100&&r.setFullYear(this.getYear(r)-1900),r}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,e){const n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.format(n)}}return t.\u0275fac=function(e){return new(e||t)(te(cI,8),te(CC))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),vI=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[{provide:uI,useClass:yI}],imports:[[SC]]}),t})();const bI={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let _I=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[{provide:lI,useValue:bI}],imports:[[vI]]}),t})(),wI=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})(),CI=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[nI],nI]}),t})();const SI=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class EI{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=SI.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const TI={enterDuration:450,exitDuration:400},kI=800,II=IC({passive:!0});class xI{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+kI;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===SI.VISIBLE||t.config.terminateOnPointerUp&&t.state===SI.FADING_IN)&&t.fadeOut()}))},r.isBrowser&&(this._containerElement=uC(n),this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},TI),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-o}px`,u.style.top=`${a-o}px`,u.style.height=`${2*o}px`,u.style.width=`${2*o}px`,u.style.backgroundColor=n.color||null,u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new EI(this,u,n);return l.state=SI.FADING_IN,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=SI.VISIBLE,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},TI),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=SI.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=SI.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=uC(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((t,n)=>{e.addEventListener(n,t,II)})}),this._triggerElement=e)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,II)})}}const AI=new Vt("mat-ripple-global-options");let OI=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new xI(this,e,t,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign({},this._globalOptions.animation),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(oc(_u),oc(eh),oc(CC),oc(AI,8),oc(Yk,8))},t.\u0275dir=Se({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostBindings:function(t,e,n){1&t&&(Ka(1),Sc(Jk)),2&t&&uc("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),DI=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[nI,SC],nI]}),t})(),PI=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})(),NI=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[DI,gf,PI]]}),t})();const RI=["tabindex","-1","aria-modal","true",1,"mat-dialog-container"];function MI(t,e){}const LI=[1,"mat-dialog-title"],FI=[1,"mat-dialog-content"];class UI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const jI={dialogContainer:eE("dialogContainer",[oE("void, exit",iE({opacity:0,transform:"scale(0.7)"})),oE("enter",iE({transform:"none"})),sE("* => enter",nE("150ms cubic-bezier(0, 0, 0.2, 1)",iE({transform:"none",opacity:1}))),sE("* => void, * => exit",nE("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",iE({opacity:0})))])};function VI(){throw Error("Attempting to attach dialog content after content is already attached")}let BI=(()=>{class t extends qC{constructor(t,e,n,r,i){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=i,this._elementFocusedBeforeDialogWasOpened=null,this._state="enter",this._animationStateChanged=new fl,this.attachDomPortal=t=>(this._portalOutlet.hasAttached()&&VI(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=i.ariaLabelledBy||null,this._document=r}attachComponentPortal(t){return this._portalOutlet.hasAttached()&&VI(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached()&&VI(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)}_trapFocus(){const t=this._elementRef.nativeElement;if(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(t)),this._config.autoFocus)this._focusTrap.focusInitialElementWhenReady();else{const e=this._document.activeElement;e===t||t.contains(e)||t.focus()}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._document.activeElement,n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||t.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_onAnimationDone(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)}_onAnimationStart(t){this._animationStateChanged.emit(t)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(oc(_u),oc(jS),oc(ka),oc(Xh,8),oc(UI))},t.\u0275cmp=ye({type:t,selectors:[["mat-dialog-container"]],viewQuery:function(t,e){var n;1&t&&Tl(WC,!0),2&t&&El(n=Al())&&(e._portalOutlet=n.first)},hostBindings:function(t,e,n){1&t&&(Ka(6),Pc("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),Sc(RI)),2&t&&(nc("id",e._id)("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),$c("@dialogContainer",e._state))},features:[Xc],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&ic(0,MI,0,0,"ng-template",0)},directives:[WC],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[jI.dialogContainer]}}),t})(),qI=0;class HI{constructor(t,e,n=`mat-dialog-${qI++}`){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new k,this._afterClosed=new k,this._beforeClosed=new k,this._state=0,e._id=n,e._animationStateChanged.pipe(gp(t=>"done"===t.phaseName&&"enter"===t.toState),Rp(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(gp(t=>"done"===t.phaseName&&"exit"===t.toState),Rp(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._overlayRef.dispose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(gp(t=>t.keyCode===KC&&!this.disableClose&&!nS(t))).subscribe(t=>{t.preventDefault(),this.close()})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(gp(t=>"start"===t.phaseName),Rp(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._state=2,this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},e.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}const WI=new Vt("MatDialogData"),zI=new Vt("mat-dialog-default-options"),GI=new Vt("mat-dialog-scroll-strategy"),KI={provide:GI,deps:[IS],useFactory:function(t){return()=>t.scrollStrategies.block()}};let QI=(()=>{class t{constructor(t,e,n,r,i,o,s){this._overlay=t,this._injector=e,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new k,this._afterOpenedAtThisLevel=new k,this._ariaHiddenElements=new Map,this.afterAllClosed=pp(()=>this.openDialogs.length?this._afterAllClosed:this._afterAllClosed.pipe(Wp(void 0))),this._scrollStrategy=i}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}get _afterAllClosed(){const t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel}open(t,e){if((e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new UI)).id&&this.getDialogById(e.id))throw Error(`Dialog with id "${e.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new hS({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=new GC(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[UI,e]])),r=new jC(BI,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(r).instance}_attachDialogContent(t,e,n,r){const i=new HI(n,e,r.id);if(r.hasBackdrop&&n.backdropClick().subscribe(()=>{i.disableClose||i.close()}),t instanceof Wu)e.attachTemplatePortal(new VC(t,null,{$implicit:r.data,dialogRef:i}));else{const n=this._createInjector(r,i,e),o=e.attachComponentPortal(new jC(t,r.viewContainerRef,n));i.componentInstance=o.instance}return i.updateSize(r.width,r.height).updatePosition(r.position),i}_createInjector(t,e,n){const r=t&&t.viewContainerRef&&t.viewContainerRef.injector,i=new WeakMap([[BI,n],[WI,t.data],[HI,e]]);return!t.direction||r&&r.get(AC,null)||i.set(AC,{value:t.direction,change:op()}),new GC(r||this._injector,i)}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._afterAllClosed.next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(te(IS),te(qa),te(dd,8),te(zI,8),te(GI),te(t,12),te(yS))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),$I=0,YI=(()=>{class t{constructor(t,e,n){this._dialogRef=t,this._elementRef=e,this._dialog=n,this.id=`mat-dialog-title-${$I++}`}ngOnInit(){this._dialogRef||(this._dialogRef=function(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?e.find(t=>t.id===n.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return t.\u0275fac=function(e){return new(e||t)(oc(HI,8),oc(_u),oc(QI))},t.\u0275dir=Se({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostBindings:function(t,e,n){1&t&&(Ka(1),Sc(LI)),2&t&&Qc("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t})(),XI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Se({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostBindings:function(t,e,n){1&t&&Sc(FI)}}),t})(),ZI=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[QI,KI],imports:[[gf,AS,zC,nI],nI]}),t})(),JI=(()=>{let t=class{constructor(t,e,n,r){this.zone=r;const i=new Ub(r,n);this.auth=r.runOutsideAngular(()=>$b(t,r,e).auth()),this.authState=i.keepUnstableUntilFirst(i.runOutsideAngular(new w(t=>({unsubscribe:this.auth.onAuthStateChanged(t)})))),this.user=i.keepUnstableUntilFirst(i.runOutsideAngular(new w(t=>({unsubscribe:this.auth.onIdTokenChanged(t)})))),this.idToken=this.user.pipe(Vp(t=>t?q(t.getIdToken()):op(null))),this.idTokenResult=this.user.pipe(Vp(t=>t?q(t.getIdTokenResult()):op(null)))}};return t.\u0275fac=function(e){return new(e||t)(te(Kb),te(Qb,8),te(jl),te(eh))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();n("t6oF");var tx=n("yXDX"),ex=n.n(tx);n("Tlfp"),n("v/ix"),n("F/NL"),n("XBV3"),n("+OzK"),(function(){(function(){var t,e,n="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e};if("function"==typeof Object.setPrototypeOf)e=Object.setPrototypeOf;else{var r;t:{var i={};try{i.__proto__={zb:!0},r=i.zb;break t}catch(Jt){}r=!1}e=r?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var o=e;function s(t,e){if(t.prototype=n(e.prototype),t.prototype.constructor=t,o)o(t,e);else for(var r in e)if("prototype"!=r)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(e,r);i&&Object.defineProperty(t,r,i)}else t[r]=e[r];t.K=e.prototype}var a="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},c="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function u(t,e){if(e){var n=c;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];i in n||(n[i]={}),n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&a(n,t,{configurable:!0,writable:!0,value:e})}}function l(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function h(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:l(t)}}u("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),u("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length;for(0>(e=e||0)&&(e=Math.max(e+r,0));e<r;e++){var i=n[e];if(i===t||Object.is(i,t))return!0}return!1}})),u("Promise",(function(t){function e(t){this.f=0,this.h=void 0,this.a=[];var e=this.j();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.f=function(t){if(null==this.a){this.a=[];var e=this;this.h((function(){e.m()}))}this.a.push(t)};var i=c.setTimeout;n.prototype.h=function(t){i(t,0)},n.prototype.m=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.j(r)}}}this.a=null},n.prototype.j=function(t){this.h((function(){throw t}))},e.prototype.j=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.J),reject:t(this.m)}},e.prototype.J=function(t){if(t===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.M(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.H(t):this.i(t)}},e.prototype.H=function(t){var e=void 0;try{e=t.then}catch(n){return void this.m(n)}"function"==typeof e?this.N(e,t):this.i(t)},e.prototype.m=function(t){this.w(2,t)},e.prototype.i=function(t){this.w(1,t)},e.prototype.w=function(t,e){if(0!=this.f)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.f);this.f=t,this.h=e,this.C()},e.prototype.C=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)o.f(this.a[t]);this.a=null}};var o=new n;return e.prototype.M=function(t){var e=this.j();t.Ia(e.resolve,e.reject)},e.prototype.N=function(t,e){var n=this.j();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Ia(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ia=function(t,e){function n(){switch(r.f){case 1:t(r.h);break;case 2:e(r.h);break;default:throw Error("Unexpected state: "+r.f)}}var r=this;null==this.a?o.f(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=h(t),o=i.next();!o.done;o=i.next())r(o.value).Ia(e,n)}))},e.all=function(t){var n=h(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Ia(o(s.length-1),e),i=n.next()}while(!i.done)}))},e}));var d=this;function f(t){return void 0!==t}function p(t){return"string"==typeof t}var m=/^[\w+/_-]+[=]{0,2}$/,g=null;function y(){}function v(t){t.V=void 0,t.Ya=function(){return t.V?t.V:t.V=new t}}function b(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function _(t){return"array"==b(t)}function w(t){var e=b(t);return"array"==e||"object"==e&&"number"==typeof t.length}function C(t){return"function"==b(t)}function S(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var E="closure_uid_"+(1e9*Math.random()>>>0),T=0;function k(t,e,n){return t.call.apply(t.bind,arguments)}function I(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function x(t,e,n){return(x=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:I).apply(null,arguments)}function A(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function O(t,e){for(var n in e)t[n]=e[n]}var D,P=Date.now||function(){return+new Date};function N(t,e){t=t.split(".");var n,r=d;t[0]in r||void 0===r.execScript||r.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)!t.length&&f(e)?r[n]=e:r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}}function R(t,e){function n(){}n.prototype=e.prototype,t.K=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.uc=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function M(t){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");M.call(this,n+t[r])}function F(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}R(M,Error),M.prototype.name="CustomError",R(L,M),L.prototype.name="AssertionError";var U=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(p(t))return p(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},j=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},V=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o=p(t)?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},B=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=p(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},q=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=p(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function H(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;o<r;o++)if(o in i&&e.call(n,i[o],o,t))return o;return-1}function W(t,e){return 0<=U(t,e)}function z(t,e){var n;return(n=0<=(e=U(t,e)))&&G(t,e),n}function G(t,e){return 1==Array.prototype.splice.call(t,e,1).length}function K(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function $(t,e,n,r){return Array.prototype.splice.apply(t,Y(arguments,1))}function Y(t,e,n){return 2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,n)}var X=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,J=/</g,tt=/>/g,et=/"/g,nt=/'/g,rt=/\x00/g,it=/[\x00&<>"']/;function ot(t,e){return t<e?-1:t>e?1:0}function st(t){return it.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(J,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(tt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(et,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(nt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(rt,"&#0;"))),t}function at(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ct(t){var e,n={};for(e in t)n[e]=t[e];return n}var ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ut.length;o++)n=ut[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}var ht="StopIteration"in d?d.StopIteration:{message:"StopIteration",stack:""};function dt(){}function ft(t){if(t instanceof dt)return t;if("function"==typeof t.ha)return t.ha(!1);if(w(t)){var e=0,n=new dt;return n.next=function(){for(;;){if(e>=t.length)throw ht;if(e in t)return t[e++];e++}},n}throw Error("Not implemented")}function pt(t,e){this.f={},this.a=[],this.j=this.h=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof pt)for(n=t.ja(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function mt(t){if(t.h!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];gt(t.f,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.h!=t.a.length){var i={};for(n=e=0;e<t.a.length;)gt(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function gt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}dt.prototype.next=function(){throw ht},dt.prototype.ha=function(){return this},(t=pt.prototype).la=function(){mt(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.f[this.a[e]]);return t},t.ja=function(){return mt(this),this.a.concat()},t.clear=function(){this.f={},this.j=this.h=this.a.length=0},t.get=function(t,e){return gt(this.f,t)?this.f[t]:e},t.set=function(t,e){gt(this.f,t)||(this.h++,this.a.push(t),this.j++),this.f[t]=e},t.forEach=function(t,e){for(var n=this.ja(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},t.ha=function(t){mt(this);var e=0,n=this.j,r=this,i=new dt;return i.next=function(){if(n!=r.j)throw Error("The map has changed since the iterator was created");if(e>=r.a.length)throw ht;var i=r.a[e++];return t?i:r.f[i]},i};var yt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vt(t,e,n,r){for(var i=n.length;0<=(e=t.indexOf(n,e))&&e<r;){var o=t.charCodeAt(e-1);if(!(38!=o&&63!=o||(o=t.charCodeAt(e+i))&&61!=o&&38!=o&&35!=o))return e;e+=i+1}return-1}var bt=/#|$/;function _t(t,e){var n=t.search(bt),r=vt(t,0,e,n);if(0>r)return null;var i=t.indexOf("&",r);return(0>i||i>n)&&(i=n),r+=e.length+1,decodeURIComponent(t.substr(r,i-r).replace(/\+/g," "))}var wt=/[?&]($|#)/;function Ct(t,e){var n;this.h=this.w=this.j="",this.C=null,this.m=this.f="",this.i=!1,t instanceof Ct?(this.i=f(e)?e:t.i,St(this,t.j),this.w=t.w,this.h=t.h,Et(this,t.C),this.f=t.f,Tt(this,Vt(t.a)),this.m=t.m):t&&(n=String(t).match(yt))?(this.i=!!e,St(this,n[1]||"",!0),this.w=xt(n[2]||""),this.h=xt(n[3]||"",!0),Et(this,n[4]),this.f=xt(n[5]||"",!0),Tt(this,n[6]||"",!0),this.m=xt(n[7]||"")):(this.i=!!e,this.a=new Lt(null,this.i))}function St(t,e,n){t.j=n?xt(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Et(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.C=e}else t.C=null}function Tt(t,e,n){e instanceof Lt?(t.a=e,function(t,e){e&&!t.j&&(Ft(t),t.h=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ut(this,e),Ut(this,n),0<t.length&&(this.h=null,this.a.set(Bt(this,n),Q(t)),this.f+=t.length))}),t)),t.j=e}(t.a,t.i)):(n||(e=At(e,Rt)),t.a=new Lt(e,t.i))}function kt(t){return t instanceof Ct?new Ct(t):new Ct(t,void 0)}function It(t,e){return t instanceof Ct||(t=kt(t)),e instanceof Ct||(e=kt(e)),t.resolve(e)}function xt(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function At(t,e,n){return p(t)?(t=encodeURI(t).replace(e,Ot),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ot(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ct.prototype.toString=function(){var t=[],e=this.j;e&&t.push(At(e,Dt,!0),":");var n=this.h;return(n||"file"==e)&&(t.push("//"),(e=this.w)&&t.push(At(e,Dt,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.C)&&t.push(":",String(n))),(n=this.f)&&(this.h&&"/"!=n.charAt(0)&&t.push("/"),t.push(At(n,"/"==n.charAt(0)?Nt:Pt,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.m)&&t.push("#",At(n,Mt)),t.join("")},Ct.prototype.resolve=function(t){var e=new Ct(this),n=!!t.j;n?St(e,t.j):n=!!t.w,n?e.w=t.w:n=!!t.h,n?e.h=t.h:n=null!=t.C;var r=t.f;if(n)Et(e,t.C);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.h&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.a.toString(),n?Tt(e,Vt(t.a)):n=!!t.m,n&&(e.m=t.m),e};var Dt=/[#\/\?@]/g,Pt=/[#\?:]/g,Nt=/[#\?]/g,Rt=/[#\?@]/g,Mt=/#/g;function Lt(t,e){this.f=this.a=null,this.h=t||null,this.j=!!e}function Ft(t){t.a||(t.a=new pt,t.f=0,t.h&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.h,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ut(t,e){Ft(t),e=Bt(t,e),gt(t.a.f,e)&&(t.h=null,t.f-=t.a.get(e).length,gt((t=t.a).f,e)&&(delete t.f[e],t.h--,t.j++,t.a.length>2*t.h&&mt(t)))}function jt(t,e){return Ft(t),e=Bt(t,e),gt(t.a.f,e)}function Vt(t){var e=new Lt;return e.h=t.h,t.a&&(e.a=new pt(t.a),e.f=t.f),e}function Bt(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function qt(t){this.a=kt(t)}function Ht(t){return t.a.a.get(Gt.Qa)||null}function Wt(t,e){e?t.a.a.set(Gt.PROVIDER_ID,e):Ut(t.a.a,Gt.PROVIDER_ID)}(t=Lt.prototype).add=function(t,e){Ft(this),this.h=null,t=Bt(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.f+=1,this},t.clear=function(){this.a=this.h=null,this.f=0},t.forEach=function(t,e){Ft(this),this.a.forEach((function(n,r){j(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.ja=function(){Ft(this);for(var t=this.a.la(),e=this.a.ja(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.la=function(t){Ft(this);var e=[];if(p(t))jt(this,t)&&(e=K(e,this.a.get(Bt(this,t))));else{t=this.a.la();for(var n=0;n<t.length;n++)e=K(e,t[n])}return e},t.set=function(t,e){return Ft(this),this.h=null,jt(this,t=Bt(this,t))&&(this.f-=this.a.get(t).length),this.a.set(t,[e]),this.f+=1,this},t.get=function(t,e){return t&&0<(t=this.la(t)).length?String(t[0]):e},t.toString=function(){if(this.h)return this.h;if(!this.a)return"";for(var t=[],e=this.a.ja(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.la(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.h=t.join("&")},qt.prototype.toString=function(){return this.a.toString()};var zt,Gt={Qa:"ui_auid",kc:"apiKey",Ra:"ui_sd",wb:"mode",ab:"oobCode",PROVIDER_ID:"ui_pid",Ta:"ui_sid",xb:"tenantId"};t:{var Kt=d.navigator;if(Kt){var Qt=Kt.userAgent;if(Qt){zt=Qt;break t}}zt=""}function $t(t){return-1!=zt.indexOf(t)}function Yt(){return($t("Chrome")||$t("CriOS"))&&!$t("Edge")}function Xt(t){return Xt[" "](t),t}Xt[" "]=y;var Zt,Jt,te=$t("Opera"),ee=$t("Trident")||$t("MSIE"),ne=$t("Edge"),re=ne||ee,ie=$t("Gecko")&&!(-1!=zt.toLowerCase().indexOf("webkit")&&!$t("Edge"))&&!($t("Trident")||$t("MSIE"))&&!$t("Edge"),oe=-1!=zt.toLowerCase().indexOf("webkit")&&!$t("Edge"),se=oe&&$t("Mobile"),ae=$t("Macintosh");function ce(){var t=d.document;return t?t.documentMode:void 0}t:{var ue="",le=(Jt=zt,ie?/rv:([^\);]+)(\)|;)/.exec(Jt):ne?/Edge\/([\d\.]+)/.exec(Jt):ee?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Jt):oe?/WebKit\/(\S+)/.exec(Jt):te?/(?:Version)[ \/]?(\S+)/.exec(Jt):void 0);if(le&&(ue=le?le[1]:""),ee){var he=ce();if(null!=he&&he>parseFloat(ue)){Zt=String(he);break t}}Zt=ue}var de,fe={};function pe(t){return function(t,e){var n=fe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=X(String(Zt)).split("."),r=X(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ot(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ot(0==s[2].length,0==a[2].length)||ot(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}var me=d.document;function ge(t,e){this.a=t===be&&e||"",this.f=ve}function ye(t){return t instanceof ge&&t.constructor===ge&&t.f===ve?t.a:(F("expected object of type Const, got '"+t+"'"),"type_error:Const")}de=me&&ee?ce()||("CSS1Compat"==me.compatMode?parseInt(Zt,10):5):void 0,ge.prototype.ma=!0,ge.prototype.ka=function(){return this.a},ge.prototype.toString=function(){return"Const{"+this.a+"}"};var ve={},be={};function _e(){this.a="",this.h=Ce}function we(t){return t instanceof _e&&t.constructor===_e&&t.h===Ce?t.a:(F("expected object of type TrustedResourceUrl, got '"+t+"' of type "+b(t)),"type_error:TrustedResourceUrl")}_e.prototype.ma=!0,_e.prototype.ka=function(){return this.a.toString()},_e.prototype.f=function(){return 1},_e.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ce={};function Se(t){var e=new _e;return e.a=t,e}function Ee(){this.a="",this.h=Ae}function Te(t){return ke(t).toString()}function ke(t){return t instanceof Ee&&t.constructor===Ee&&t.h===Ae?t.a:(F("expected object of type SafeUrl, got '"+t+"' of type "+b(t)),"type_error:SafeUrl")}Ee.prototype.ma=!0,Ee.prototype.ka=function(){return this.a.toString()},Ee.prototype.f=function(){return 1},Ee.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ie=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function xe(t){return t instanceof Ee?t:(t="object"==typeof t&&t.ma?t.ka():String(t),Ie.test(t)||(t="about:invalid#zClosurez"),Oe(t))}var Ae={};function Oe(t){var e=new Ee;return e.a=t,e}function De(){this.a="",this.f=Pe}Oe("about:blank"),De.prototype.ma=!0;var Pe={};function Ne(){this.a="",this.j=Me,this.h=null}function Re(t){return t instanceof Ne&&t.constructor===Ne&&t.j===Me?t.a:(F("expected object of type SafeHtml, got '"+t+"' of type "+b(t)),"type_error:SafeHtml")}De.prototype.ka=function(){return this.a},De.prototype.toString=function(){return"SafeStyle{"+this.a+"}"},Ne.prototype.f=function(){return this.h},Ne.prototype.ma=!0,Ne.prototype.ka=function(){return this.a.toString()},Ne.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Me={};function Le(t,e){var n=new Ne;return n.a=t,n.h=e,n}Le("<!DOCTYPE html>",0);var Fe=Le("",0);Le("<br>",0);var Ue,je,Ve=(je=!1,function(){return je||(Ue=function(){if("undefined"==typeof document)return!1;var t=document.createElement("div"),e=document.createElement("div");return e.appendChild(document.createElement("div")),t.appendChild(e),!!t.firstChild&&(e=t.firstChild.firstChild,t.innerHTML=Re(Fe),!e.parentElement)}(),je=!0),Ue});function Be(t,e){this.a=f(t)?t:0,this.f=f(e)?e:0}function qe(t,e){this.width=t,this.height=e}function He(t){return t?new Je(Ye(t)):D||(D=new Je)}function We(t,e){var n=e||document;return n.querySelectorAll&&n.querySelector?n.querySelectorAll("."+t):Ge(document,t,e)}function ze(t,e){var n=e||document;if(n.getElementsByClassName)t=n.getElementsByClassName(t)[0];else{n=document;var r=e||n;t=r.querySelectorAll&&r.querySelector&&t?r.querySelector(t?"."+t:""):Ge(n,t,e)[0]||null}return t||null}function Ge(t,e,n){var r;if((t=n||t).querySelectorAll&&t.querySelector&&e)return t.querySelectorAll(e?"."+e:"");if(e&&t.getElementsByClassName){var i=t.getElementsByClassName(e);return i}if(i=t.getElementsByTagName("*"),e){var o={};for(n=r=0;t=i[n];n++){var s=t.className;"function"==typeof s.split&&W(s.split(/\s+/),e)&&(o[r++]=t)}return o.length=r,o}return i}Be.prototype.toString=function(){return"("+this.a+", "+this.f+")"},Be.prototype.ceil=function(){return this.a=Math.ceil(this.a),this.f=Math.ceil(this.f),this},Be.prototype.floor=function(){return this.a=Math.floor(this.a),this.f=Math.floor(this.f),this},Be.prototype.round=function(){return this.a=Math.round(this.a),this.f=Math.round(this.f),this},(t=qe.prototype).toString=function(){return"("+this.width+" x "+this.height+")"},t.aspectRatio=function(){return this.width/this.height},t.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},t.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},t.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this};var Ke={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Qe(t){return t.scrollingElement?t.scrollingElement:(oe||"CSS1Compat"!=t.compatMode)&&t.body||t.documentElement}function $e(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ye(t){return 9==t.nodeType?t:t.ownerDocument||t.document}function Xe(t,e){if("textContent"in t)t.textContent=e;else if(3==t.nodeType)t.data=String(e);else if(t.firstChild&&3==t.firstChild.nodeType){for(;t.lastChild!=t.firstChild;)t.removeChild(t.lastChild);t.firstChild.data=String(e)}else{for(var n;n=t.firstChild;)t.removeChild(n);t.appendChild(Ye(t).createTextNode(String(e)))}}function Ze(t,e){return e?function(t,e){for(;t;){if(e(t))return t;t=t.parentNode}return null}(t,(function(t){return!e||p(t.className)&&W(t.className.split(/\s+/),e)})):null}function Je(t){this.a=t||d.document||document}Je.prototype.P=function(){return p(void 0)?this.a.getElementById(void 0):void 0};var tn={Ec:!0},en={Gc:!0},nn={Dc:!0},rn={Fc:!0};function on(){throw Error("Do not instantiate directly")}function sn(t,e,n,r){if(t=t(e||cn,void 0,n),r=(r||He()).a.createElement("DIV"),(t=function(t){if(!S(t))return st(String(t));if(t instanceof on){if(t.fa===tn)return t.content;if(t.fa===rn)return st(t.content)}return F("Soy template output is unsafe for use as HTML: "+t),"zSoyz"}(t)).match(an),t=Le(t,null),Ve())for(;r.lastChild;)r.removeChild(r.lastChild);return r.innerHTML=Re(t),1==r.childNodes.length&&1==(t=r.firstChild).nodeType&&(r=t),r}on.prototype.va=null,on.prototype.toString=function(){return this.content};var an=/^<(body|caption|col|colgroup|head|html|tr|td|th|tbody|thead|tfoot)>/i,cn={};function un(){on.call(this)}function ln(t){return null!=t&&t.fa===tn?t:t instanceof Ne?pn(Re(t).toString(),t.f()):pn(st(String(String(t))),function(t){if(null!=t)switch(t.va){case 1:return 1;case-1:return-1;case 0:return 0}return null}(t))}function hn(){on.call(this)}function dn(t,e){this.content=String(t),this.va=null!=e?e:null}function fn(t){return new dn(t,void 0)}R(un,on),un.prototype.fa=tn,R(hn,on),hn.prototype.fa=en,hn.prototype.va=1,R(dn,on),dn.prototype.fa=rn;var pn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return t=new e(String(t)),void 0!==n&&(t.va=n),t}}(un),mn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t){return new e(String(t))}}(hn);function gn(t){return(t=String(t))?new dn(t,void 0):""}var yn=function(t){function e(t){this.content=t}return e.prototype=t.prototype,function(t,n){return(t=String(t))?(t=new e(t),void 0!==n&&(t.va=n),t):""}}(un);function vn(t){return null!=t&&t.fa===tn?String(String(t.content).replace(An,"").replace(On,"&lt;")).replace(Tn,Cn):st(String(t))}function bn(t){return null!=t&&t.fa===en?t=String(t).replace(kn,En):t instanceof Ee?t=String(Te(t)).replace(kn,En):(t=String(t),xn.test(t)?t=t.replace(kn,En):(F("Bad value `%s` for |filterNormalizeUri",[t]),t="#zSoyz")),t}function _n(t){return null!=t&&t.fa===nn?t=t.content:null==t?t="":t instanceof De?t instanceof De&&t.constructor===De&&t.f===Pe?t=t.a:(F("expected object of type SafeStyle, got '"+t+"' of type "+b(t)),t="type_error:SafeStyle"):(t=String(t),In.test(t)||(F("Bad value `%s` for |filterCssValue",[t]),t="zSoyz")),t}var wn={"\0":"&#0;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;","`":"&#96;","\x85":"&#133;","\xa0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Cn(t){return wn[t]}var Sn={"\0":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\b":"%08","\t":"%09","\n":"%0A","\v":"%0B","\f":"%0C","\r":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7f":"%7F","\x85":"%C2%85","\xa0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};function En(t){return Sn[t]}var Tn=/[\x00\x22\x27\x3c\x3e]/g,kn=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,In=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,xn=/^(?![^#?]*\/(?:\.|%2E){2}(?:[\/?#]|$))(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,An=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,On=/</g;function Dn(){return fn("Enter a valid phone number")}function Pn(){return fn("Something went wrong. Please try again.")}function Nn(){return fn("This email already exists without any means of sign-in. Please reset the password to recover.")}function Rn(t){var e="";switch((t=t||{}).code){case"invalid-argument":e+="Client specified an invalid argument.";break;case"invalid-configuration":e+="Client specified an invalid project configuration.";break;case"failed-precondition":e+="Request can not be executed in the current system state.";break;case"out-of-range":e+="Client specified an invalid range.";break;case"unauthenticated":e+="Request not authenticated due to missing, invalid, or expired OAuth token.";break;case"permission-denied":e+="Client does not have sufficient permission.";break;case"not-found":e+="Specified resource is not found.";break;case"aborted":e+="Concurrency conflict, such as read-modify-write conflict.";break;case"already-exists":e+="The resource that a client tried to create already exists.";break;case"resource-exhausted":e+="Either out of resource quota or reaching rate limiting.";break;case"cancelled":e+="Request cancelled by the client.";break;case"data-loss":e+="Unrecoverable data loss or data corruption.";break;case"unknown":e+="Unknown server error.";break;case"internal":e+="Internal server error.";break;case"not-implemented":e+="API method not implemented by the server.";break;case"unavailable":e+="Service unavailable.";break;case"deadline-exceeded":e+="Request deadline exceeded.";break;case"auth/user-disabled":e+="The user account has been disabled by an administrator.";break;case"auth/timeout":e+="The operation has timed out.";break;case"auth/too-many-requests":e+="We have blocked all requests from this device due to unusual activity. Try again later.";break;case"auth/quota-exceeded":e+="The quota for this operation has been exceeded. Try again later.";break;case"auth/network-request-failed":e+="A network error has occurred. Try again later.";break;case"restart-process":e+="An issue was encountered when authenticating your request. Please visit the URL that redirected you to this page again to restart the authentication process.";break;case"no-matching-tenant-for-email":e+="No sign-in provider is available for the given email, please try with a different email."}return fn(e)}function Mn(){return fn("Please login again to perform this operation")}function Ln(t,e,n){var r=Error.call(this);if(this.message=r.message,"stack"in r&&(this.stack=r.stack),this.code=Fn+t,!(t=e)){switch(t="",this.code){case"firebaseui/merge-conflict":t+="The current anonymous user failed to upgrade. The non-anonymous credential is already associated with a different user account.";break;default:t+=Pn()}t=fn(t).toString()}this.message=t||"",this.credential=n||null}s(Ln,Error),Ln.prototype.aa=function(){return{code:this.code,message:this.message}},Ln.prototype.toJSON=function(){return this.aa()};var Fn="firebaseui/";function Un(){0!=jn&&(Vn[this[E]||(this[E]=++T)]=this),this.N=this.N,this.C=this.C}var jn=0,Vn={};function Bn(t,e){t.N?f(void 0)?e.call(void 0):e():(t.C||(t.C=[]),t.C.push(f(void 0)?x(e,void 0):e))}function qn(t){t&&"function"==typeof t.o&&t.o()}Un.prototype.N=!1,Un.prototype.o=function(){if(!this.N&&(this.N=!0,this.s(),0!=jn)){var t=this[E]||(this[E]=++T);if(0!=jn&&this.C&&0<this.C.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Vn[t]}},Un.prototype.s=function(){if(this.C)for(;this.C.length;)this.C.shift()()};var Hn=Object.freeze||function(t){return t},Wn=!ee||9<=Number(de),zn=ee&&!pe("9"),Gn=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{d.addEventListener("test",y,e),d.removeEventListener("test",y,e)}catch(Ue){}return t}();function Kn(t,e){this.type=t,this.f=this.target=e,this.h=!1,this.sb=!0}function Qn(t,e){if(Kn.call(this,t?t.type:""),this.relatedTarget=this.f=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.j=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.f=e,e=t.relatedTarget){if(ie){t:{try{Xt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.j=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=p(t.pointerType)?t.pointerType:$n[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Kn.prototype.stopPropagation=function(){this.h=!0},Kn.prototype.preventDefault=function(){this.sb=!1},R(Qn,Kn);var $n=Hn({2:"touch",3:"pen",4:"mouse"});Qn.prototype.stopPropagation=function(){Qn.K.stopPropagation.call(this),this.a.stopPropagation?this.a.stopPropagation():this.a.cancelBubble=!0},Qn.prototype.preventDefault=function(){Qn.K.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,zn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(je){}};var Yn="closure_listenable_"+(1e6*Math.random()|0),Xn=0;function Zn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++Xn,this.sa=this.Ha=!1}function Jn(t){t.sa=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function tr(t){this.src=t,this.a={},this.f=0}function er(t,e){var n=e.type;n in t.a&&z(t.a[n],e)&&(Jn(e),0==t.a[n].length&&(delete t.a[n],t.f--))}function nr(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.sa&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}tr.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.f++);var s=nr(t,e,r,i);return-1<s?(e=t[s],n||(e.Ha=!1)):((e=new Zn(e,this.src,o,!!r,i)).Ha=n,t.push(e)),e};var rr="closure_lm_"+(1e6*Math.random()|0),ir={};function or(t,e,n,r,i){if(r&&r.once)return ar(t,e,n,r,i);if(_(e)){for(var o=0;o<e.length;o++)or(t,e[o],n,r,i);return null}return n=gr(n),t&&t[Yn]?t.H.add(String(e),n,!1,S(r)?!!r.capture:!!r,i):sr(t,e,n,!1,r,i)}function sr(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=S(i)?!!i.capture:!!i,a=pr(t);if(a||(t[rr]=a=new tr(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=fr,e=Wn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Gn||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(lr(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ar(t,e,n,r,i){if(_(e)){for(var o=0;o<e.length;o++)ar(t,e[o],n,r,i);return null}return n=gr(n),t&&t[Yn]?t.H.add(String(e),n,!0,S(r)?!!r.capture:!!r,i):sr(t,e,n,!0,r,i)}function cr(t,e,n,r,i){if(_(e))for(var o=0;o<e.length;o++)cr(t,e[o],n,r,i);else r=S(r)?!!r.capture:!!r,n=gr(n),t&&t[Yn]?(t=t.H,(e=String(e).toString())in t.a&&-1<(n=nr(o=t.a[e],n,r,i))&&(Jn(o[n]),G(o,n),0==o.length&&(delete t.a[e],t.f--))):t&&(t=pr(t))&&(e=t.a[e.toString()],t=-1,e&&(t=nr(e,n,r,i)),(n=-1<t?e[t]:null)&&ur(n))}function ur(t){if("number"!=typeof t&&t&&!t.sa){var e=t.src;if(e&&e[Yn])er(e.H,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(lr(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=pr(e))?(er(n,t),0==n.f&&(n.src=null,e[rr]=null)):Jn(t)}}}function lr(t){return t in ir?ir[t]:ir[t]="on"+t}function hr(t,e,n,r){var i=!0;if((t=pr(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.sa&&(o=dr(o,r),i=i&&!1!==o)}return i}function dr(t,e){var n=t.listener,r=t.La||t.src;return t.Ha&&ur(t),n.call(r,e)}function fr(t,e){if(t.sa)return!0;if(!Wn){if(!e)t:{e=["window","event"];for(var n=d,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qn(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.f;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;!e.h&&0<=i;i--){e.f=r[i];var o=hr(r[i],t,!0,e);n=n&&o}for(i=0;!e.h&&i<r.length;i++)e.f=r[i],o=hr(r[i],t,!1,e),n=n&&o}return n}return dr(t,new Qn(e,this))}function pr(t){return(t=t[rr])instanceof tr?t:null}var mr="__closure_events_fn_"+(1e9*Math.random()>>>0);function gr(t){return C(t)?t:(t[mr]||(t[mr]=function(e){return t.handleEvent(e)}),t[mr])}function yr(){Un.call(this),this.H=new tr(this),this.yb=this,this.Fa=null}function vr(t,e){var n,r=t.Fa;if(r)for(n=[];r;r=r.Fa)n.push(r);if(t=t.yb,r=e.type||e,p(e))e=new Kn(e,t);else if(e instanceof Kn)e.target=e.target||t;else{var i=e;lt(e=new Kn(r,t),i)}if(i=!0,n)for(var o=n.length-1;!e.h&&0<=o;o--){var s=e.f=n[o];i=br(s,r,!0,e)&&i}if(e.h||(i=br(s=e.f=t,r,!0,e)&&i,e.h||(i=br(s,r,!1,e)&&i)),n)for(o=0;!e.h&&o<n.length;o++)i=br(s=e.f=n[o],r,!1,e)&&i;return i}function br(t,e,n,r){if(!(e=t.H.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.sa&&s.capture==n){var a=s.listener,c=s.La||s.src;s.Ha&&er(t.H,s),i=!1!==a.call(c,r)&&i}}return i&&0!=r.sb}R(yr,Un),yr.prototype[Yn]=!0,yr.prototype.$a=function(t){this.Fa=t},yr.prototype.removeEventListener=function(t,e,n,r){cr(this,t,e,n,r)},yr.prototype.s=function(){if(yr.K.s.call(this),this.H){var t,e=this.H;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Jn(n[r]);delete e.a[t],e.f--}}this.Fa=null};var _r={},wr=0;function Cr(t,e){if(!t)throw Error("Event target element must be provided!");if(t=Sr(t),_r[t]&&_r[t].length)for(var n=0;n<_r[t].length;n++)vr(_r[t][n],e)}function Sr(t){return void 0===t.a&&(t.a=wr,wr++),t.a}function Er(t){if(!t)throw Error("Event target element must be provided!");yr.call(this),this.a=t}function Tr(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(je){return!1}}function kr(t,e){this.h=t,this.j=e,this.f=0,this.a=null}function Ir(t,e){t.j(e),100>t.f&&(t.f++,e.next=t.a,t.a=e)}function xr(){this.f=this.a=null}s(Er,yr),Er.prototype.P=function(){return this.a},Er.prototype.register=function(){var t=Sr(this.P());_r[t]?W(_r[t],this)||_r[t].push(this):_r[t]=[this]},kr.prototype.get=function(){if(0<this.f){this.f--;var t=this.a;this.a=t.next,t.next=null}else t=this.h();return t};var Ar,Or,Dr=new kr((function(){return new Nr}),(function(t){t.reset()}));function Pr(){var t=Fr,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.f=null),e.next=null),e}function Nr(){this.next=this.f=this.a=null}function Rr(t){d.setTimeout((function(){throw t}),0)}function Mr(t,e){Or||function(){if(d.Promise&&d.Promise.resolve){var t=d.Promise.resolve(void 0);Or=function(){t.then(Ur)}}else Or=function(){var t=Ur;!C(d.setImmediate)||d.Window&&d.Window.prototype&&!$t("Edge")&&d.Window.prototype.setImmediate==d.setImmediate?(Ar||(Ar=function(){var t=d.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!$t("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=x((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!$t("Trident")&&!$t("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(f(n.next)){var t=(n=n.next).hb;n.hb=null,t()}},function(t){r.next={hb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){d.setTimeout(t,0)}}()),Ar(t)):d.setImmediate(t)}}(),Lr||(Or(),Lr=!0),Fr.add(t,e)}xr.prototype.add=function(t,e){var n=Dr.get();n.set(t,e),this.f?this.f.next=n:this.a=n,this.f=n},Nr.prototype.set=function(t,e){this.a=t,this.f=e,this.next=null},Nr.prototype.reset=function(){this.next=this.f=this.a=null};var Lr=!1,Fr=new xr;function Ur(){for(var t;t=Pr();){try{t.a.call(t.f)}catch(je){Rr(je)}Ir(Dr,t)}Lr=!1}function jr(t){if(this.a=Vr,this.w=void 0,this.j=this.f=this.h=null,this.m=this.i=!1,t!=y)try{var e=this;t.call(void 0,(function(t){Yr(e,Br,t)}),(function(t){if(!(t instanceof ni))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(n){}Yr(e,qr,t)}))}catch(Ue){Yr(this,qr,Ue)}}var Vr=0,Br=2,qr=3;function Hr(){this.next=this.context=this.f=this.j=this.a=null,this.h=!1}Hr.prototype.reset=function(){this.context=this.f=this.j=this.a=null,this.h=!1};var Wr=new kr((function(){return new Hr}),(function(t){t.reset()}));function zr(t,e,n){var r=Wr.get();return r.j=t,r.f=e,r.context=n,r}function Gr(t){if(t instanceof jr)return t;var e=new jr(y);return Yr(e,Br,t),e}function Kr(t){return new jr((function(e,n){n(t)}))}function Qr(t,e){t.f||t.a!=Br&&t.a!=qr||Xr(t),t.j?t.j.next=e:t.f=e,t.j=e}function $r(t,e,n,r){var i=zr(null,null,null);return i.a=new jr((function(t,o){i.j=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.f=n?function(e){try{var i=n.call(r,e);!f(i)&&e instanceof ni?o(e):t(i)}catch(s){o(s)}}:o})),i.a.h=t,Qr(t,i),i.a}function Yr(t,e,n){if(t.a==Vr){t===n&&(e=qr,n=new TypeError("Promise cannot resolve to itself")),t.a=1;t:{var r=n,i=t.gc,o=t.hc;if(r instanceof jr){Qr(r,zr(i||y,o||null,t));var s=!0}else if(Tr(r))r.then(i,o,t),s=!0;else{if(S(r))try{var a=r.then;if(C(a)){!function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(a){o(a)}}(r,a,i,o,t),s=!0;break t}}catch(c){o.call(t,c),s=!0;break t}s=!1}}s||(t.w=n,t.a=e,t.h=null,Xr(t),e!=qr||n instanceof ni||function(t,e){t.m=!0,Mr((function(){t.m&&ei.call(null,e)}))}(t,n))}}function Xr(t){t.i||(t.i=!0,Mr(t.Gb,t))}function Zr(t){var e=null;return t.f&&(t.f=(e=t.f).next,e.next=null),t.f||(t.j=null),e}function Jr(t,e,n,r){if(n==qr&&e.f&&!e.h)for(;t&&t.m;t=t.h)t.m=!1;if(e.a)e.a.h=null,ti(e,n,r);else try{e.h?e.j.call(e.context):ti(e,n,r)}catch(uN){ei.call(null,uN)}Ir(Wr,e)}function ti(t,e,n){e==Br?t.j.call(t.context,n):t.f&&t.f.call(t.context,n)}jr.prototype.then=function(t,e,n){return $r(this,C(t)?t:null,C(e)?e:null,n)},jr.prototype.$goog_Thenable=!0,(t=jr.prototype).ec=function(t,e){return(t=zr(t,t,e)).h=!0,Qr(this,t),this},t.ta=function(t,e){return $r(this,null,t,e)},t.cancel=function(t){this.a==Vr&&Mr((function(){!function t(e,n){if(e.a==Vr)if(e.h){var r=e.h;if(r.f){for(var i=0,o=null,s=null,a=r.f;a&&(a.h||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==Vr&&1==i?t(r,n):(s?((i=s).next==r.j&&(r.j=i),i.next=i.next.next):Zr(r),Jr(r,o,qr,n)))}e.h=null}else Yr(e,qr,n)}(this,new ni(t))}),this)},t.gc=function(t){this.a=Vr,Yr(this,Br,t)},t.hc=function(t){this.a=Vr,Yr(this,qr,t)},t.Gb=function(){for(var t;t=Zr(this);)Jr(this,t,this.a,this.w);this.i=!1};var ei=Rr;function ni(t){M.call(this,t)}function ri(t,e,n){e||(e={}),n=n||window;var r=t instanceof Ee?t:xe(void 0!==t.href?t.href:String(t));t=e.target||t.target;var i=[];for(o in e)switch(o){case"width":case"height":case"top":case"left":i.push(o+"="+e[o]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(o+"="+(e[o]?1:0))}var o=i.join(",");return($t("iPhone")&&!$t("iPod")&&!$t("iPad")||$t("iPad")||$t("iPod"))&&n.navigator&&n.navigator.standalone&&t&&"_self"!=t?(o=n.document.createElement("A"),r instanceof Ee||r instanceof Ee||(r="object"==typeof r&&r.ma?r.ka():String(r),Ie.test(r)||(r="about:invalid#zClosurez"),r=Oe(r)),o.href=ke(r),o.setAttribute("target",t),e.noreferrer&&o.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,n,1),o.dispatchEvent(e),n={}):e.noreferrer?(n=n.open("",t,o),e=Te(r),n&&(re&&-1!=e.indexOf(";")&&(e="'"+e.replace(/'/g,"%27")+"'"),n.opener=null,e=Le('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+st(e)+'">',null),n.document.write(Re(e)),n.document.close())):(n=n.open(Te(r),t,o))&&e.noopener&&(n.opener=null),n}function ii(t){window.location.assign(Te(xe(t)))}function oi(){try{return!!(window.opener&&window.opener.location&&window.opener.location.assign&&window.opener.location.hostname===window.location.hostname&&window.opener.location.protocol===window.location.protocol)}catch(t){}return!1}function si(t){ri(t,{target:window.cordova&&window.cordova.InAppBrowser?"_system":"_blank"},void 0)}function ai(t,e){if(null==(t=S(t)&&1==t.nodeType?t:document.querySelector(String(t))))throw Error(e||"Cannot find element.");return t}function ci(){return window.location.href}function ui(t){var e=_i;this.m=[],this.N=e,this.M=t||null,this.j=this.a=!1,this.h=void 0,this.H=this.l=this.w=!1,this.i=0,this.f=null,this.C=0}function li(t,e,n){t.a=!0,t.h=n,t.j=!e,pi(t)}function hi(t){if(t.a){if(!t.H)throw new mi(t);t.H=!1}}function di(t,e,n){t.m.push([e,n,void 0]),t.a&&pi(t)}function fi(t){return q(t.m,(function(t){return C(t[1])}))}function pi(t){if(t.i&&t.a&&fi(t)){var e=t.i,n=vi[e];n&&(d.clearTimeout(n.a),delete vi[e]),t.i=0}t.f&&(t.f.C--,delete t.f),e=t.h;for(var r=n=!1;t.m.length&&!t.w;){var i=t.m.shift(),o=i[0],s=i[1];if(i=i[2],o=t.j?s:o)try{var a=o.call(i||t.M,e);f(a)&&(t.j=t.j&&(a==e||a instanceof Error),t.h=e=a),(Tr(e)||"function"==typeof d.Promise&&e instanceof d.Promise)&&(r=!0,t.w=!0)}catch(c){e=c,t.j=!0,fi(t)||(n=!0)}}t.h=e,r&&(a=x(t.J,t,!0),r=x(t.J,t,!1),e instanceof ui?(di(e,a,r),e.l=!0):e.then(a,r)),n&&(e=new yi(e),vi[e.a]=e,t.i=e.a)}function mi(){M.call(this)}function gi(){M.call(this)}function yi(t){this.a=d.setTimeout(x(this.h,this),0),this.f=t}R(ni,M),ni.prototype.name="cancel",ui.prototype.cancel=function(t){if(this.a)this.h instanceof ui&&this.h.cancel();else{if(this.f){var e=this.f;delete this.f,t?e.cancel(t):(e.C--,0>=e.C&&e.cancel())}this.N?this.N.call(this.M,this):this.H=!0,this.a||(t=new gi(this),hi(this),li(this,!1,t))}},ui.prototype.J=function(t,e){this.w=!1,li(this,t,e)},ui.prototype.then=function(t,e,n){var r,i,o=new jr((function(t,e){r=t,i=e}));return di(this,r,(function(t){t instanceof gi?o.cancel():i(t)})),o.then(t,e,n)},ui.prototype.$goog_Thenable=!0,R(mi,M),mi.prototype.message="Deferred has already fired",mi.prototype.name="AlreadyCalledError",R(gi,M),gi.prototype.message="Deferred was canceled",gi.prototype.name="CanceledError",yi.prototype.h=function(){throw delete vi[this.a],this.f};var vi={};function bi(t){var e={},n=e.document||document,r=we(t).toString(),i=document.createElement("SCRIPT"),o={tb:i,ub:void 0},s=new ui(o),a=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(a=window.setTimeout((function(){wi(i,!0);var t=new Ei(Si,"Timeout reached for loading script "+r);hi(s),li(s,!1,t)}),c),o.ub=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(wi(i,e.wc||!1,a),hi(s),li(s,!0,null))},i.onerror=function(){wi(i,!0,a);var t=new Ei(Ci,"Error while loading script "+r);hi(s),li(s,!1,t)},lt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),function(t,e){at(e,(function(e,n){e&&"object"==typeof e&&e.ma&&(e=e.ka()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Ke.hasOwnProperty(n)?t.setAttribute(Ke[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}(i,o),function(t,e){t.src=we(e),null===g&&(g=(e=(e=d.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&m.test(e)?e:""),(e=g)&&t.setAttribute("nonce",e)}(i,t),function(t){var e=(t||document).getElementsByTagName("HEAD");return e&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function _i(){if(this&&this.tb){var t=this.tb;t&&"SCRIPT"==t.tagName&&wi(t,!0,this.ub)}}function wi(t,e,n){null!=n&&d.clearTimeout(n),t.onload=y,t.onerror=y,t.onreadystatechange=y,e&&window.setTimeout((function(){$e(t)}),0)}var Ci=0,Si=1;function Ei(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),M.call(this,n),this.code=t}function Ti(t){this.a=t||d.googleyolo,this.f=null,this.h=!1}R(Ei,M),Ti.prototype.cancel=function(){this.a&&this.h&&(this.f=this.a.cancelLastOperation().catch((function(){})))},v(Ti);var ki=new ge(be,"https://smartlock.google.com/client"),Ii="illegalConcurrentRequest",xi="userCanceled";function Ai(){this.a=null}function Oi(t,e){this.a=t,this.f=e||function(t){throw t}}function Di(t,e,n){this.reset(t,e,n,void 0,void 0)}function Pi(t){this.m=t,this.a=this.h=this.j=this.f=null}function Ni(t,e){this.name=t,this.value=e}Ai.prototype.load=function(){var t=this;if(this.a)return this.a;var e=Se(ye(ki));return d.googleyolo?Gr():this.a=function(){var t=null;return new jr((function(e){"complete"==d.document.readyState?e():(t=function(){e()},ar(window,"load",t))})).ta((function(e){throw cr(window,"load",t),e}))}().then((function(){if(!d.googleyolo)return new jr((function(n,r){var i=setTimeout((function(){t.a=null,r(Error("Network error!"))}),1e4);d.onGoogleYoloLoad=function(){clearTimeout(i),n()},Gr(bi(e)).ta((function(e){clearTimeout(i),t.a=null,r(e)}))}))}))},v(Ai),Oi.prototype.confirm=function(t){return Gr(this.a.confirm(t)).ta(this.f)},Di.prototype.a=null,Di.prototype.reset=function(t,e,n,r,i){this.h=r||P(),this.j=t,this.m=e,this.f=n,delete this.a},Ni.prototype.toString=function(){return this.name};var Ri=new Ni("SEVERE",1e3),Mi=new Ni("WARNING",900),Li=new Ni("CONFIG",700);Pi.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.j?e.j:e.f?t(e.f):(F("Root logger has no level set."),null)}(this).value)for(C(e)&&(e=e()),t=new Di(t,String(e),this.m),n&&(t.a=n),n=this;n;){var r=n,i=t;if(r.a)for(var o=0;e=r.a[o];o++)e(i);n=n.f}};var Fi={},Ui=null;function ji(){Ui||(Ui=new Pi(""),Fi[""]=Ui,Ui.j=Li)}function Vi(){this.a=P()}var Bi=null;function qi(t){this.j=t||"",Bi||(Bi=new Vi),this.m=Bi}function Hi(t){return 10>t?"0"+t:String(t)}function Wi(t){qi.call(this,t)}function zi(){this.m=x(this.h,this),this.a=new Wi,this.a.f=!1,this.a.h=!1,this.f=this.a.a=!1,this.j={}}Vi.prototype.set=function(t){this.a=t},Vi.prototype.reset=function(){this.set(P())},Vi.prototype.get=function(){return this.a},qi.prototype.a=!0,qi.prototype.f=!0,qi.prototype.h=!1,R(Wi,qi),zi.prototype.h=function(t){if(!this.j[t.f]){var e=function(t,e){var n=[];if(n.push(t.j," "),t.f){var r=new Date(e.h);n.push("[",Hi(r.getFullYear()-2e3)+Hi(r.getMonth()+1)+Hi(r.getDate())+" "+Hi(r.getHours())+":"+Hi(r.getMinutes())+":"+Hi(r.getSeconds())+"."+Hi(Math.floor(r.getMilliseconds()/10)),"] ")}return n.push("[",function(t,e){e=(t=(t.h-e)/1e3).toFixed(3);var n=0;if(1>t)n=2;else for(;100>t;)n++,t*=10;for(;0<n--;)e=" "+e;return e}(e,t.m.get()),"s] "),n.push("[",e.f,"] "),n.push(e.m),t.h&&(e=e.a)&&n.push("\n",e instanceof Error?e.message:e.toString()),t.a&&n.push("\n"),n.join("")}(this.a,t);Ki&&function(t,e,n,r){t[e]?t[e](n,r||""):t.log(n,r||"")}(Ki,function(t){if(t){if(t.value>=Ri.value)return"error";if(t.value>=Mi.value)return"warn";if(t.value>=Li.value)return"log"}return"debug"}(t.j),e,t.a)}};var Gi,Ki=d.console;function Qi(t,e){Gi&&Gi.log(Ri,t,e)}Gi=function t(e){var n;if(ji(),!(n=Fi[e])){n=new Pi(e);var r=e.lastIndexOf("."),i=e.substr(r+1);(r=t(e.substr(0,r))).h||(r.h={}),r.h[i]=n,n.f=r,Fi[e]=n}return n}("firebaseui");var $i=new zi;if(1!=$i.f){var Yi;ji();var Xi=$i.m;(Yi=Ui).a||(Yi.a=[]),Yi.a.push(Xi),$i.f=!0}function Zi(t){Gi&&Gi.log(Mi,t,void 0)}function Ji(t,e,n,r){this.a=t,this.h=e||null,this.j=n||null,this.f=r||null}function to(t){return t.email?new Ji(t.email,t.displayName,t.photoUrl,t.providerId):null}function eo(){this.a=("undefined"==typeof document?null:document)||{cookie:""}}function no(t){t=(t.a.cookie||"").split(";");for(var e,n,r=[],i=[],o=0;o<t.length;o++)-1==(e=(n=X(t[o])).indexOf("="))?(r.push(""),i.push(n)):(r.push(n.substring(0,e)),i.push(n.substring(e+1)));return{keys:r,values:i}}Ji.prototype.aa=function(){return{email:this.a,displayName:this.h,photoUrl:this.j,providerId:this.f}},(t=eo.prototype).set=function(t,e,n,r,i,o){if(/[;=\s]/.test(t))throw Error('Invalid cookie name "'+t+'"');if(/[;\r\n]/.test(e))throw Error('Invalid cookie value "'+e+'"');f(n)||(n=-1),i=i?";domain="+i:"",r=r?";path="+r:"",o=o?";secure":"",n=0>n?"":0==n?";expires="+new Date(1970,1,1).toUTCString():";expires="+new Date(P()+1e3*n).toUTCString(),this.a.cookie=t+"="+e+i+r+n+o},t.get=function(t,e){for(var n,r=t+"=",i=(this.a.cookie||"").split(";"),o=0;o<i.length;o++){if(0==(n=X(i[o])).lastIndexOf(r,0))return n.substr(r.length);if(n==t)return""}return e},t.ja=function(){return no(this).keys},t.la=function(){return no(this).values},t.clear=function(){for(var t=no(this).keys,e=t.length-1;0<=e;e--){var n=t[e];this.get(n),this.set(n,"",0,void 0,void 0)}};var ro=new eo;function io(){}function oo(t,e,n,r){this.h=null!=t?t:-1,this.f=e||null,this.a=n||null,this.j=!!r}function so(t,e){this.f=t,this.a=e||null}function ao(t){if(t&&t.email){var e=t.credential&&zb.auth.AuthCredential.fromJSON(t.credential);return new so(t.email,e)}return null}function co(t){this.a=t||null}function uo(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);255<i&&(e[n++]=255&i,i>>=8),e[n++]=i}return e}function lo(t){return B(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}function ho(t){for(this.i=t,this.f=this.i.length/4,this.j=this.f+6,this.h=[[],[],[],[]],this.m=[[],[],[],[]],this.a=Array(fo*(this.j+1)),t=0;t<this.f;t++)this.a[t]=[this.i[4*t],this.i[4*t+1],this.i[4*t+2],this.i[4*t+3]];var e=Array(4);for(t=this.f;t<fo*(this.j+1);t++){if(e[0]=this.a[t-1][0],e[1]=this.a[t-1][1],e[2]=this.a[t-1][2],e[3]=this.a[t-1][3],0==t%this.f){var n=e,r=n[0];n[0]=n[1],n[1]=n[2],n[2]=n[3],n[3]=r,_o(e),e[0]^=So[t/this.f][0],e[1]^=So[t/this.f][1],e[2]^=So[t/this.f][2],e[3]^=So[t/this.f][3]}else 6<this.f&&4==t%this.f&&_o(e);this.a[t]=Array(4),this.a[t][0]=this.a[t-this.f][0]^e[0],this.a[t][1]=this.a[t-this.f][1]^e[1],this.a[t][2]=this.a[t-this.f][2]^e[2],this.a[t][3]=this.a[t-this.f][3]^e[3]}}s(oo,io),oo.prototype.set=function(t,e){ro.set(t,e,this.h,this.f,this.a,this.j)},oo.prototype.get=function(t){return ro.get(t)||null},oo.prototype.ra=function(t){var e=this.f,n=this.a;ro.get(t),ro.set(t,"",0,e,n)},so.prototype.aa=function(){return{email:this.f,credential:this.a&&this.a.toJSON()}},co.prototype.aa=function(){return{tenantId:this.a}};var fo=(ho.prototype.w=16)/4;function po(t,e){for(var n=0;n<fo;n++)for(var r=0;4>r;r++)t.h[n][r]=e[4*r+n]}function mo(t){for(var e=[],n=0;n<fo;n++)for(var r=0;4>r;r++)e[4*r+n]=t.h[n][r];return e}function go(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]^=t.a[4*e+r][n]}function yo(t,e){for(var n=0;4>n;n++)for(var r=0;4>r;r++)t.h[n][r]=e[t.h[n][r]]}function vo(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.m[e][n]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.m[e][(n+e)%fo]}function bo(t){for(var e=1;4>e;e++)for(var n=0;4>n;n++)t.m[e][(n+e)%fo]=t.h[e][n];for(e=1;4>e;e++)for(n=0;4>n;n++)t.h[e][n]=t.m[e][n]}function _o(t){t[0]=wo[t[0]],t[1]=wo[t[1]],t[2]=wo[t[2]],t[3]=wo[t[3]]}var wo=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Co=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],So=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Eo=[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,118,120,122,124,126,128,130,132,134,136,138,140,142,144,146,148,150,152,154,156,158,160,162,164,166,168,170,172,174,176,178,180,182,184,186,188,190,192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,27,25,31,29,19,17,23,21,11,9,15,13,3,1,7,5,59,57,63,61,51,49,55,53,43,41,47,45,35,33,39,37,91,89,95,93,83,81,87,85,75,73,79,77,67,65,71,69,123,121,127,125,115,113,119,117,107,105,111,109,99,97,103,101,155,153,159,157,147,145,151,149,139,137,143,141,131,129,135,133,187,185,191,189,179,177,183,181,171,169,175,173,163,161,167,165,219,217,223,221,211,209,215,213,203,201,207,205,195,193,199,197,251,249,255,253,243,241,247,245,235,233,239,237,227,225,231,229],To=[0,3,6,5,12,15,10,9,24,27,30,29,20,23,18,17,48,51,54,53,60,63,58,57,40,43,46,45,36,39,34,33,96,99,102,101,108,111,106,105,120,123,126,125,116,119,114,113,80,83,86,85,92,95,90,89,72,75,78,77,68,71,66,65,192,195,198,197,204,207,202,201,216,219,222,221,212,215,210,209,240,243,246,245,252,255,250,249,232,235,238,237,228,231,226,225,160,163,166,165,172,175,170,169,184,187,190,189,180,183,178,177,144,147,150,149,156,159,154,153,136,139,142,141,132,135,130,129,155,152,157,158,151,148,145,146,131,128,133,134,143,140,137,138,171,168,173,174,167,164,161,162,179,176,181,182,191,188,185,186,251,248,253,254,247,244,241,242,227,224,229,230,239,236,233,234,203,200,205,206,199,196,193,194,211,208,213,214,223,220,217,218,91,88,93,94,87,84,81,82,67,64,69,70,79,76,73,74,107,104,109,110,103,100,97,98,115,112,117,118,127,124,121,122,59,56,61,62,55,52,49,50,35,32,37,38,47,44,41,42,11,8,13,14,7,4,1,2,19,16,21,22,31,28,25,26],ko=[0,9,18,27,36,45,54,63,72,65,90,83,108,101,126,119,144,153,130,139,180,189,166,175,216,209,202,195,252,245,238,231,59,50,41,32,31,22,13,4,115,122,97,104,87,94,69,76,171,162,185,176,143,134,157,148,227,234,241,248,199,206,213,220,118,127,100,109,82,91,64,73,62,55,44,37,26,19,8,1,230,239,244,253,194,203,208,217,174,167,188,181,138,131,152,145,77,68,95,86,105,96,123,114,5,12,23,30,33,40,51,58,221,212,207,198,249,240,235,226,149,156,135,142,177,184,163,170,236,229,254,247,200,193,218,211,164,173,182,191,128,137,146,155,124,117,110,103,88,81,74,67,52,61,38,47,16,25,2,11,215,222,197,204,243,250,225,232,159,150,141,132,187,178,169,160,71,78,85,92,99,106,113,120,15,6,29,20,43,34,57,48,154,147,136,129,190,183,172,165,210,219,192,201,246,255,228,237,10,3,24,17,46,39,60,53,66,75,80,89,102,111,116,125,161,168,179,186,133,140,151,158,233,224,251,242,205,196,223,214,49,56,35,42,21,28,7,14,121,112,107,98,93,84,79,70],Io=[0,11,22,29,44,39,58,49,88,83,78,69,116,127,98,105,176,187,166,173,156,151,138,129,232,227,254,245,196,207,210,217,123,112,109,102,87,92,65,74,35,40,53,62,15,4,25,18,203,192,221,214,231,236,241,250,147,152,133,142,191,180,169,162,246,253,224,235,218,209,204,199,174,165,184,179,130,137,148,159,70,77,80,91,106,97,124,119,30,21,8,3,50,57,36,47,141,134,155,144,161,170,183,188,213,222,195,200,249,242,239,228,61,54,43,32,17,26,7,12,101,110,115,120,73,66,95,84,247,252,225,234,219,208,205,198,175,164,185,178,131,136,149,158,71,76,81,90,107,96,125,118,31,20,9,2,51,56,37,46,140,135,154,145,160,171,182,189,212,223,194,201,248,243,238,229,60,55,42,33,16,27,6,13,100,111,114,121,72,67,94,85,1,10,23,28,45,38,59,48,89,82,79,68,117,126,99,104,177,186,167,172,157,150,139,128,233,226,255,244,197,206,211,216,122,113,108,103,86,93,64,75,34,41,52,63,14,5,24,19,202,193,220,215,230,237,240,251,146,153,132,143,190,181,168,163],xo=[0,13,26,23,52,57,46,35,104,101,114,127,92,81,70,75,208,221,202,199,228,233,254,243,184,181,162,175,140,129,150,155,187,182,161,172,143,130,149,152,211,222,201,196,231,234,253,240,107,102,113,124,95,82,69,72,3,14,25,20,55,58,45,32,109,96,119,122,89,84,67,78,5,8,31,18,49,60,43,38,189,176,167,170,137,132,147,158,213,216,207,194,225,236,251,246,214,219,204,193,226,239,248,245,190,179,164,169,138,135,144,157,6,11,28,17,50,63,40,37,110,99,116,121,90,87,64,77,218,215,192,205,238,227,244,249,178,191,168,165,134,139,156,145,10,7,16,29,62,51,36,41,98,111,120,117,86,91,76,65,97,108,123,118,85,88,79,66,9,4,19,30,61,48,39,42,177,188,171,166,133,136,159,146,217,212,195,206,237,224,247,250,183,186,173,160,131,142,153,148,223,210,197,200,235,230,241,252,103,106,125,112,83,94,73,68,15,2,21,24,59,54,33,44,12,1,22,27,56,53,34,47,100,105,126,115,80,93,74,71,220,209,198,203,232,229,242,255,180,185,174,163,128,141,154,151],Ao=[0,14,28,18,56,54,36,42,112,126,108,98,72,70,84,90,224,238,252,242,216,214,196,202,144,158,140,130,168,166,180,186,219,213,199,201,227,237,255,241,171,165,183,185,147,157,143,129,59,53,39,41,3,13,31,17,75,69,87,89,115,125,111,97,173,163,177,191,149,155,137,135,221,211,193,207,229,235,249,247,77,67,81,95,117,123,105,103,61,51,33,47,5,11,25,23,118,120,106,100,78,64,82,92,6,8,26,20,62,48,34,44,150,152,138,132,174,160,178,188,230,232,250,244,222,208,194,204,65,79,93,83,121,119,101,107,49,63,45,35,9,7,21,27,161,175,189,179,153,151,133,139,209,223,205,195,233,231,245,251,154,148,134,136,162,172,190,176,234,228,246,248,210,220,206,192,122,116,102,104,66,76,94,80,10,4,22,24,50,60,46,32,236,226,240,254,212,218,200,198,156,146,128,142,164,170,184,182,12,2,16,30,52,58,40,38,124,114,96,110,68,74,88,86,55,57,43,37,15,1,19,29,71,73,91,85,127,113,99,109,215,217,203,197,239,225,243,253,167,169,187,181,159,145,131,141];function Oo(t,e){t=new ho(Po(t));for(var n,r=$(e=uo(e),0,16),i="";r.length;){n=16-r.length;for(var o=0;o<n;o++)r.push(0);for(po(n=t,r),go(n,0),r=1;r<n.j;++r){yo(n,wo),vo(n),o=n.h;for(var s=n.m[0],a=0;4>a;a++)s[0]=o[0][a],s[1]=o[1][a],s[2]=o[2][a],s[3]=o[3][a],o[0][a]=Eo[s[0]]^To[s[1]]^s[2]^s[3],o[1][a]=s[0]^Eo[s[1]]^To[s[2]]^s[3],o[2][a]=s[0]^s[1]^Eo[s[2]]^To[s[3]],o[3][a]=To[s[0]]^s[1]^s[2]^Eo[s[3]];go(n,r)}yo(n,wo),vo(n),go(n,n.j),i+=lo(mo(n)),r=$(e,0,16)}return i}function Do(t,e){t=new ho(Po(t));for(var n=[],r=0;r<e.length;r+=2)n.push(parseInt(e.substring(r,r+2),16));var i=$(n,0,16);for(e="";i.length;){for(po(r=t,i),go(r,r.j),i=1;i<r.j;++i){bo(r),yo(r,Co),go(r,r.j-i);for(var o=r.h,s=r.m[0],a=0;4>a;a++)s[0]=o[0][a],s[1]=o[1][a],s[2]=o[2][a],s[3]=o[3][a],o[0][a]=Ao[s[0]]^Io[s[1]]^xo[s[2]]^ko[s[3]],o[1][a]=ko[s[0]]^Ao[s[1]]^Io[s[2]]^xo[s[3]],o[2][a]=xo[s[0]]^ko[s[1]]^Ao[s[2]]^Io[s[3]],o[3][a]=Io[s[0]]^xo[s[1]]^ko[s[2]]^Ao[s[3]]}if(bo(r),yo(r,Co),go(r,0),8192>=(r=mo(r)).length)r=String.fromCharCode.apply(null,r);else{for(i="",o=0;o<r.length;o+=8192)i+=String.fromCharCode.apply(null,Y(r,o,o+8192));r=i}e+=r,i=$(n,0,16)}return e.replace(/(\x00)+$/,"")}function Po(t){for(var e=32-(t=uo(t.substring(0,32))).length,n=0;n<e;n++)t.push(0);return t}function No(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(_(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),Fo(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Fo(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Ro,t,e),e.join("")}function Ro(){}var Mo={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Lo=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Fo(t,e){e.push('"',t.replace(Lo,(function(t){var e=Mo[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Mo[t]=e),e})),'"')}function Uo(t){this.a=t}function jo(){}function Vo(t){this.a=t}function Bo(t){if(!t.a)return!1;try{return t.a.setItem("__sak","1"),t.a.removeItem("__sak"),!0}catch(je){return!1}}function qo(){var t=null;try{t=window.localStorage||null}catch(je){}this.a=t}function Ho(){var t=null;try{t=window.sessionStorage||null}catch(je){}this.a=t}function Wo(t,e){this.f=t,this.a=e+"::"}Uo.prototype.set=function(t,e){f(e)?this.a.set(t,No(e)):this.a.ra(t)},Uo.prototype.get=function(t){try{var e=this.a.get(t)}catch(Ue){return}if(null!==e)try{return JSON.parse(e)}catch(n){throw"Storage: Invalid value was encountered"}},R(jo,io),jo.prototype.clear=function(){var t=function(t){if(w(t))return Q(t);t=ft(t);var e=[];return function(t,e){if(w(t))try{j(t,e,void 0)}catch(Ue){if(Ue!==ht)throw Ue}else{t=ft(t);try{for(;;)e.call(void 0,t.next(),void 0,t)}catch(n){if(n!==ht)throw n}}}(t,(function(t){e.push(t)})),e}(this.ha(!0)),e=this;j(t,(function(t){e.ra(t)}))},R(Vo,jo),(t=Vo.prototype).set=function(t,e){try{this.a.setItem(t,e)}catch(Ue){if(0==this.a.length)throw"Storage mechanism: Storage disabled";throw"Storage mechanism: Quota exceeded"}},t.get=function(t){if(!p(t=this.a.getItem(t))&&null!==t)throw"Storage mechanism: Invalid value was encountered";return t},t.ra=function(t){this.a.removeItem(t)},t.ha=function(t){var e=0,n=this.a,r=new dt;return r.next=function(){if(e>=n.length)throw ht;var r=n.key(e++);if(t)return r;if(!p(r=n.getItem(r)))throw"Storage mechanism: Invalid value was encountered";return r},r},t.clear=function(){this.a.clear()},t.key=function(t){return this.a.key(t)},R(qo,Vo),R(Ho,Vo),R(Wo,jo),Wo.prototype.set=function(t,e){this.f.set(this.a+t,e)},Wo.prototype.get=function(t){return this.f.get(this.a+t)},Wo.prototype.ra=function(t){this.f.ra(this.a+t)},Wo.prototype.ha=function(t){var e=this.f.ha(!0),n=this,r=new dt;return r.next=function(){for(var r=e.next();r.substr(0,n.a.length)!=n.a;)r=e.next();return t?r.substr(n.a.length):n.f.get(r)},r};var zo=new qo,Go=new Uo(Bo(zo)?new Wo(zo,"firebaseui"):null),Ko=new Ho,Qo=new Uo(Bo(Ko)?new Wo(Ko,"firebaseui"):null),$o={name:"pendingEmailCredential",storage:Qo},Yo={name:"redirectStatus",storage:Qo},Xo={name:"redirectUrl",storage:Qo},Zo={name:"rememberAccount",storage:Qo},Jo={name:"rememberedAccounts",storage:Go},ts={name:"emailForSignIn",storage:new Uo(new oo(3600,"/"))},es={name:"pendingEncryptedCredential",storage:new Uo(new oo(3600,"/"))};function ns(t,e){return t.storage.get(e?t.name+":"+e:t.name)}function rs(t,e){t.storage.a.ra(e?t.name+":"+e:t.name)}function is(t,e,n){t.storage.set(n?t.name+":"+n:t.name,e)}function os(t){return ns(Xo,t)||null}function ss(t,e){is(Xo,t,e)}function as(t,e){is(Zo,t,e)}function cs(t){return t=ns(Jo,t)||[],t=B(t,(function(t){return to(t)})),V(t,(function(t){return null!=t}))}function us(t){return ao(t=ns($o,t)||null)}function ls(t){rs($o,t)}function hs(t,e){is($o,t.aa(),e)}function ds(t){return(t=ns(Yo,t)||null)&&void 0!==t.tenantId?new co(t.tenantId):null}function fs(t,e){is(Yo,t.aa(),e)}function ps(){this.V={}}function ms(t,e,n){if(e.toLowerCase()in t.V)throw Error("Configuration "+e+" has already been defined.");t.V[e.toLowerCase()]=n}function gs(t,e,n){if(!(e.toLowerCase()in t.V))throw Error("Configuration "+e+" is not defined.");t.V[e.toLowerCase()]=n}function ys(t,e){if(!(t=t.get(e)))throw Error("Configuration "+e+" is required.");return t}function vs(){this.f=void 0,this.a={}}function bs(t,e,n,r){for(var i=0;i<e.length;i++){var o=e.charAt(i);t.a[o]||(t.a[o]=new vs),t=t.a[o]}if(r&&void 0!==t.f)throw Error('The collection already contains the key "'+e+'"');t.f=n}function _s(t){for(this.a=t,this.f=new vs,t=0;t<this.a.length;t++){var e=this.f.get("+"+this.a[t].b);e?e.push(this.a[t]):this.f.add("+"+this.a[t].b,[this.a[t]])}}function ws(t,e){var n={},r=0;for(void 0!==(t=t.f).f&&(n[r]=t.f);r<e.length;r++){var i=e.charAt(r);if(!(i in t.a))break;void 0!==(t=t.a[i]).f&&(n[r]=t.f)}for(var o in n)if(n.hasOwnProperty(o))return n[o];return[]}function Cs(t){for(var e=0;e<ks.length;e++)if(ks[e].c===t)return ks[e];return null}function Ss(t){t=t.toUpperCase();for(var e=[],n=0;n<ks.length;n++)ks[n].g===t&&e.push(ks[n]);return e}function Es(t){if(0<t.length&&"+"==t.charAt(0)){t=t.substring(1);for(var e=[],n=0;n<ks.length;n++)ks[n].b==t&&e.push(ks[n]);t=e}else t=Ss(t);return t}function Ts(t){t.sort((function(t,e){return t.name.localeCompare(e.name,"en")}))}ps.prototype.get=function(t){if(!(t.toLowerCase()in this.V))throw Error("Configuration "+t+" is not defined.");return this.V[t.toLowerCase()]},(t=vs.prototype).set=function(t,e){bs(this,t,e,!1)},t.add=function(t,e){bs(this,t,e,!0)},t.get=function(t){t:{for(var e=this,n=0;n<t.length;n++)if(!(e=e.a[t.charAt(n)])){t=void 0;break t}t=e}return t?t.f:void 0},t.la=function(){var t=[];return function t(e,n){for(var r in void 0!==e.f&&n.push(e.f),e.a)t(e.a[r],n)}(this,t),t},t.ja=function(){var t=[];return function t(e,n,r){for(var i in void 0!==e.f&&r.push(n),e.a)t(e.a[i],n+i,r)}(this,"",t),t},t.clear=function(){this.a={},this.f=void 0};var ks=[{name:"Afghanistan",c:"93-AF-0",b:"93",g:"AF"},{name:"\xc5land Islands",c:"358-AX-0",b:"358",g:"AX"},{name:"Albania",c:"355-AL-0",b:"355",g:"AL"},{name:"Algeria",c:"213-DZ-0",b:"213",g:"DZ"},{name:"American Samoa",c:"1-AS-0",b:"1",g:"AS"},{name:"Andorra",c:"376-AD-0",b:"376",g:"AD"},{name:"Angola",c:"244-AO-0",b:"244",g:"AO"},{name:"Anguilla",c:"1-AI-0",b:"1",g:"AI"},{name:"Antigua and Barbuda",c:"1-AG-0",b:"1",g:"AG"},{name:"Argentina",c:"54-AR-0",b:"54",g:"AR"},{name:"Armenia",c:"374-AM-0",b:"374",g:"AM"},{name:"Aruba",c:"297-AW-0",b:"297",g:"AW"},{name:"Ascension Island",c:"247-AC-0",b:"247",g:"AC"},{name:"Australia",c:"61-AU-0",b:"61",g:"AU"},{name:"Austria",c:"43-AT-0",b:"43",g:"AT"},{name:"Azerbaijan",c:"994-AZ-0",b:"994",g:"AZ"},{name:"Bahamas",c:"1-BS-0",b:"1",g:"BS"},{name:"Bahrain",c:"973-BH-0",b:"973",g:"BH"},{name:"Bangladesh",c:"880-BD-0",b:"880",g:"BD"},{name:"Barbados",c:"1-BB-0",b:"1",g:"BB"},{name:"Belarus",c:"375-BY-0",b:"375",g:"BY"},{name:"Belgium",c:"32-BE-0",b:"32",g:"BE"},{name:"Belize",c:"501-BZ-0",b:"501",g:"BZ"},{name:"Benin",c:"229-BJ-0",b:"229",g:"BJ"},{name:"Bermuda",c:"1-BM-0",b:"1",g:"BM"},{name:"Bhutan",c:"975-BT-0",b:"975",g:"BT"},{name:"Bolivia",c:"591-BO-0",b:"591",g:"BO"},{name:"Bosnia and Herzegovina",c:"387-BA-0",b:"387",g:"BA"},{name:"Botswana",c:"267-BW-0",b:"267",g:"BW"},{name:"Brazil",c:"55-BR-0",b:"55",g:"BR"},{name:"British Indian Ocean Territory",c:"246-IO-0",b:"246",g:"IO"},{name:"British Virgin Islands",c:"1-VG-0",b:"1",g:"VG"},{name:"Brunei",c:"673-BN-0",b:"673",g:"BN"},{name:"Bulgaria",c:"359-BG-0",b:"359",g:"BG"},{name:"Burkina Faso",c:"226-BF-0",b:"226",g:"BF"},{name:"Burundi",c:"257-BI-0",b:"257",g:"BI"},{name:"Cambodia",c:"855-KH-0",b:"855",g:"KH"},{name:"Cameroon",c:"237-CM-0",b:"237",g:"CM"},{name:"Canada",c:"1-CA-0",b:"1",g:"CA"},{name:"Cape Verde",c:"238-CV-0",b:"238",g:"CV"},{name:"Caribbean Netherlands",c:"599-BQ-0",b:"599",g:"BQ"},{name:"Cayman Islands",c:"1-KY-0",b:"1",g:"KY"},{name:"Central African Republic",c:"236-CF-0",b:"236",g:"CF"},{name:"Chad",c:"235-TD-0",b:"235",g:"TD"},{name:"Chile",c:"56-CL-0",b:"56",g:"CL"},{name:"China",c:"86-CN-0",b:"86",g:"CN"},{name:"Christmas Island",c:"61-CX-0",b:"61",g:"CX"},{name:"Cocos [Keeling] Islands",c:"61-CC-0",b:"61",g:"CC"},{name:"Colombia",c:"57-CO-0",b:"57",g:"CO"},{name:"Comoros",c:"269-KM-0",b:"269",g:"KM"},{name:"Democratic Republic Congo",c:"243-CD-0",b:"243",g:"CD"},{name:"Republic of Congo",c:"242-CG-0",b:"242",g:"CG"},{name:"Cook Islands",c:"682-CK-0",b:"682",g:"CK"},{name:"Costa Rica",c:"506-CR-0",b:"506",g:"CR"},{name:"C\xf4te d'Ivoire",c:"225-CI-0",b:"225",g:"CI"},{name:"Croatia",c:"385-HR-0",b:"385",g:"HR"},{name:"Cuba",c:"53-CU-0",b:"53",g:"CU"},{name:"Cura\xe7ao",c:"599-CW-0",b:"599",g:"CW"},{name:"Cyprus",c:"357-CY-0",b:"357",g:"CY"},{name:"Czech Republic",c:"420-CZ-0",b:"420",g:"CZ"},{name:"Denmark",c:"45-DK-0",b:"45",g:"DK"},{name:"Djibouti",c:"253-DJ-0",b:"253",g:"DJ"},{name:"Dominica",c:"1-DM-0",b:"1",g:"DM"},{name:"Dominican Republic",c:"1-DO-0",b:"1",g:"DO"},{name:"East Timor",c:"670-TL-0",b:"670",g:"TL"},{name:"Ecuador",c:"593-EC-0",b:"593",g:"EC"},{name:"Egypt",c:"20-EG-0",b:"20",g:"EG"},{name:"El Salvador",c:"503-SV-0",b:"503",g:"SV"},{name:"Equatorial Guinea",c:"240-GQ-0",b:"240",g:"GQ"},{name:"Eritrea",c:"291-ER-0",b:"291",g:"ER"},{name:"Estonia",c:"372-EE-0",b:"372",g:"EE"},{name:"Ethiopia",c:"251-ET-0",b:"251",g:"ET"},{name:"Falkland Islands [Islas Malvinas]",c:"500-FK-0",b:"500",g:"FK"},{name:"Faroe Islands",c:"298-FO-0",b:"298",g:"FO"},{name:"Fiji",c:"679-FJ-0",b:"679",g:"FJ"},{name:"Finland",c:"358-FI-0",b:"358",g:"FI"},{name:"France",c:"33-FR-0",b:"33",g:"FR"},{name:"French Guiana",c:"594-GF-0",b:"594",g:"GF"},{name:"French Polynesia",c:"689-PF-0",b:"689",g:"PF"},{name:"Gabon",c:"241-GA-0",b:"241",g:"GA"},{name:"Gambia",c:"220-GM-0",b:"220",g:"GM"},{name:"Georgia",c:"995-GE-0",b:"995",g:"GE"},{name:"Germany",c:"49-DE-0",b:"49",g:"DE"},{name:"Ghana",c:"233-GH-0",b:"233",g:"GH"},{name:"Gibraltar",c:"350-GI-0",b:"350",g:"GI"},{name:"Greece",c:"30-GR-0",b:"30",g:"GR"},{name:"Greenland",c:"299-GL-0",b:"299",g:"GL"},{name:"Grenada",c:"1-GD-0",b:"1",g:"GD"},{name:"Guadeloupe",c:"590-GP-0",b:"590",g:"GP"},{name:"Guam",c:"1-GU-0",b:"1",g:"GU"},{name:"Guatemala",c:"502-GT-0",b:"502",g:"GT"},{name:"Guernsey",c:"44-GG-0",b:"44",g:"GG"},{name:"Guinea Conakry",c:"224-GN-0",b:"224",g:"GN"},{name:"Guinea-Bissau",c:"245-GW-0",b:"245",g:"GW"},{name:"Guyana",c:"592-GY-0",b:"592",g:"GY"},{name:"Haiti",c:"509-HT-0",b:"509",g:"HT"},{name:"Heard Island and McDonald Islands",c:"672-HM-0",b:"672",g:"HM"},{name:"Honduras",c:"504-HN-0",b:"504",g:"HN"},{name:"Hong Kong",c:"852-HK-0",b:"852",g:"HK"},{name:"Hungary",c:"36-HU-0",b:"36",g:"HU"},{name:"Iceland",c:"354-IS-0",b:"354",g:"IS"},{name:"India",c:"91-IN-0",b:"91",g:"IN"},{name:"Indonesia",c:"62-ID-0",b:"62",g:"ID"},{name:"Iran",c:"98-IR-0",b:"98",g:"IR"},{name:"Iraq",c:"964-IQ-0",b:"964",g:"IQ"},{name:"Ireland",c:"353-IE-0",b:"353",g:"IE"},{name:"Isle of Man",c:"44-IM-0",b:"44",g:"IM"},{name:"Israel",c:"972-IL-0",b:"972",g:"IL"},{name:"Italy",c:"39-IT-0",b:"39",g:"IT"},{name:"Jamaica",c:"1-JM-0",b:"1",g:"JM"},{name:"Japan",c:"81-JP-0",b:"81",g:"JP"},{name:"Jersey",c:"44-JE-0",b:"44",g:"JE"},{name:"Jordan",c:"962-JO-0",b:"962",g:"JO"},{name:"Kazakhstan",c:"7-KZ-0",b:"7",g:"KZ"},{name:"Kenya",c:"254-KE-0",b:"254",g:"KE"},{name:"Kiribati",c:"686-KI-0",b:"686",g:"KI"},{name:"Kosovo",c:"377-XK-0",b:"377",g:"XK"},{name:"Kosovo",c:"381-XK-0",b:"381",g:"XK"},{name:"Kosovo",c:"386-XK-0",b:"386",g:"XK"},{name:"Kuwait",c:"965-KW-0",b:"965",g:"KW"},{name:"Kyrgyzstan",c:"996-KG-0",b:"996",g:"KG"},{name:"Laos",c:"856-LA-0",b:"856",g:"LA"},{name:"Latvia",c:"371-LV-0",b:"371",g:"LV"},{name:"Lebanon",c:"961-LB-0",b:"961",g:"LB"},{name:"Lesotho",c:"266-LS-0",b:"266",g:"LS"},{name:"Liberia",c:"231-LR-0",b:"231",g:"LR"},{name:"Libya",c:"218-LY-0",b:"218",g:"LY"},{name:"Liechtenstein",c:"423-LI-0",b:"423",g:"LI"},{name:"Lithuania",c:"370-LT-0",b:"370",g:"LT"},{name:"Luxembourg",c:"352-LU-0",b:"352",g:"LU"},{name:"Macau",c:"853-MO-0",b:"853",g:"MO"},{name:"Macedonia",c:"389-MK-0",b:"389",g:"MK"},{name:"Madagascar",c:"261-MG-0",b:"261",g:"MG"},{name:"Malawi",c:"265-MW-0",b:"265",g:"MW"},{name:"Malaysia",c:"60-MY-0",b:"60",g:"MY"},{name:"Maldives",c:"960-MV-0",b:"960",g:"MV"},{name:"Mali",c:"223-ML-0",b:"223",g:"ML"},{name:"Malta",c:"356-MT-0",b:"356",g:"MT"},{name:"Marshall Islands",c:"692-MH-0",b:"692",g:"MH"},{name:"Martinique",c:"596-MQ-0",b:"596",g:"MQ"},{name:"Mauritania",c:"222-MR-0",b:"222",g:"MR"},{name:"Mauritius",c:"230-MU-0",b:"230",g:"MU"},{name:"Mayotte",c:"262-YT-0",b:"262",g:"YT"},{name:"Mexico",c:"52-MX-0",b:"52",g:"MX"},{name:"Micronesia",c:"691-FM-0",b:"691",g:"FM"},{name:"Moldova",c:"373-MD-0",b:"373",g:"MD"},{name:"Monaco",c:"377-MC-0",b:"377",g:"MC"},{name:"Mongolia",c:"976-MN-0",b:"976",g:"MN"},{name:"Montenegro",c:"382-ME-0",b:"382",g:"ME"},{name:"Montserrat",c:"1-MS-0",b:"1",g:"MS"},{name:"Morocco",c:"212-MA-0",b:"212",g:"MA"},{name:"Mozambique",c:"258-MZ-0",b:"258",g:"MZ"},{name:"Myanmar [Burma]",c:"95-MM-0",b:"95",g:"MM"},{name:"Namibia",c:"264-NA-0",b:"264",g:"NA"},{name:"Nauru",c:"674-NR-0",b:"674",g:"NR"},{name:"Nepal",c:"977-NP-0",b:"977",g:"NP"},{name:"Netherlands",c:"31-NL-0",b:"31",g:"NL"},{name:"New Caledonia",c:"687-NC-0",b:"687",g:"NC"},{name:"New Zealand",c:"64-NZ-0",b:"64",g:"NZ"},{name:"Nicaragua",c:"505-NI-0",b:"505",g:"NI"},{name:"Niger",c:"227-NE-0",b:"227",g:"NE"},{name:"Nigeria",c:"234-NG-0",b:"234",g:"NG"},{name:"Niue",c:"683-NU-0",b:"683",g:"NU"},{name:"Norfolk Island",c:"672-NF-0",b:"672",g:"NF"},{name:"North Korea",c:"850-KP-0",b:"850",g:"KP"},{name:"Northern Mariana Islands",c:"1-MP-0",b:"1",g:"MP"},{name:"Norway",c:"47-NO-0",b:"47",g:"NO"},{name:"Oman",c:"968-OM-0",b:"968",g:"OM"},{name:"Pakistan",c:"92-PK-0",b:"92",g:"PK"},{name:"Palau",c:"680-PW-0",b:"680",g:"PW"},{name:"Palestinian Territories",c:"970-PS-0",b:"970",g:"PS"},{name:"Panama",c:"507-PA-0",b:"507",g:"PA"},{name:"Papua New Guinea",c:"675-PG-0",b:"675",g:"PG"},{name:"Paraguay",c:"595-PY-0",b:"595",g:"PY"},{name:"Peru",c:"51-PE-0",b:"51",g:"PE"},{name:"Philippines",c:"63-PH-0",b:"63",g:"PH"},{name:"Poland",c:"48-PL-0",b:"48",g:"PL"},{name:"Portugal",c:"351-PT-0",b:"351",g:"PT"},{name:"Puerto Rico",c:"1-PR-0",b:"1",g:"PR"},{name:"Qatar",c:"974-QA-0",b:"974",g:"QA"},{name:"R\xe9union",c:"262-RE-0",b:"262",g:"RE"},{name:"Romania",c:"40-RO-0",b:"40",g:"RO"},{name:"Russia",c:"7-RU-0",b:"7",g:"RU"},{name:"Rwanda",c:"250-RW-0",b:"250",g:"RW"},{name:"Saint Barth\xe9lemy",c:"590-BL-0",b:"590",g:"BL"},{name:"Saint Helena",c:"290-SH-0",b:"290",g:"SH"},{name:"St. Kitts",c:"1-KN-0",b:"1",g:"KN"},{name:"St. Lucia",c:"1-LC-0",b:"1",g:"LC"},{name:"Saint Martin",c:"590-MF-0",b:"590",g:"MF"},{name:"Saint Pierre and Miquelon",c:"508-PM-0",b:"508",g:"PM"},{name:"St. Vincent",c:"1-VC-0",b:"1",g:"VC"},{name:"Samoa",c:"685-WS-0",b:"685",g:"WS"},{name:"San Marino",c:"378-SM-0",b:"378",g:"SM"},{name:"S\xe3o Tom\xe9 and Pr\xedncipe",c:"239-ST-0",b:"239",g:"ST"},{name:"Saudi Arabia",c:"966-SA-0",b:"966",g:"SA"},{name:"Senegal",c:"221-SN-0",b:"221",g:"SN"},{name:"Serbia",c:"381-RS-0",b:"381",g:"RS"},{name:"Seychelles",c:"248-SC-0",b:"248",g:"SC"},{name:"Sierra Leone",c:"232-SL-0",b:"232",g:"SL"},{name:"Singapore",c:"65-SG-0",b:"65",g:"SG"},{name:"Sint Maarten",c:"1-SX-0",b:"1",g:"SX"},{name:"Slovakia",c:"421-SK-0",b:"421",g:"SK"},{name:"Slovenia",c:"386-SI-0",b:"386",g:"SI"},{name:"Solomon Islands",c:"677-SB-0",b:"677",g:"SB"},{name:"Somalia",c:"252-SO-0",b:"252",g:"SO"},{name:"South Africa",c:"27-ZA-0",b:"27",g:"ZA"},{name:"South Georgia and the South Sandwich Islands",c:"500-GS-0",b:"500",g:"GS"},{name:"South Korea",c:"82-KR-0",b:"82",g:"KR"},{name:"South Sudan",c:"211-SS-0",b:"211",g:"SS"},{name:"Spain",c:"34-ES-0",b:"34",g:"ES"},{name:"Sri Lanka",c:"94-LK-0",b:"94",g:"LK"},{name:"Sudan",c:"249-SD-0",b:"249",g:"SD"},{name:"Suriname",c:"597-SR-0",b:"597",g:"SR"},{name:"Svalbard and Jan Mayen",c:"47-SJ-0",b:"47",g:"SJ"},{name:"Swaziland",c:"268-SZ-0",b:"268",g:"SZ"},{name:"Sweden",c:"46-SE-0",b:"46",g:"SE"},{name:"Switzerland",c:"41-CH-0",b:"41",g:"CH"},{name:"Syria",c:"963-SY-0",b:"963",g:"SY"},{name:"Taiwan",c:"886-TW-0",b:"886",g:"TW"},{name:"Tajikistan",c:"992-TJ-0",b:"992",g:"TJ"},{name:"Tanzania",c:"255-TZ-0",b:"255",g:"TZ"},{name:"Thailand",c:"66-TH-0",b:"66",g:"TH"},{name:"Togo",c:"228-TG-0",b:"228",g:"TG"},{name:"Tokelau",c:"690-TK-0",b:"690",g:"TK"},{name:"Tonga",c:"676-TO-0",b:"676",g:"TO"},{name:"Trinidad/Tobago",c:"1-TT-0",b:"1",g:"TT"},{name:"Tunisia",c:"216-TN-0",b:"216",g:"TN"},{name:"Turkey",c:"90-TR-0",b:"90",g:"TR"},{name:"Turkmenistan",c:"993-TM-0",b:"993",g:"TM"},{name:"Turks and Caicos Islands",c:"1-TC-0",b:"1",g:"TC"},{name:"Tuvalu",c:"688-TV-0",b:"688",g:"TV"},{name:"U.S. Virgin Islands",c:"1-VI-0",b:"1",g:"VI"},{name:"Uganda",c:"256-UG-0",b:"256",g:"UG"},{name:"Ukraine",c:"380-UA-0",b:"380",g:"UA"},{name:"United Arab Emirates",c:"971-AE-0",b:"971",g:"AE"},{name:"United Kingdom",c:"44-GB-0",b:"44",g:"GB"},{name:"United States",c:"1-US-0",b:"1",g:"US"},{name:"Uruguay",c:"598-UY-0",b:"598",g:"UY"},{name:"Uzbekistan",c:"998-UZ-0",b:"998",g:"UZ"},{name:"Vanuatu",c:"678-VU-0",b:"678",g:"VU"},{name:"Vatican City",c:"379-VA-0",b:"379",g:"VA"},{name:"Venezuela",c:"58-VE-0",b:"58",g:"VE"},{name:"Vietnam",c:"84-VN-0",b:"84",g:"VN"},{name:"Wallis and Futuna",c:"681-WF-0",b:"681",g:"WF"},{name:"Western Sahara",c:"212-EH-0",b:"212",g:"EH"},{name:"Yemen",c:"967-YE-0",b:"967",g:"YE"},{name:"Zambia",c:"260-ZM-0",b:"260",g:"ZM"},{name:"Zimbabwe",c:"263-ZW-0",b:"263",g:"ZW"}];Ts(ks);var Is=new _s(ks);function xs(t,e){this.a=t,this.za=e}function As(t){t=X(t);var e=ws(Is,t);return 0<e.length?new xs("1"==e[0].b?"1-US-0":e[0].c,X(t.substr(e[0].b.length+1))):null}function Os(t){var e=Cs(t.a);if(!e)throw Error("Country ID "+t.a+" not found.");return"+"+e.b+t.za}function Ds(t,e){for(var n=0;n<t.length;n++)if(!W(Ps,t[n])&&(null!==Ns&&t[n]in Ns||W(e,t[n])))return t[n];return null}var Ps=["emailLink","password","phone"],Ns={"facebook.com":"FacebookAuthProvider","github.com":"GithubAuthProvider","google.com":"GoogleAuthProvider",password:"EmailAuthProvider","twitter.com":"TwitterAuthProvider",phone:"PhoneAuthProvider"};function Rs(){this.a=new ps,ms(this.a,"acUiConfig"),ms(this.a,"autoUpgradeAnonymousUsers"),ms(this.a,"callbacks"),ms(this.a,"credentialHelper",ua),ms(this.a,"immediateFederatedRedirect",!1),ms(this.a,"popupMode",!1),ms(this.a,"privacyPolicyUrl"),ms(this.a,"queryParameterForSignInSuccessUrl","signInSuccessUrl"),ms(this.a,"queryParameterForWidgetMode","mode"),ms(this.a,"signInFlow"),ms(this.a,"signInOptions"),ms(this.a,"signInSuccessUrl"),ms(this.a,"siteName"),ms(this.a,"tosUrl"),ms(this.a,"widgetUrl")}function Ms(t){var e=t.a.get("widgetUrl")||ci();return Ls(t,e)}function Ls(t,e){t=Gs(t);for(var n,r=e.search(bt),i=0,o=[];0<=(n=vt(e,i,t,r));)o.push(e.substring(i,n)),i=Math.min(e.indexOf("&",n)+1||r,r);return o.push(e.substr(i)),e=o.join("").replace(wt,"$1"),(t+=r="="+encodeURIComponent("select"))?(0>(r=e.indexOf("#"))&&(r=e.length),0>(i=e.indexOf("?"))||i>r?(i=r,n=""):n=e.substring(i+1,r),r=(e=[e.substr(0,i),n,e.substr(r)])[1],e[1]=t?r?r+"&"+t:t:r,t=e[0]+(e[1]?"?"+e[1]:"")+e[2]):t=e,t}function Fs(t){var e=!!t.a.get("autoUpgradeAnonymousUsers");return e&&!na(t)&&Qi('Missing "signInFailure" callback: "signInFailure" callback needs to be provided when "autoUpgradeAnonymousUsers" is set to true.',void 0),e}function Us(t){t=t.a.get("signInOptions")||[];for(var e=[],n=0;n<t.length;n++){var r=t[n];(r=S(r)?r:{provider:r}).provider&&e.push(r)}return e}function js(t,e){t=Us(t);for(var n=0;n<t.length;n++)if(t[n].provider===e)return t[n];return null}function Vs(t){return B(Us(t),(function(t){return t.provider}))}function Bs(t,e){t=qs(t);for(var n=0;n<t.length;n++)if(t[n].providerId===e)return t[n];return null}function qs(t){return B(Us(t),(function(t){return Ns[t.provider]||W(ga,t.provider)?{providerId:t.provider}:{providerId:t.provider,rb:t.providerName||null,Ga:t.buttonColor||null,Na:t.iconUrl?Te(xe(t.iconUrl)):null,Nb:t.loginHintKey||null}}))}function Hs(t,e){return _(t=(t=js(t,e))&&t.scopes)?t:[]}function Ws(t,e){return S(t=(t=js(t,e))&&t.customParameters)?(t=ct(t),e===zb.auth.GoogleAuthProvider.PROVIDER_ID&&delete t.login_hint,e===zb.auth.GithubAuthProvider.PROVIDER_ID&&delete t.login,t):null}function zs(t){if(!(t=js(t,zb.auth.PhoneAuthProvider.PROVIDER_ID)))return null;var e=t.whitelistedCountries,n=t.blacklistedCountries;if(void 0!==e&&(!_(e)||0==e.length))throw Error("WhitelistedCountries must be a non-empty array.");if(void 0!==n&&!_(n))throw Error("BlacklistedCountries must be an array.");if(e&&n)throw Error("Both whitelistedCountries and blacklistedCountries are provided.");if(!e&&!n)return ks;if(t=[],e){n={};for(var r=0;r<e.length;r++)for(var i=Es(e[r]),o=0;o<i.length;o++)n[i[o].c]=i[o];for(var s in n)n.hasOwnProperty(s)&&t.push(n[s])}else{for(s={},e=0;e<n.length;e++)for(i=Es(n[e]),r=0;r<i.length;r++)s[i[r].c]=i[r];for(i=0;i<ks.length;i++)null!==s&&ks[i].c in s||t.push(ks[i])}return t}function Gs(t){return ys(t.a,"queryParameterForWidgetMode")}function Ks(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Zi("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if(C(e))return e;if("string"==typeof e)return function(){si(e)}}return null}function Qs(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Zi("Term of Service URL is missing, the link will not be displayed."),e&&n){if(C(n))return n;if("string"==typeof n)return function(){si(n)}}return null}function $s(t){return!(t=js(t,zb.auth.EmailAuthProvider.PROVIDER_ID))||void 0===t.requireDisplayName||!!t.requireDisplayName}function Ys(t){return!(!(t=js(t,zb.auth.EmailAuthProvider.PROVIDER_ID))||t.signInMethod!==zb.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD)}function Xs(t){var e=!!t.a.get("immediateFederatedRedirect"),n=Vs(t);return t=Zs(t),e&&1==n.length&&!W(Ps,n[0])&&t==fa}function Zs(t){for(var e in t=t.a.get("signInFlow"),pa)if(pa[e]==t)return pa[e];return fa}function Js(t){return ra(t).uiShown||null}function ta(t){return ra(t).signInSuccess||null}function ea(t){return ra(t).signInSuccessWithAuthResult||null}function na(t){return ra(t).signInFailure||null}function ra(t){return t.a.get("callbacks")||{}}function ia(t){if("http:"!==(window.location&&window.location.protocol)&&"https:"!==(window.location&&window.location.protocol))return ha;for(var e in t=t.a.get("credentialHelper"),da)if(da[e]==t)return da[e];return ua}var oa,sa,aa,ca,ua="accountchooser.com",la="googleyolo",ha="none",da={jc:ua,mc:la,NONE:ha},fa="redirect",pa={pc:"popup",qc:fa},ma={lc:"callback",RECOVER_EMAIL:"recoverEmail",rc:"resetPassword",sc:"select",tc:"signIn",VERIFY_EMAIL:"verifyEmail"},ga=["anonymous"],ya=["sitekey","tabindex","callback","expired-callback"],va={};function ba(t,e,n,r){va[t].apply(null,Array.prototype.slice.call(arguments,1))}var _a=null;function wa(t){return!(!t||-32e3!=t.code||"Service unavailable"!=t.message)}function Ca(t,e,n){function r(){var t=It(window.location.href,n).toString();_a.select(B(e||[],(function(t){return t.aa()})),{clientCallbackUrl:t})}e&&e.length?r():_a.checkEmpty((function(e,n){e||n?t(!wa(n)):r()}))}function Sa(t){this.a=t,this.a.callbacks=this.a.callbacks||{}}(t=Sa.prototype).store=function(){C(this.a.callbacks.store)&&this.a.callbacks.store(void 0,Ea)},t.select=function(){C(this.a.callbacks.select)&&this.a.callbacks.select(void 0,Ea)},t.update=function(){C(this.a.callbacks.update)&&this.a.callbacks.update(void 0,Ea)},t.checkDisabled=function(t){t(!0)},t.checkEmpty=function(t){t(void 0,Ea)},t.checkAccountExist=function(t,e){e(void 0,Ea)},t.checkShouldUpdate=function(t,e){e(void 0,Ea)};var Ea={code:-32e3,message:"Service unavailable",data:"Service is unavailable."},Ta=/MSIE ([\d.]+).*Windows NT ([\d.]+)/,ka=/Firefox\/([\d.]+)/,Ia=/Opera[ \/]([\d.]+)(.*Version\/([\d.]+))?/,xa=/Chrome\/([\d.]+)/,Aa=/((Windows NT ([\d.]+))|(Mac OS X ([\d_]+))).*Version\/([\d.]+).*Safari/,Oa=/Mac OS X;.*(?!(Version)).*Safari/,Da=/Android ([\d.]+).*Safari/,Pa=/OS ([\d_]+) like Mac OS X.*Mobile.*Safari/,Na=/Konqueror\/([\d.]+)/,Ra=/MSIE ([\d.]+).*Windows Phone OS ([\d.]+)/;function Ma(t,e){for(t=t.split(e||"."),this.a=[],e=0;e<t.length;e++)this.a.push(parseInt(t[e],10))}function La(t,e){return 0<=function(t,e){e instanceof Ma||(e=new Ma(String(e)));for(var n=Math.max(t.a.length,e.a.length),r=0;r<n;r++){var i=t.a[r],o=e.a[r];if(void 0!==i&&void 0!==o&&i!==o)return i-o;if(void 0===i)return-1;if(void 0===o)return 1}return 0}(t,e)}function Fa(t){return t.classList?t.classList:p(t=t.className)&&t.match(/\S+/g)||[]}function Ua(t,e){return t.classList?t.classList.contains(e):W(Fa(t),e)}function ja(t,e){t.classList?t.classList.add(e):Ua(t,e)||(t.className+=0<t.className.length?" "+e:e)}function Va(t,e){t.classList?t.classList.remove(e):Ua(t,e)&&(t.className=V(Fa(t),(function(t){return t!=e})).join(" "))}function Ba(t){var e=t.type;switch(p(e)&&e.toLowerCase()){case"checkbox":case"radio":return t.checked?t.value:null;case"select-one":return 0<=(e=t.selectedIndex)?t.options[e].value:null;case"select-multiple":e=[];for(var n,r=0;n=t.options[r];r++)n.selected&&e.push(n.value);return e.length?e:null;default:return null!=t.value?t.value:null}}function qa(t,e){var n=t.type;switch(p(n)&&n.toLowerCase()){case"checkbox":case"radio":t.checked=e;break;case"select-one":if(t.selectedIndex=-1,p(e))for(var r=0;n=t.options[r];r++)if(n.value==e){n.selected=!0;break}break;case"select-multiple":for(p(e)&&(e=[e]),r=0;n=t.options[r];r++)if(n.selected=!1,e)for(var i,o=0;i=e[o];o++)n.value==i&&(n.selected=!0);break;default:t.value=null!=e?e:""}}function Ha(t,e,n,r,i,o){if(oe&&!pe("525"))return!0;if(ae&&i)return Wa(t);if(i&&!r)return!1;if(!ie&&("number"==typeof e&&(e=za(e)),(!n||ae)&&(17==e||18==e||ae&&91==e)||ae&&16==e&&(r||o)))return!1;if((oe||ne)&&r&&n)switch(t){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(ee&&r&&e==t)return!1;switch(t){case 13:return!(ie&&(o||i||n&&r));case 27:return!(oe||ne||ie)}return(!ie||!(r||i||o))&&Wa(t)}function Wa(t){if(48<=t&&57>=t||96<=t&&106>=t||65<=t&&90>=t||(oe||ne)&&0==t)return!0;switch(t){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:case 163:return!0;case 173:return ie;default:return!1}}function za(t){if(ie)t=function(t){switch(t){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return t}}(t);else if(ae&&oe)switch(t){case 93:t=91}return t}function Ga(t){yr.call(this),this.a=t,or(t,"keydown",this.f,!1,this),or(t,"click",this.h,!1,this)}function Ka(t,e){var n=new $a(e);if(vr(t,n)){n=new Qa(e);try{vr(t,n)}finally{e.stopPropagation()}}}function Qa(t){Qn.call(this,t.a),this.type="action"}function $a(t){Qn.call(this,t.a),this.type="beforeaction"}function Ya(t){yr.call(this),this.a=t,t=ee?"focusout":"blur",this.f=or(this.a,ee?"focusin":"focus",this,!ee),this.h=or(this.a,t,this,!ee)}function Xa(t,e){yr.call(this),this.f=t||1,this.a=e||d,this.h=x(this.fc,this),this.j=P()}function Za(t){t.Ka=!1,t.$&&(t.a.clearTimeout(t.$),t.$=null)}function Ja(t){Un.call(this),this.f=t,this.a={}}R(Ga,yr),Ga.prototype.f=function(t){(13==t.keyCode||oe&&3==t.keyCode)&&Ka(this,t)},Ga.prototype.h=function(t){Ka(this,t)},Ga.prototype.s=function(){Ga.K.s.call(this),cr(this.a,"keydown",this.f,!1,this),cr(this.a,"click",this.h,!1,this),delete this.a},R(Qa,Qn),R($a,Qn),R(Ya,yr),Ya.prototype.handleEvent=function(t){var e=new Qn(t.a);e.type="focusin"==t.type||"focus"==t.type?"focusin":"focusout",vr(this,e)},Ya.prototype.s=function(){Ya.K.s.call(this),ur(this.f),ur(this.h),delete this.a},R(Xa,yr),(t=Xa.prototype).Ka=!1,t.$=null,t.fc=function(){if(this.Ka){var t=P()-this.j;0<t&&t<.8*this.f?this.$=this.a.setTimeout(this.h,this.f-t):(this.$&&(this.a.clearTimeout(this.$),this.$=null),vr(this,"tick"),this.Ka&&(Za(this),this.start()))}},t.start=function(){this.Ka=!0,this.$||(this.$=this.a.setTimeout(this.h,this.f),this.j=P())},t.s=function(){Xa.K.s.call(this),Za(this),delete this.a},R(Ja,Un);var tc=[];function ec(t,e,n,r){_(n)||(n&&(tc[0]=n.toString()),n=tc);for(var i=0;i<n.length;i++){var o=or(e,n[i],r||t.handleEvent,!1,t.f||t);if(!o)break;t.a[o.key]=o}}function nc(t){at(t.a,(function(t,e){this.a.hasOwnProperty(e)&&ur(t)}),t),t.a={}}function rc(t){yr.call(this),this.a=null,this.f=t,t=ee||ne||oe&&!pe("531")&&"TEXTAREA"==t.tagName,this.h=new Ja(this),ec(this.h,this.f,t?["keydown","paste","cut","drop","input"]:"input",this)}function ic(t){null!=t.a&&(d.clearTimeout(t.a),t.a=null)}function oc(t){return(t=new Qn(t.a)).type="input",t}function sc(t,e){yr.call(this),t&&(this.Pa&&hc(this),this.qa=t,this.Oa=or(this.qa,"keypress",this,e),this.Za=or(this.qa,"keydown",this.Ib,e,this),this.Pa=or(this.qa,"keyup",this.Jb,e,this))}Ja.prototype.s=function(){Ja.K.s.call(this),nc(this)},Ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},R(rc,yr),rc.prototype.handleEvent=function(t){if("input"==t.type)ee&&pe(10)&&0==t.keyCode&&0==t.j||(ic(this),vr(this,oc(t)));else if("keydown"!=t.type||function(t){if(t.altKey&&!t.ctrlKey||t.metaKey||112<=t.keyCode&&123>=t.keyCode)return!1;if(Wa(t.keyCode))return!0;switch(t.keyCode){case 18:case 20:case 93:case 17:case 40:case 35:case 27:case 36:case 45:case 37:case 224:case 91:case 144:case 12:case 34:case 33:case 19:case 255:case 44:case 39:case 145:case 16:case 38:case 252:case 224:case 92:return!1;case 0:return!ie;default:return 166>t.keyCode||183<t.keyCode}}(t)){var e="keydown"==t.type?this.f.value:null;ee&&229==t.keyCode&&(e=null);var n=oc(t);ic(this),this.a=function(t,e){if(C(t))e&&(t=x(t,e));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=x(t.handleEvent,t)}return 2147483647<Number(0)?-1:d.setTimeout(t,0)}((function(){this.a=null,this.f.value!=e&&vr(this,n)}),this)}},rc.prototype.s=function(){rc.K.s.call(this),this.h.o(),ic(this),delete this.f},R(sc,yr),(t=sc.prototype).qa=null,t.Oa=null,t.Za=null,t.Pa=null,t.S=-1,t.W=-1,t.Va=!1;var ac={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},cc={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},uc=!oe||pe("525"),lc=ae&&ie;function hc(t){t.Oa&&(ur(t.Oa),ur(t.Za),ur(t.Pa),t.Oa=null,t.Za=null,t.Pa=null),t.qa=null,t.S=-1,t.W=-1}function dc(t,e,n,r){Qn.call(this,r),this.type="key",this.keyCode=t,this.j=e,this.repeat=n}function fc(t,e,n,r){this.top=t,this.right=e,this.bottom=n,this.left=r}function pc(t,e){var n=Ye(t);return n.defaultView&&n.defaultView.getComputedStyle&&(t=n.defaultView.getComputedStyle(t,null))&&(t[e]||t.getPropertyValue(e))||""}function mc(t){try{var e=t.getBoundingClientRect()}catch(Ue){return{left:0,top:0,right:0,bottom:0}}return ee&&t.ownerDocument.body&&(e.left-=(t=t.ownerDocument).documentElement.clientLeft+t.body.clientLeft,e.top-=t.documentElement.clientTop+t.body.clientTop),e}function gc(t){var e=Ye(t),n=new Be(0,0),r=e?Ye(e):document;return t==(r=!ee||9<=Number(de)||"CSS1Compat"==He(r).a.compatMode?r.documentElement:r.body)?n:(t=mc(t),e=Qe(r=He(e).a),r=r.parentWindow||r.defaultView,e=ee&&pe("10")&&r.pageYOffset!=e.scrollTop?new Be(e.scrollLeft,e.scrollTop):new Be(r.pageXOffset||e.scrollLeft,r.pageYOffset||e.scrollTop),n.a=t.left+e.a,n.f=t.top+e.f,n)}(t=sc.prototype).Ib=function(t){(oe||ne)&&(17==this.S&&!t.ctrlKey||18==this.S&&!t.altKey||ae&&91==this.S&&!t.metaKey)&&(this.W=this.S=-1),-1==this.S&&(t.ctrlKey&&17!=t.keyCode?this.S=17:t.altKey&&18!=t.keyCode?this.S=18:t.metaKey&&91!=t.keyCode&&(this.S=91)),uc&&!Ha(t.keyCode,this.S,t.shiftKey,t.ctrlKey,t.altKey,t.metaKey)?this.handleEvent(t):(this.W=za(t.keyCode),lc&&(this.Va=t.altKey))},t.Jb=function(t){this.W=this.S=-1,this.Va=t.altKey},t.handleEvent=function(t){var e=t.a,n=e.altKey;if(ee&&"keypress"==t.type)var r=this.W,i=13!=r&&27!=r?e.keyCode:0;else(oe||ne)&&"keypress"==t.type?(r=this.W,i=0<=e.charCode&&63232>e.charCode&&Wa(r)?e.charCode:0):te&&!oe?i=Wa(r=this.W)?e.keyCode:0:("keypress"==t.type?(lc&&(n=this.Va),e.keyCode==e.charCode?32>e.keyCode?(r=e.keyCode,i=0):(r=this.W,i=e.charCode):(r=e.keyCode||this.W,i=e.charCode||0)):(r=e.keyCode||this.W,i=e.charCode||0),ae&&63==i&&224==r&&(r=191));var o=r=za(r);r?63232<=r&&r in ac?o=ac[r]:25==r&&t.shiftKey&&(o=9):e.keyIdentifier&&e.keyIdentifier in cc&&(o=cc[e.keyIdentifier]),ie&&uc&&"keypress"==t.type&&!Ha(o,this.S,t.shiftKey,t.ctrlKey,n,t.metaKey)||(t=o==this.S,this.S=o,(e=new dc(o,i,t,e)).altKey=n,vr(this,e))},t.P=function(){return this.qa},t.s=function(){sc.K.s.call(this),hc(this)},R(dc,Qn),fc.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"},fc.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},fc.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},fc.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this};var yc={thin:2,medium:4,thick:6};function vc(t,e){if("none"==(t.currentStyle?t.currentStyle[e+"Style"]:null))return 0;var n=t.currentStyle?t.currentStyle[e+"Width"]:null;if(n in yc)t=yc[n];else if(/^\d+px?$/.test(n))t=parseInt(n,10);else{e=t.style.left;var r=t.runtimeStyle.left;t.runtimeStyle.left=t.currentStyle.left,t.style.left=n,n=t.style.pixelLeft,t.style.left=e,t.runtimeStyle.left=r,t=+n}return t}function bc(){}function _c(t){yr.call(this),this.m=t||He(),this.eb=null,this.na=!1,this.f=null,this.J=void 0,this.oa=this.Ca=this.X=null}function wc(t,e){return t.f?ze(e,t.f||t.m.a):null}function Cc(t){return t.J||(t.J=new Ja(t)),t.J}function Sc(t,e){t.Ca&&j(t.Ca,e,void 0)}function Ec(t,e){var n=Ze(t,"firebaseui-textfield");e?(Va(t,"firebaseui-input-invalid"),ja(t,"firebaseui-input"),n&&Va(n,"firebaseui-textfield-invalid")):(Va(t,"firebaseui-input"),ja(t,"firebaseui-input-invalid"),n&&ja(n,"firebaseui-textfield-invalid"))}function Tc(t,e,n){Bn(t,A(qn,e=new rc(e))),ec(Cc(t),e,"input",n)}function kc(t,e,n){Bn(t,A(qn,e=new sc(e))),ec(Cc(t),e,"key",(function(t){13==t.keyCode&&(t.stopPropagation(),t.preventDefault(),n(t))}))}function Ic(t,e,n){Bn(t,A(qn,e=new Ga(e))),ec(Cc(t),e,"action",(function(t){t.stopPropagation(),t.preventDefault(),n(t)}))}function xc(t){ja(t,"firebaseui-hidden")}function Ac(t,e){e&&Xe(t,e),Va(t,"firebaseui-hidden")}function Oc(t){return!Ua(t,"firebaseui-hidden")&&"none"!=t.style.display}function Dc(t){var e=(t=t||{}).email,n=t.disabled,r='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-email-input">';return r=t.vc?r+"Enter new email address":r+"Email",r+='</label><input type="email" name="email" id="ui-sign-in-email-input" autocomplete="username" class="mdl-textfield__input firebaseui-input firebaseui-id-email" value="'+vn(null!=e?e:"")+'"'+(n?"disabled":"")+'></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-email-error"></p></div>',pn(r)}function Pc(t){var e='<button type="submit" class="firebaseui-id-submit firebaseui-button mdl-button mdl-js-button mdl-button--raised mdl-button--colored">';return e=(t=(t=t||{}).label)?e+ln(t):e+"Next",pn(e+"</button>")}function Nc(){var t=""+Pc({label:gn("Sign In")});return pn(t)}function Rc(){var t=""+Pc({label:gn("Save")});return pn(t)}function Mc(){var t=""+Pc({label:gn("Continue")});return pn(t)}function Lc(t){var e='<div class="firebaseui-new-password-component"><div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-new-password-input">';return e=(t=(t=t||{}).label)?e+ln(t):e+"Choose password",pn(e+'</label><input type="password" name="newPassword" id="ui-sign-in-new-password-input" autocomplete="new-password" class="mdl-textfield__input firebaseui-input firebaseui-id-new-password"></div><a href="javascript:void(0)" class="firebaseui-input-floating-button firebaseui-id-password-toggle firebaseui-input-toggle-on firebaseui-input-toggle-blur"></a><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-new-password-error"></p></div></div>')}function Fc(){var t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-password-input">';return pn((t={}.current?t+"Current password":t+"Password")+'</label><input type="password" name="password" id="ui-sign-in-password-input" autocomplete="current-password" class="mdl-textfield__input firebaseui-input firebaseui-id-password"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-password-error"></p></div>')}function Uc(){return pn('<a class="firebaseui-link firebaseui-id-secondary-link" href="javascript:void(0)">Trouble signing in?</a>')}function jc(t){var e='<button class="firebaseui-id-secondary-link firebaseui-button mdl-button mdl-js-button mdl-button--primary">';return e=(t=(t=t||{}).label)?e+ln(t):e+"Cancel",pn(e+"</button>")}function Vc(t){var e="";return t.G&&t.F&&(e+='<ul class="firebaseui-tos-list firebaseui-tos"><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a></li><li class="firebaseui-inline-list-item"><a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a></li></ul>'),pn(e)}function Bc(t){var e="";return t.G&&t.F&&(e+='<p class="firebaseui-tos firebaseui-tospp-full-message">By continuing, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>.</p>'),pn(e)}function qc(t){return t='<div class="firebaseui-info-bar firebaseui-id-info-bar"><p class="firebaseui-info-bar-message">'+ln(t.message)+'&nbsp;&nbsp;<a href="javascript:void(0)" class="firebaseui-link firebaseui-id-dismiss-info-bar">Dismiss</a></p></div>',pn(t)}function Hc(t){var e=t.content;return pn('<dialog class="mdl-dialog firebaseui-dialog firebaseui-id-dialog'+((t=t.Bb)?" "+vn(t):"")+'">'+ln(e)+"</dialog>")}function Wc(t){var e=t.message;return pn(Hc({content:yn('<div class="firebaseui-dialog-icon-wrapper"><div class="'+vn(t.Ma)+' firebaseui-dialog-icon"></div></div><div class="firebaseui-progress-dialog-message">'+ln(e)+"</div>")}))}function zc(t){for(var e='<div class="firebaseui-list-box-actions">',n=(t=t.items).length,r=0;r<n;r++){var i=t[r];e+='<button type="button" data-listboxid="'+vn(i.id)+'" class="mdl-button firebaseui-id-list-box-dialog-button firebaseui-list-box-dialog-button">'+(i.Ma?'<div class="firebaseui-list-box-icon-wrapper"><div class="firebaseui-list-box-icon '+vn(i.Ma)+'"></div></div>':"")+'<div class="firebaseui-list-box-label-wrapper">'+ln(i.label)+"</div></button>"}return e=""+Hc({Bb:gn("firebaseui-list-box-dialog"),content:yn(e+"</div>")}),pn(e)}function Gc(t){return pn((t=t||{}).vb?'<div class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>':'<div class="mdl-progress mdl-js-progress mdl-progress__indeterminate firebaseui-busy-indicator firebaseui-id-busy-indicator"></div>')}function Kc(t,e){return fn((t=(t=t||{}).ga).rb?t.rb:e.ib[t.providerId]?""+e.ib[t.providerId]:0==(""+t.providerId).indexOf("saml.")?(""+t.providerId).substring(5):0==(""+t.providerId).indexOf("oidc.")?(""+t.providerId).substring(5):""+t.providerId)}function Qc(t){Xc(t,"upgradeElement")}function $c(t){Xc(t,"downgradeElements")}v(bc),bc.prototype.a=0,R(_c,yr),(t=_c.prototype).Kb=bc.Ya(),t.P=function(){return this.f},t.$a=function(t){if(this.X&&this.X!=t)throw Error("Method not supported");_c.K.$a.call(this,t)},t.lb=function(){this.f=this.m.a.createElement("DIV")},t.render=function(t){if(this.na)throw Error("Component already rendered");this.f||this.lb(),t?t.insertBefore(this.f,null):this.m.a.body.appendChild(this.f),this.X&&!this.X.na||this.v()},t.v=function(){this.na=!0,Sc(this,(function(t){!t.na&&t.P()&&t.v()}))},t.ya=function(){Sc(this,(function(t){t.na&&t.ya()})),this.J&&nc(this.J),this.na=!1},t.s=function(){this.na&&this.ya(),this.J&&(this.J.o(),delete this.J),Sc(this,(function(t){t.o()})),this.f&&$e(this.f),this.X=this.f=this.oa=this.Ca=null,_c.K.s.call(this)},t.removeChild=function(t,e){if(t){var n=p(t)?t:t.eb||(t.eb=":"+(t.Kb.a++).toString(36));if(t=this.oa&&n&&(null!==(t=this.oa)&&n in t?t[n]:void 0)||null,n&&t){var r=this.oa;if(n in r&&delete r[n],z(this.Ca,t),e&&(t.ya(),t.f&&$e(t.f)),null==(e=t))throw Error("Unable to set parent component");e.X=null,_c.K.$a.call(e,null)}}if(!t)throw Error("Child is not in parent component");return t},qc.A="firebaseui.auth.soy2.element.infoBar",Wc.A="firebaseui.auth.soy2.element.progressDialog",zc.A="firebaseui.auth.soy2.element.listBoxDialog",Gc.A="firebaseui.auth.soy2.element.busyIndicator";var Yc=["mdl-js-textfield","mdl-js-progress","mdl-js-spinner","mdl-js-button"];function Xc(t,e){t&&window.componentHandler&&window.componentHandler[e]&&j(Yc,(function(n){Ua(t,n)&&window.componentHandler[e](t),j(We(n,t),(function(t){window.componentHandler[e](t)}))}))}function Zc(t,e,n){if(Jc.call(this),document.body.appendChild(t),t.showModal||window.dialogPolyfill.registerDialog(t),t.showModal(),Qc(t),e&&Ic(this,t,(function(e){var n=t.getBoundingClientRect();(e.clientX<n.left||n.left+n.width<e.clientX||e.clientY<n.top||n.top+n.height<e.clientY)&&Jc.call(this)})),!n){var r=this.P().parentElement||this.P().parentNode;if(r){var i=this;this.da=function(){if(t.open){var e=t.getBoundingClientRect().height,n=r.getBoundingClientRect().height,o=r.getBoundingClientRect().top-document.body.getBoundingClientRect().top,s=r.getBoundingClientRect().left-document.body.getBoundingClientRect().left,a=t.getBoundingClientRect().width,c=r.getBoundingClientRect().width;t.style.top=(o+(n-e)/2).toString()+"px",t.style.left=(e=s+(c-a)/2).toString()+"px",t.style.right=(document.body.getBoundingClientRect().width-e-a).toString()+"px"}else window.removeEventListener("resize",i.da)},this.da(),window.addEventListener("resize",this.da,!1)}}}function Jc(){var t=tu.call(this);t&&($c(t),t.open&&t.close(),$e(t),this.da&&window.removeEventListener("resize",this.da))}function tu(){return ze("firebaseui-id-dialog")}function eu(){$e(nu.call(this))}function nu(){return wc(this,"firebaseui-id-info-bar")}function ru(){return wc(this,"firebaseui-id-dismiss-info-bar")}var iu={xa:{"google.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg","github.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg","facebook.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg","twitter.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/twitter.svg",password:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/mail.svg",phone:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/phone.svg",anonymous:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/anonymous.png","microsoft.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/microsoft.svg","yahoo.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/yahoo.svg","apple.com":"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/apple.png",saml:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/saml.svg",oidc:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/oidc.svg"},wa:{"google.com":"#ffffff","github.com":"#333333","facebook.com":"#3b5998","twitter.com":"#55acee",password:"#db4437",phone:"#02bd7e",anonymous:"#f4b400","microsoft.com":"#2F2F2F","yahoo.com":"#720E9E","apple.com":"#000000",saml:"#007bff",oidc:"#007bff"},ib:{"google.com":"Google","github.com":"GitHub","facebook.com":"Facebook","twitter.com":"Twitter",password:"Password",phone:"Phone",anonymous:"Guest","microsoft.com":"Microsoft","yahoo.com":"Yahoo","apple.com":"Apple"}};function ou(t,e,n){for(var r in Kn.call(this,t,e),n)this[r]=n[r]}function su(t,e,n,r,i){_c.call(this,n),this.gb=t,this.fb=e,this.Da=!1,this.Ea=r||null,this.w=this.ca=null,this.Y=ct(iu),lt(this.Y,i||{})}function au(t){return t.P().parentElement||t.P().parentNode}function cu(t,e,n){kc(t,e,(function(){n.focus()}))}function uu(t,e,n){kc(t,e,(function(){n()}))}function lu(t,e,n){e=(t=t||{}).Wa;var r=t.ia;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in with email</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Dc(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?jc(null):"")+Pc(null)+'</div></div><div class="firebaseui-card-footer">'+(r?Bc(n):Vc(n))+"</div></form></div>",pn(t)}function hu(t,e,n){return e=(t=t||{}).ia,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-in"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content">'+Dc(t)+Fc()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Uc()+'</div><div class="firebaseui-form-actions">'+Nc()+'</div></div><div class="firebaseui-card-footer">'+(e?Bc(n):Vc(n))+"</div></form></div>",pn(t)}function du(t,e,n){var r=(t=t||{}).Sb;e=t.Ua;var i=t.ia,o='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-sign-up"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Create account</h1></div><div class="firebaseui-card-content">'+Dc(t);return r?(t='<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-name-input">First &amp; last name</label><input type="text" name="name" id="ui-sign-in-name-input" autocomplete="name" class="mdl-textfield__input firebaseui-input firebaseui-id-name" value="'+vn(null!=(t=(t=t||{}).name)?t:"")+'"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-name-error"></p></div>',t=pn(t)):t="",n=o+t+Lc(null)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?jc(null):"")+Rc()+'</div></div><div class="firebaseui-card-footer">'+(i?Bc(n):Vc(n))+"</div></form></div>",pn(n)}function fu(t,e,n){return e=(t=t||{}).Ua,t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Recover password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Get instructions sent to this email that explain how to reset your password</p>'+Dc(t)+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(e?jc(null):"")+Pc({label:gn("Send")})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",pn(t)}function pu(t,e,n){e=t.T;var r="";return r+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-recovery-email-sent"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Check your email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Follow the instructions sent to <strong>"+ln(t.email)+"</strong> to recover your password")+'</p></div><div class="firebaseui-card-actions">',e&&(r+='<div class="firebaseui-form-actions">'+Pc({label:gn("Done")})+"</div>"),r+='</div><div class="firebaseui-card-footer">'+Vc(n)+"</div></div>",pn(r)}function mu(t,e,n){return pn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-callback"><div class="firebaseui-callback-indicator-container">'+Gc(null)+"</div></div>")}function gu(t,e,n){return pn('<div class="firebaseui-container firebaseui-id-page-spinner">'+Gc({vb:!0})+"</div>")}function yu(){return pn('<div class="firebaseui-container firebaseui-id-page-blank firebaseui-use-spinner"></div>')}function vu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-sent"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign-in email sent</h1></div><div class="firebaseui-card-content"><div class="firebaseui-email-sent"></div><p class="firebaseui-text">'+(t="A sign-in email with additional instructions was sent to <strong>"+ln(t.email)+"</strong>. Check your email to complete sign-in.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+pn('<a class="firebaseui-link firebaseui-id-trouble-getting-email-link" href="javascript:void(0)">Trouble getting email?</a>')+'</div><div class="firebaseui-form-actions">'+jc({label:gn("Back")})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",pn(e)}function bu(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-not-received"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Trouble getting email?</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try these common fixes:<ul><li>Check if the email was marked as spam or filtered.</li><li>Check your internet connection.</li><li>Check that you did not misspell your email.</li><li>Check that your inbox space is not running out or other inbox settings related issues.</li></ul></p><p class="firebaseui-text">If the steps above didn\'t work, you can resend the email. Note that this will deactivate the link in the older email.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+pn('<a class="firebaseui-link firebaseui-id-resend-email-link" href="javascript:void(0)">Resend</a>')+'</div><div class="firebaseui-form-actions">'+jc({label:gn("Back")})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",pn(t)}function _u(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-confirmation"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Confirm email</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Confirm your email to complete sign in</p><div class="firebaseui-relative-wrapper">'+Dc(t)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+jc(null)+Pc(null)+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",pn(t)}function wu(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-different-device-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">New device or browser detected</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Try opening the link using the same device or browser where you started the sign-in process.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+jc({label:gn("Dismiss")})+"</div></div></div>";return pn(t)}function Cu(){var t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-anonymous-user-mismatch"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Session ended</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">The session associated with this sign-in request has either expired or was cleared.</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+jc({label:gn("Dismiss")})+"</div></div></div>";return pn(t)}function Su(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(t="You\u2019ve already used <strong>"+ln(t.email)+"</strong> to sign in. Enter your password for that account.")+"</p>"+Fc()+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-links">'+Uc()+'</div><div class="firebaseui-form-actions">'+Nc()+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",pn(e)}function Eu(t,e,n){var r=t.email;return e="",t=gn(t=""+Kc(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text firebaseui-text-justify">'+(r="You\u2019ve already used <strong>"+ln(r)+"</strong>. You can connect your <strong>"+ln(t)+"</strong> account with <strong>"+ln(r)+"</strong> by signing in with email link below.")+'<p class="firebaseui-text firebaseui-text-justify">'+(t="For this flow to successfully connect your "+ln(t)+" account with this email, you have to open the link on the same device or browser.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Nc()+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",pn(e)}function Tu(t,e,n){e="";var r=""+Kc(t,n);return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-link-sign-in-linking-different-device"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text firebaseui-text-justify">'+(t="You originally intended to connect <strong>"+ln(r=gn(r))+"</strong> to your email account but have opened the link on a different device where you are not signed in.")+'</p><p class="firebaseui-text firebaseui-text-justify">'+(r="If you still want to connect your <strong>"+ln(r)+"</strong> account, open the link on the same device where you started sign-in. Otherwise, tap Continue to sign-in on this device.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Mc()+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",pn(e)}function ku(t,e,n){var r=t.email;return e="",t=gn(t=""+Kc(t,n)),e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-federated-linking"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">You already have an account</h2><p class="firebaseui-text">'+(r="You\u2019ve already used <strong>"+ln(r)+"</strong>. Sign in with "+ln(t)+" to continue.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Pc({label:gn("Sign in with "+t)})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",pn(e)}function Iu(t,e,n){return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unsupported-provider"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="To continue sign in with <strong>"+ln(t.email)+"</strong> on this device, you have to recover the password.")+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+jc(null)+Pc({label:gn("Recover password")})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",pn(e)}function xu(t){var e="";return e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Reset your password</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">for <strong>'+ln(t.email)+"</strong></p>"+Lc(function(t){function e(){}var n={label:gn("New password")};for(var r in e.prototype=t,t=new e,n)t[r]=n[r];return t}(t))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Rc()+"</div></div></form></div>",pn(e)}function Au(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Password changed</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new password</p></div><div class="firebaseui-card-actions">'+((t=t||{}).T?'<div class="firebaseui-form-actions">'+Mc()+"</div>":"")+"</div></div>",pn(t)}function Ou(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-password-reset-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try resetting your password again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to reset your password has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).T?'<div class="firebaseui-form-actions">'+Mc()+"</div>":"")+"</div></div>",pn(t)}function Du(t){var e=t.T,n="";return n+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-success"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Updated email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+(t="Your sign-in email address has been changed back to <strong>"+ln(t.email)+"</strong>.")+'</p><p class="firebaseui-text">If you didn\u2019t ask to change your sign-in email, it\u2019s possible someone is trying to access your account and you should <a class="firebaseui-link firebaseui-id-reset-password-link" href="javascript:void(0)">change your password right away</a>.</p></div><div class="firebaseui-card-actions">'+(e?'<div class="firebaseui-form-actions">'+Mc()+"</div>":"")+"</div></form></div>",pn(n)}function Pu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-change-revoke-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Unable to update your email address</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">There was a problem changing your sign-in email back.</p><p class="firebaseui-text">If you try again and still can\u2019t reset your email, try asking your administrator for help.</p></div><div class="firebaseui-card-actions">'+((t=t||{}).T?'<div class="firebaseui-form-actions">'+Mc()+"</div>":"")+"</div></div>",pn(t)}function Nu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-success"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Your email has been verified</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You can now sign in with your new account</p></div><div class="firebaseui-card-actions">'+((t=t||{}).T?'<div class="firebaseui-form-actions">'+Mc()+"</div>":"")+"</div></div>",pn(t)}function Ru(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-verification-failure"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Try verifying your email again</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">Your request to verify your email has expired or the link has already been used</p></div><div class="firebaseui-card-actions">'+((t=t||{}).T?'<div class="firebaseui-form-actions">'+Mc()+"</div>":"")+"</div></div>",pn(t)}function Mu(t){var e=t.Ab;return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-recoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+ln(t.errorMessage)+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">',e&&(t+=Pc({label:gn("Retry")})),pn(t+"</div></div></div>")}function Lu(t){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-unrecoverable-error"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Error encountered</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+ln(t.errorMessage)+"</p></div></div>",pn(t)}function Fu(t,e,n){var r=t.Pb;return e="",e+='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-email-mismatch"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><h2 class="firebaseui-subtitle">'+(t="Continue with "+ln(t.ic)+"?")+'</h2><p class="firebaseui-text">'+(r="You originally wanted to sign in with "+ln(r))+'</p></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+jc(null)+Pc({label:gn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form></div>",pn(e)}function Uu(t,e,n){var r='<div class="firebaseui-container firebaseui-page-provider-sign-in firebaseui-id-page-provider-sign-in firebaseui-use-spinner"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-idp-list">';e=(t=t.Rb).length;for(var i=0;i<e;i++){var o={ga:t[i]},s=n,a=(o=o||{}).ga,c=o,u="";switch((c=c||{}).ga.providerId){case"google.com":u+="firebaseui-idp-google";break;case"github.com":u+="firebaseui-idp-github";break;case"facebook.com":u+="firebaseui-idp-facebook";break;case"twitter.com":u+="firebaseui-idp-twitter";break;case"phone":u+="firebaseui-idp-phone";break;case"anonymous":u+="firebaseui-idp-anonymous";break;case"password":u+="firebaseui-idp-password";break;default:u+="firebaseui-idp-generic"}c=(c='<button class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised '+vn(fn(u))+' firebaseui-id-idp-button" data-provider-id="'+vn(a.providerId)+'" style="background-color:')+vn(_n(fn((u=(u=(u=o)||{}).ga).Ga?u.Ga:s.wa[u.providerId]?""+s.wa[u.providerId]:0==u.providerId.indexOf("saml.")?""+s.wa.saml:0==u.providerId.indexOf("oidc.")?""+s.wa.oidc:""+s.wa.password)))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="';var l=o;u=s,u=mn((l=(l=l||{}).ga).Na?bn(l.Na):u.xa[l.providerId]?bn(u.xa[l.providerId]):0==l.providerId.indexOf("saml.")?bn(u.xa.saml):0==l.providerId.indexOf("oidc.")?bn(u.xa.oidc):bn(u.xa.password)),c=c+vn(bn(u))+'"></span>',c+="password"==a.providerId?'<span class="firebaseui-idp-text firebaseui-idp-text-long">Sign in with email</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Email</span>':"phone"==a.providerId?'<span class="firebaseui-idp-text firebaseui-idp-text-long">Sign in with phone</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Phone</span>':"anonymous"==a.providerId?'<span class="firebaseui-idp-text firebaseui-idp-text-long">Continue as guest</span><span class="firebaseui-idp-text firebaseui-idp-text-short">Guest</span>':'<span class="firebaseui-idp-text firebaseui-idp-text-long">'+(a="Sign in with "+ln(Kc(o,s)))+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+ln(Kc(o,s))+"</span>",r+='<li class="firebaseui-list-item">'+(o=pn(c+"</button>"))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Bc(n)+"</div></div>",pn(r)}function ju(t,e,n){var r,i=(t=t||{}).Fb,o=t.Wa;return e=t.ia,t='<div class="firebaseui-phone-number"><button class="firebaseui-id-country-selector firebaseui-country-selector mdl-button mdl-js-button"><span class="firebaseui-flag firebaseui-country-selector-flag firebaseui-id-country-selector-flag"></span><span class="firebaseui-id-country-selector-code"></span></button><div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label firebaseui-textfield firebaseui-phone-input-wrapper"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-number-input">Phone number</label><input type="tel" name="phoneNumber" id="ui-sign-in-phone-number-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-number" value="'+vn(null!=(t=(t=t||{}).za)?t:"")+'"></div></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-phone-number-error firebaseui-id-phone-number-error"></p></div>',r=(t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-start"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Enter your phone number</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+pn(t))+(r=i?pn('<div class="firebaseui-recaptcha-wrapper"><div class="firebaseui-recaptcha-container"></div><div class="firebaseui-error-wrapper firebaseui-recaptcha-error-wrapper"><p class="firebaseui-error firebaseui-hidden firebaseui-id-recaptcha-error"></p></div></div>'):"")+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+(o?jc(null):"")+Pc({label:gn("Verify")})+'</div></div><div class="firebaseui-card-footer">',e?(e='<p class="firebaseui-tos firebaseui-phone-tos">',n=pn((e=n.G&&n.F?e+'By tapping Verify, you are indicating that you accept our <a href="javascript:void(0)" class="firebaseui-link firebaseui-tos-link" target="_blank">Terms of Service</a> and <a href="javascript:void(0)" class="firebaseui-link firebaseui-pp-link" target="_blank">Privacy Policy</a>. An SMS may be sent. Message &amp; data rates may apply.':e+"By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.")+"</p>")):n=pn('<p class="firebaseui-tos firebaseui-phone-sms-notice">By tapping Verify, an SMS may be sent. Message &amp; data rates may apply.</p>')+Vc(n),pn(r+n+"</div></form></div>")}function Vu(t,e,n){var r="";return t='Enter the 6-digit code we sent to <a class="firebaseui-link firebaseui-change-phone-number-link firebaseui-id-change-phone-number-link" href="javascript:void(0)">&lrm;'+ln(e=(t=t||{}).phoneNumber)+"</a>",ln(e),e=r,n='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-phone-sign-in-finish"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Verify your phone number</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">'+t+"</p>"+(r=pn('<div class="firebaseui-textfield mdl-textfield mdl-js-textfield mdl-textfield--floating-label"><label class="mdl-textfield__label firebaseui-label" for="ui-sign-in-phone-confirmation-code-input">6-digit code</label><input type="number" name="phoneConfirmationCode" id="ui-sign-in-phone-confirmation-code-input" class="mdl-textfield__input firebaseui-input firebaseui-id-phone-confirmation-code"></div><div class="firebaseui-error-wrapper"><p class="firebaseui-error firebaseui-text-input-error firebaseui-hidden firebaseui-id-phone-confirmation-code-error"></p></div>'))+'</div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+jc(null)+Pc({label:gn("Continue")})+'</div></div><div class="firebaseui-card-footer">'+Vc(n)+"</div></form>",t=pn('<div class="firebaseui-resend-container"><span class="firebaseui-id-resend-countdown"></span><a href="javascript:void(0)" class="firebaseui-id-resend-link firebaseui-hidden firebaseui-link">Resend</a></div>'),pn(e+(n+t+"</div>"))}function Bu(){return pn('<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-sign-out"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign Out</h1></div><div class="firebaseui-card-content"><p class="firebaseui-text">You are now successfully signed out.</p></div></div>')}function qu(t,e,n){var r='<div class="firebaseui-container firebaseui-page-select-tenant firebaseui-id-page-select-tenant"><div class="firebaseui-card-content"><form onsubmit="return false;"><ul class="firebaseui-tenant-list">';e=(t=t.dc).length;for(var i=0;i<e;i++){var o=t[i],s="",a="Sign in to "+ln(o.displayName),c=ln(o.displayName),u=o.tenantId?o.tenantId:"top-level-project";s+='<button class="firebaseui-tenant-button mdl-button mdl-js-button mdl-button--raised firebaseui-tenant-selection-'+vn(u=gn(u))+' firebaseui-id-tenant-selection-button"'+(o.tenantId?'data-tenant-id="'+vn(o.tenantId)+'"':"")+'style="background-color:'+vn(_n(o.Ga))+'"><span class="firebaseui-idp-icon-wrapper"><img class="firebaseui-idp-icon" alt="" src="'+vn(bn(o.Na))+'"></span><span class="firebaseui-idp-text firebaseui-idp-text-long">'+a+'</span><span class="firebaseui-idp-text firebaseui-idp-text-short">'+c+"</span></button>",r+='<li class="firebaseui-list-item">'+(o=pn(s))+"</li>"}return r+='</ul></form></div><div class="firebaseui-card-footer firebaseui-provider-sign-in-footer">'+Bc(n)+"</div></div>",pn(r)}function Hu(t,e,n){return t='<div class="mdl-card mdl-shadow--2dp firebaseui-container firebaseui-id-page-provider-match-by-email"><form onsubmit="return false;"><div class="firebaseui-card-header"><h1 class="firebaseui-title">Sign in</h1></div><div class="firebaseui-card-content"><div class="firebaseui-relative-wrapper">'+Dc(null)+'</div></div><div class="firebaseui-card-actions"><div class="firebaseui-form-actions">'+Pc(null)+'</div></div><div class="firebaseui-card-footer">'+Bc(n)+"</div></form></div>",pn(t)}function Wu(){return wc(this,"firebaseui-id-submit")}function zu(){return wc(this,"firebaseui-id-secondary-link")}function Gu(t,e){Ic(this,Wu.call(this),(function(e){t(e)}));var n=zu.call(this);n&&e&&Ic(this,n,(function(t){e(t)}))}function Ku(){return wc(this,"firebaseui-id-password")}function Qu(){return wc(this,"firebaseui-id-password-error")}function $u(){var t=Ku.call(this),e=Qu.call(this);Tc(this,t,(function(){Oc(e)&&(Ec(t,!0),xc(e))}))}function Yu(){var t=Ku.call(this),e=Qu.call(this);return Ba(t)?(Ec(t,!0),xc(e),e=!0):(Ec(t,!1),Ac(e,fn("Enter your password").toString()),e=!1),e?Ba(t):null}function Xu(t,e,n,r,i,o){su.call(this,Su,{email:t},o,"passwordLinking",{G:r,F:i}),this.B=e,this.I=n}R(ou,Kn),R(su,_c),(t=su.prototype).lb=function(){var t=sn(this.gb,this.fb,this.Y,this.m);Qc(t),this.f=t},t.v=function(){if(su.K.v.call(this),Cr(au(this),new ou("pageEnter",au(this),{pageId:this.Ea})),this.cb()&&this.Y.G){var t=this.Y.G;Ic(this,this.cb(),(function(){t()}))}if(this.bb()&&this.Y.F){var e=this.Y.F;Ic(this,this.bb(),(function(){e()}))}},t.ya=function(){Cr(au(this),new ou("pageExit",au(this),{pageId:this.Ea})),su.K.ya.call(this)},t.s=function(){window.clearTimeout(this.ca),this.fb=this.gb=this.ca=null,this.Da=!1,this.w=null,$c(this.P()),su.K.s.call(this)},t.L=function(t,e,n,r){function i(){if(o.N)return null;o.Da=!1,window.clearTimeout(o.ca),o.ca=null,o.w&&($c(o.w),$e(o.w),o.w=null)}var o=this;return o.Da?null:(function(t){t.Da=!0;var e=Ua(t.P(),"firebaseui-use-spinner");t.ca=window.setTimeout((function(){t.P()&&null===t.w&&(t.w=sn(Gc,{vb:e},null,t.m),t.P().appendChild(t.w),Qc(t.w))}),500)}(o),t.apply(null,e).then(n,r).then(i,i))},O(su.prototype,{a:function(t){eu.call(this);var e=sn(qc,{message:t},null,this.m);this.P().appendChild(e),Ic(this,ru.call(this),(function(){$e(e)}))},xc:eu,zc:nu,yc:ru,Z:function(t,e){t=sn(Wc,{Ma:t,message:e},null,this.m),Zc.call(this,t)},h:Jc,Db:tu,Bc:function(){return wc(this,"firebaseui-tos")},cb:function(){return wc(this,"firebaseui-tos-link")},bb:function(){return wc(this,"firebaseui-pp-link")},Cc:function(){return wc(this,"firebaseui-tos-list")}}),lu.A="firebaseui.auth.soy2.page.signIn",hu.A="firebaseui.auth.soy2.page.passwordSignIn",du.A="firebaseui.auth.soy2.page.passwordSignUp",fu.A="firebaseui.auth.soy2.page.passwordRecovery",pu.A="firebaseui.auth.soy2.page.passwordRecoveryEmailSent",mu.A="firebaseui.auth.soy2.page.callback",gu.A="firebaseui.auth.soy2.page.spinner",yu.A="firebaseui.auth.soy2.page.blank",vu.A="firebaseui.auth.soy2.page.emailLinkSignInSent",bu.A="firebaseui.auth.soy2.page.emailNotReceived",_u.A="firebaseui.auth.soy2.page.emailLinkSignInConfirmation",wu.A="firebaseui.auth.soy2.page.differentDeviceError",Cu.A="firebaseui.auth.soy2.page.anonymousUserMismatch",Su.A="firebaseui.auth.soy2.page.passwordLinking",Eu.A="firebaseui.auth.soy2.page.emailLinkSignInLinking",Tu.A="firebaseui.auth.soy2.page.emailLinkSignInLinkingDifferentDevice",ku.A="firebaseui.auth.soy2.page.federatedLinking",Iu.A="firebaseui.auth.soy2.page.unsupportedProvider",xu.A="firebaseui.auth.soy2.page.passwordReset",Au.A="firebaseui.auth.soy2.page.passwordResetSuccess",Ou.A="firebaseui.auth.soy2.page.passwordResetFailure",Du.A="firebaseui.auth.soy2.page.emailChangeRevokeSuccess",Pu.A="firebaseui.auth.soy2.page.emailChangeRevokeFailure",Nu.A="firebaseui.auth.soy2.page.emailVerificationSuccess",Ru.A="firebaseui.auth.soy2.page.emailVerificationFailure",Mu.A="firebaseui.auth.soy2.page.recoverableError",Lu.A="firebaseui.auth.soy2.page.unrecoverableError",Fu.A="firebaseui.auth.soy2.page.emailMismatch",Uu.A="firebaseui.auth.soy2.page.providerSignIn",ju.A="firebaseui.auth.soy2.page.phoneSignInStart",Vu.A="firebaseui.auth.soy2.page.phoneSignInFinish",Bu.A="firebaseui.auth.soy2.page.signOut",qu.A="firebaseui.auth.soy2.page.selectTenant",Hu.A="firebaseui.auth.soy2.page.providerMatchByEmail",s(Xu,su),Xu.prototype.v=function(){this.R(),this.O(this.B,this.I),uu(this,this.i(),this.B),this.i().focus(),su.prototype.v.call(this)},Xu.prototype.s=function(){this.B=null,su.prototype.s.call(this)},Xu.prototype.j=function(){return Ba(wc(this,"firebaseui-id-email"))},O(Xu.prototype,{i:Ku,D:Qu,R:$u,u:Yu,ea:Wu,ba:zu,O:Gu});var Zu=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Ju(){return wc(this,"firebaseui-id-email")}function tl(){return wc(this,"firebaseui-id-email-error")}function el(t){var e=Ju.call(this),n=tl.call(this);Tc(this,e,(function(){Oc(n)&&(Ec(e,!0),xc(n))})),t&&kc(this,e,(function(){t()}))}function nl(){return X(Ba(Ju.call(this))||"")}function rl(){var t=Ju.call(this),e=tl.call(this),n=Ba(t)||"";return n?Zu.test(n)?(Ec(t,!0),xc(e),e=!0):(Ec(t,!1),Ac(e,fn("That email address isn't correct").toString()),e=!1):(Ec(t,!1),Ac(e,fn("Enter your email address to continue").toString()),e=!1),e?X(Ba(t)):null}function il(t,e,n,r,i,o,s){su.call(this,hu,{email:n,ia:!!o},s,"passwordSignIn",{G:r,F:i}),this.B=t,this.I=e}function ol(t,e,n,r,i,o){su.call(this,t,e,r,i||"notice",o),this.i=n||null}function sl(t,e,n,r,i){ol.call(this,pu,{email:t,T:!!e},e,i,"passwordRecoveryEmailSent",{G:n,F:r})}function al(t,e){ol.call(this,Nu,{T:!!t},t,e,"emailVerificationSuccess")}function cl(t,e){ol.call(this,Ru,{T:!!t},t,e,"emailVerificationFailure")}function ul(t){ol.call(this,Bu,void 0,void 0,t,"signOut")}function ll(t,e){ol.call(this,Au,{T:!!t},t,e,"passwordResetSuccess")}function hl(t,e){ol.call(this,Ou,{T:!!t},t,e,"passwordResetFailure")}function dl(t,e){ol.call(this,Pu,{T:!!t},t,e,"emailChangeRevokeFailure")}function fl(t,e,n){ol.call(this,Mu,{errorMessage:t,Ab:!!e},e,n,"recoverableError")}function pl(t,e){ol.call(this,Lu,{errorMessage:t},void 0,e,"unrecoverableError")}s(il,su),il.prototype.v=function(){this.R(),this.ea(),this.ba(this.B,this.I),cu(this,this.l(),this.i()),uu(this,this.i(),this.B),Ba(this.l())?this.i().focus():this.l().focus(),su.prototype.v.call(this)},il.prototype.s=function(){this.I=this.B=null,su.prototype.s.call(this)},O(il.prototype,{l:Ju,U:tl,R:el,O:nl,j:rl,i:Ku,D:Qu,ea:$u,u:Yu,ua:Wu,pa:zu,ba:Gu}),R(ol,su),ol.prototype.v=function(){this.i&&(this.u(this.i),this.l().focus()),ol.K.v.call(this)},ol.prototype.s=function(){this.i=null,ol.K.s.call(this)},O(ol.prototype,{l:Wu,B:zu,u:Gu}),R(sl,ol),R(al,ol),R(cl,ol),R(ul,ol),R(ll,ol),R(hl,ol),R(dl,ol),R(fl,ol),R(pl,ol);var ml=!1,gl=null;function yl(t,e){ml=!!e,gl||("undefined"==typeof accountchooser&&function(){var t=window.navigator&&window.navigator.userAgent;if(t){var e;if(e=t.match(Ia)){var n=new Ma(e[3]||e[1]);return!(0<=t.indexOf("Opera Mini"))&&(0<=t.indexOf("Opera Mobi")?0<=t.indexOf("Android")&&La(n,"10.1"):La(n,"8.0"))}if(e=t.match(ka))return La(new Ma(e[1]),"2.0");if(e=t.match(xa))return La(new Ma(e[1]),"6.0");if(e=t.match(Aa))return n=new Ma(e[6]),t=e[3]&&new Ma(e[3]),e=e[5]&&new Ma(e[5],"_"),(!(!t||!La(t,"6.0"))||!(!e||!La(e,"10.5.6")))&&La(n,"3.0");if(e=t.match(Da))return La(new Ma(e[1]),"3.0");if(e=t.match(Pa))return La(new Ma(e[1],"_"),"4.0");if(e=t.match(Na))return La(new Ma(e[1]),"4.7");if(e=t.match(Ra))return n=new Ma(e[1]),t=new Ma(e[2]),La(n,"7.0")&&La(t,"7.0");if(e=t.match(Ta))return n=new Ma(e[1]),t=new Ma(e[2]),La(n,"7.0")&&La(t,"6.0");if(t.match(Oa))return!1}return!0}()?(e=Se(ye(new ge(be,"//www.gstatic.com/accountchooser/client.js"))),gl=Gr(bi(e)).ta((function(){}))):gl=Gr()),gl.then(t,t)}function vl(t,e){(t=ra(t=Jh(t)).accountChooserInvoked||null)?t(e):e()}function bl(t,e,n){(t=ra(t=Jh(t)).accountChooserResult||null)?t(e,n):n()}function _l(t,e,n,r){function i(){var e=t();e&&(e=Js(Jh(e)))&&e()}!function(t,e,n,r){_a||(t={callbacks:{empty:t,select:function(t,r){t&&t.account&&e?e(to(t.account)):n&&n(!wa(r))},store:t,update:t},language:"en",providers:void 0,ui:r},"undefined"!=typeof accountchooser&&accountchooser.Api&&accountchooser.Api.init?_a=accountchooser.Api.init(t):(_a=new Sa(t),function(){var t=_a;C(t.a.callbacks.empty)&&t.a.callbacks.empty()}()))}((function(){var o=t();o&&function(t,e,n,r,i){r?(ba("callback",t,e),ml&&n()):vl(t,(function(){fs(new co(t.a.tenantId||null),Hh(t)),Ca((function(r){rs(Yo,Hh(t)),bl(t,r?"empty":"unavailable",(function(){ba("signIn",t,e),(r||ml)&&n()}))}),cs(Hh(t)),i)}))}(o,e,i,n,r)}),(function(n){var r=t();r&&function(t,e,n,r){function i(t){t=El(t),xl(e,n,void 0,t),r()}bl(e,"accountSelected",(function(){as(!1,Hh(e));var o=kl(e);Yh(e,Bh(e).fetchSignInMethodsForEmail(t.a).then((function(i){Ol(e,n,i,t.a,t.h||void 0,void 0,o),r()}),i))}))}(n,r,e,i)}),(function(n){var r=t();r&&function(t,e,n,r){bl(e,t?"addAccount":"unavailable",(function(){ba("signIn",e,n),(t||ml)&&r()}))}(n,r,e,i)}),t()&&function(t){return t.a.get("acUiConfig")||null}(Jh(t())))}function wl(t,e,n,r){function i(n){if(!n.name||"cancel"!=n.name){t:{var r=n.message;try{var i=((JSON.parse(r).error||{}).message||"").toLowerCase().match(/invalid.+(access|id)_token/);if(i&&i.length){var o=!0;break t}}catch(s){}o=!1}if(o)n=au(e),e.o(),xl(t,n,void 0,fn("Your sign-in session has expired. Please try again.").toString());else{if(o=n&&n.message||"",n.code){if("auth/email-already-in-use"==n.code||"auth/credential-already-in-use"==n.code)return;o=El(n)}e.a(o)}}}if(Xh(t),r)return Cl(t,n),Gr();if(!n.credential)throw Error("No credential found!");if(!(r=Bh(t).currentUser||n.user))throw Error("User not logged in.");r=new Ji(r.email,r.displayName,r.photoURL,"password"==n.credential.providerId?null:n.credential.providerId),null!=ns(Zo,Hh(t))&&!ns(Zo,Hh(t))||function(t,e){var n=cs(e),r=H(n,(function(e){return e.a==t.a&&(e.f||null)==(t.f||null)}));-1<r&&G(n,r),n.unshift(t),is(Jo,B(n,(function(t){return t.aa()})),e)}(r,Hh(t)),rs(Zo,Hh(t));try{var o=function(t,e){return td(t),Qh(t,(function(n){if(t.j&&!t.j.isAnonymous&&Fs(Jh(t))&&!Bh(t).currentUser)return nd(t).then((function(){return"password"==e.credential.providerId&&(e.credential=null),e}));if(n)return nd(t).then((function(){return n.linkWithCredential(e.credential)})).then((function(t){return e.user=t.user,e.credential=t.credential,e.operationType=t.operationType,e.additionalUserInfo=t.additionalUserInfo,e}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return rd(t,n,e.credential)}));if(!e.user)throw Error('Internal error: An incompatible or outdated version of "firebase.js" may be used.');return nd(t).then((function(){return qh(t).updateCurrentUser(e.user)})).then((function(){return e.user=qh(t).currentUser,e.operationType="signIn",e.credential&&e.credential.providerId&&"password"==e.credential.providerId&&(e.credential=null),e}))}))}(t,n)}catch(s){return Qi(s.code||s.message,s),e.a(s.code||s.message),Gr()}return n=o.then((function(e){Cl(t,e)}),i).then(void 0,i),Yh(t,o),Gr(n)}function Cl(t,e){if(!e.user)throw Error("No user found");var n=ea(Jh(t));if(ta(Jh(t))&&n&&Zi("Both signInSuccess and signInSuccessWithAuthResult callbacks are provided. Only signInSuccessWithAuthResult callback will be invoked."),n){n=ea(Jh(t));var r=os(Hh(t))||void 0;rs(Xo,Hh(t));var i=!1;oi()?(n&&!n(e,r)||(i=!0,window.opener.location.assign(Te(xe(Sl(t,r))))),n||window.close()):n&&!n(e,r)||(i=!0,ii(Sl(t,r))),i||t.reset()}else{n=e.user,e=e.credential,r=ta(Jh(t)),i=os(Hh(t))||void 0,rs(Xo,Hh(t));var o=!1;oi()?(r&&!r(n,e,i)||(o=!0,window.opener.location.assign(Te(xe(Sl(t,i))))),r||window.close()):r&&!r(n,e,i)||(o=!0,ii(Sl(t,i))),o||t.reset()}}function Sl(t,e){if(!(t=e||Jh(t).a.get("signInSuccessUrl")))throw Error("No redirect URL has been found. You must either specify a signInSuccessUrl in the configuration, pass in a redirect URL to the widget URL, or return false from the callback.");return t}function El(t){var e="";switch(t.code){case"auth/email-already-in-use":e+="The email address is already used by another account";break;case"auth/requires-recent-login":e+=Mn();break;case"auth/too-many-requests":e+="You have entered an incorrect password too many times. Please try again in a few minutes.";break;case"auth/user-cancelled":e+="Please authorize the required permissions to sign in to the application";break;case"auth/user-not-found":e+="That email address doesn't match an existing account";break;case"auth/user-token-expired":e+=Mn();break;case"auth/weak-password":e+="Strong passwords have at least 6 characters and a mix of letters and numbers";break;case"auth/wrong-password":e+="The email and password you entered don't match";break;case"auth/network-request-failed":e+="A network error has occurred";break;case"auth/invalid-phone-number":e+=Dn();break;case"auth/invalid-verification-code":e+=fn("Wrong code. Try again.");break;case"auth/code-expired":e+="This code is no longer valid";break;case"auth/expired-action-code":e+="This code has expired.";break;case"auth/invalid-action-code":e+="The action code is invalid. This can happen if the code is malformed, expired, or has already been used."}if(e=fn(e).toString())return e;try{return JSON.parse(t.message),Qi("Internal error: "+t.message,void 0),Pn().toString()}catch(Ue){return t.message}}function Tl(t,e,n,r){function i(){fs(new co(t.a.tenantId||null),Hh(t)),Yh(t,e.L(x(t.cc,t),[c],(function(){if("file:"===(window.location&&window.location.protocol))return Yh(t,Fh(t).then((function(n){e.o(),rs(Yo,Hh(t)),ba("callback",t,a,Gr(n))}),o))}),s))}function o(n){if(rs(Yo,Hh(t)),!n.name||"cancel"!=n.name)switch(n.code){case"auth/popup-blocked":i();break;case"auth/popup-closed-by-user":case"auth/cancelled-popup-request":case"auth/credential-already-in-use":break;case"auth/network-request-failed":case"auth/too-many-requests":case"auth/user-cancelled":e.a(El(n));break;default:e.o(),ba("callback",t,a,Kr(n))}}function s(n){rs(Yo,Hh(t)),n.name&&"cancel"==n.name||(Qi("signInWithRedirect: "+n.code,void 0),n=El(n),"blank"==e.Ea&&Xs(Jh(t))?(e.o(),ba("providerSignIn",t,a,n)):e.a(n))}var a=au(e),c=function(t,e,n){var r=Ns[e]&&zb.auth[Ns[e]]?new zb.auth[Ns[e]]:0==e.indexOf("saml.")?new zb.auth.SAMLAuthProvider(e):new zb.auth.OAuthProvider(e);if(!r)throw Error("Invalid Firebase Auth provider!");var i=Hs(Jh(t),e);if(r.addScope)for(var o=0;o<i.length;o++)r.addScope(i[o]);return i=Ws(Jh(t),e)||{},n&&(t=e==zb.auth.GoogleAuthProvider.PROVIDER_ID?"login_hint":e==zb.auth.GithubAuthProvider.PROVIDER_ID?"login":(t=Bs(Jh(t),e))&&t.Nb)&&(i[t]=n),r.setCustomParameters&&r.setCustomParameters(i),r}(t,n,r);Zs(Jh(t))==fa?i():Yh(t,function(t,e){return td(t),Qh(t,(function(n){return n&&!us(Hh(t))?n.linkWithPopup(e).then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return rd(t,e)})):Bh(t).signInWithPopup(e)}))}(t,c).then((function(n){e.o(),ba("callback",t,a,Gr(n))}),o))}function kl(t){return 1==(t=Vs(Jh(t))).length&&t[0]==zb.auth.EmailAuthProvider.PROVIDER_ID}function Il(t){return 1==(t=Vs(Jh(t))).length&&t[0]==zb.auth.PhoneAuthProvider.PROVIDER_ID}function xl(t,e,n,r){kl(t)?r?ba("signIn",t,e,n,r):Pl(t,e,n):t&&Il(t)&&!r?ba("phoneSignInStart",t,e):t&&Xs(Jh(t))&&!r?ba("federatedRedirect",t,e,n):ba("providerSignIn",t,e,r,n)}function Al(t,e,n,r){var i=au(e);Yh(t,e.L(x(Bh(t).fetchSignInMethodsForEmail,Bh(t)),[n],(function(o){as(ia(Jh(t))==ua,Hh(t)),e.o(),Ol(t,i,o,n,void 0,r)}),(function(t){t=El(t),e.a(t)})))}function Ol(t,e,n,r,i,o,s){n.length||Ys(Jh(t))?!n.length&&Ys(Jh(t))?ba("sendEmailLinkForSignIn",t,e,r,(function(){ba("signIn",t,e)})):W(n,zb.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ba("passwordSignIn",t,e,r,s):1==n.length&&n[0]===zb.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ba("sendEmailLinkForSignIn",t,e,r,(function(){ba("signIn",t,e)})):(n=Ds(n,Vs(Jh(t))))?(hs(new so(r),Hh(t)),ba("federatedSignIn",t,e,r,n,o)):ba("unsupportedProvider",t,e,r):ba("passwordSignUp",t,e,r,i,void 0,s)}function Dl(t,e,n,r,i,o){var s=au(e);Yh(t,e.L(x(t.Hb,t),[n,o],(function(){e.o(),ba("emailLinkSignInSent",t,s,n,r,o)}),i))}function Pl(t,e,n){ia(Jh(t))==ua?yl((function(){_a?vl(t,(function(){fs(new co(t.a.tenantId||null),Hh(t)),Ca((function(r){rs(Yo,Hh(t)),bl(t,r?"empty":"unavailable",(function(){n?ba("prefilledEmailSignIn",t,e,n):ba("signIn",t,e)}))}),cs(Hh(t)),Ms(Jh(t)))})):(td(t),_l(Vh,e,!1,Ms(Jh(t))))}),!1):(ml=!1,vl(t,(function(){bl(t,"unavailable",(function(){n?ba("prefilledEmailSignIn",t,e,n):ba("signIn",t,e)}))})))}function Nl(){return _t(ci(),"oobCode")}function Rl(){var t=_t(ci(),"continueUrl");return t?function(){ii(t)}:null}function Ml(t,e){su.call(this,Cu,void 0,e,"anonymousUserMismatch"),this.i=t}function Ll(t){su.call(this,mu,void 0,t,"callback")}function Fl(t,e,n){if(n.user){var r={user:n.user,credential:n.credential,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo},i=us(Hh(t)),o=i&&i.f;if(o&&!function(t,e){if(e==t.email)return!0;if(t.providerData)for(var n=0;n<t.providerData.length;n++)if(e==t.providerData[n].email)return!0;return!1}(n.user,o))!function(t,e,n){var r=au(e);Yh(t,nd(t).then((function(){e.o(),ba("emailMismatch",t,r,n)}),(function(t){t.name&&"cancel"==t.name||(t=El(t.code),e.a(t))})))}(t,e,r);else{var s=i&&i.a;s?Yh(t,n.user.linkWithCredential(s).then((function(n){Ul(t,e,r={user:n.user,credential:s,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(n){jl(t,e,n)}))):Ul(t,e,r)}}else n=au(e),e.o(),ls(Hh(t)),xl(t,n)}function Ul(t,e,n){ls(Hh(t)),wl(t,e,n)}function jl(t,e,n){var r=au(e);ls(Hh(t)),n=El(n),e.o(),xl(t,r,void 0,n)}function Vl(t,e,n,r){var i=au(e);Yh(t,Bh(t).fetchSignInMethodsForEmail(n).then((function(o){e.o(),o.length?W(o,zb.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD)?ba("passwordLinking",t,i,n):1==o.length&&o[0]===zb.auth.EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD?ba("emailLinkSignInLinking",t,i,n):(o=Ds(o,Vs(Jh(t))))?ba("federatedLinking",t,i,n,o,r):(ls(Hh(t)),ba("unsupportedProvider",t,i,n)):(ls(Hh(t)),ba("passwordRecovery",t,i,n,!1,Nn().toString()))}),(function(n){jl(t,e,n)})))}function Bl(t,e){su.call(this,wu,void 0,e,"differentDeviceError"),this.i=t}function ql(t,e,n,r){su.call(this,Du,{email:t,T:!!n},r,"emailChangeRevoke"),this.l=e,this.i=n||null}function Hl(){return wc(this,"firebaseui-id-new-password")}function Wl(){return wc(this,"firebaseui-id-password-toggle")}function zl(){this.Sa=!this.Sa;var t=Wl.call(this),e=Hl.call(this);this.Sa?(e.type="text",ja(t,"firebaseui-input-toggle-off"),Va(t,"firebaseui-input-toggle-on")):(e.type="password",ja(t,"firebaseui-input-toggle-on"),Va(t,"firebaseui-input-toggle-off")),e.focus()}function Gl(){return wc(this,"firebaseui-id-new-password-error")}function Kl(){this.Sa=!1;var t=Hl.call(this);t.type="password";var e=Gl.call(this);Tc(this,t,(function(){Oc(e)&&(Ec(t,!0),xc(e))}));var n=Wl.call(this);ja(n,"firebaseui-input-toggle-on"),Va(n,"firebaseui-input-toggle-off"),function(t,e,n){Bn(t,A(qn,e=new Ya(e))),ec(Cc(t),e,"focusin",n)}(this,t,(function(){ja(n,"firebaseui-input-toggle-focus"),Va(n,"firebaseui-input-toggle-blur")})),function(t,e,n){Bn(t,A(qn,e=new Ya(e))),ec(Cc(t),e,"focusout",n)}(this,t,(function(){ja(n,"firebaseui-input-toggle-blur"),Va(n,"firebaseui-input-toggle-focus")})),Ic(this,n,x(zl,this))}function Ql(){var t=Hl.call(this),e=Gl.call(this);return Ba(t)?(Ec(t,!0),xc(e),e=!0):(Ec(t,!1),Ac(e,fn("Enter your password").toString()),e=!1),e?Ba(t):null}function $l(t,e,n){su.call(this,xu,{email:t},n,"passwordReset"),this.l=e}function Yl(t,e,n,r){"auth/weak-password"==(r&&r.code)?(t=El(r),Ec(n.i(),!1),Ac(n.B(),t),n.i().focus()):(n&&n.o(),(n=new hl).render(e),Uh(t,n))}function Xl(t,e){try{var n="number"==typeof t.selectionStart}catch(r){n=!1}n?(t.selectionStart=e,t.selectionEnd=e):ee&&!pe("9")&&("textarea"==t.type&&(e=t.value.substring(0,e).replace(/(\r\n|\r|\n)/g,"\n").length),(t=t.createTextRange()).collapse(!0),t.move("character",e),t.select())}function Zl(t,e,n,r,i,o){su.call(this,_u,{email:n},o,"emailLinkSignInConfirmation",{G:r,F:i}),this.l=t,this.u=e}function Jl(t,e,n,r,i){su.call(this,Tu,{ga:t},i,"emailLinkSignInLinkingDifferentDevice",{G:n,F:r}),this.i=e}function th(t){su.call(this,yu,void 0,t,"blank")}function eh(t,e,n,r,i){var o=new th,s=new qt(n),a=s.a.a.get(Gt.ab)||"",c=s.a.a.get(Gt.Ta)||"",u="1"===s.a.a.get(Gt.Ra),l=Ht(s),h=s.a.a.get(Gt.PROVIDER_ID)||null;s=s.a.a.get(Gt.xb)||null,Zh(t,s);var d=!ns(ts,Hh(t)),f=r||function(t,e){var n=null;if(e=ns(ts,e))try{var r=Do(t,e),i=JSON.parse(r);n=i&&i.email||null}catch(o){}return n}(c,Hh(t)),p=(r=function(t,e){var n=null;if(e=ns(es,e))try{var r=Do(t,e);n=JSON.parse(r)}catch(i){}return ao(n||null)}(c,Hh(t)))&&r.a;h&&p&&p.providerId!==h&&(p=null),o.render(e),Uh(t,o),Yh(t,o.L((function(){var e=Gr(null);e=l&&d||d&&u?Kr(Error("anonymous-user-not-found")):function(t,e){var n=Ht(new qt(e));return n?(e=new jr((function(e,r){var i=qh(t).onAuthStateChanged((function(t){i(),t&&t.isAnonymous&&t.uid===n?e(t):r(t&&t.isAnonymous&&t.uid!==n?Error("anonymous-user-mismatch"):Error("anonymous-user-not-found"))}));Yh(t,i)})),Yh(t,e),e):Gr(null)}(t,n).then((function(t){if(h&&!p)throw Error("pending-credential-not-found");return t}));var r=null;return e.then((function(e){return r=e,i?null:Bh(t).checkActionCode(a)})).then((function(){return r}))}),[],(function(r){f?function(t,e,n,r,i,o){var s=au(e);e.Z("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",fn("Signing in...").toString());var a=null;i=(o?function(t,e,n,r,i){td(t);var o=i||null,s=zb.auth.EmailAuthProvider.credentialWithLink(n,r);return n=o?Bh(t).signInWithEmailLink(n,r).then((function(t){return t.user.linkWithCredential(o)})).then((function(){return nd(t)})).then((function(){return rd(t,{code:"auth/email-already-in-use"},o)})):Bh(t).fetchSignInMethodsForEmail(n).then((function(n){return n.length?rd(t,{code:"auth/email-already-in-use"},s):e.linkWithCredential(s)})),Yh(t,n),n}(t,o,n,r,i):function(t,e,n,r){td(t);var i,o=r||null;return e=Bh(t).signInWithEmailLink(e,n).then((function(t){if(i={user:t.user,credential:null,operationType:t.operationType,additionalUserInfo:t.additionalUserInfo},o)return t.user.linkWithCredential(o).then((function(t){i={user:t.user,credential:o,operationType:i.operationType,additionalUserInfo:t.additionalUserInfo}}))})).then((function(){nd(t)})).then((function(){return qh(t).updateCurrentUser(i.user)})).then((function(){return i.user=qh(t).currentUser,i})),Yh(t,e),e}(t,n,r,i)).then((function(n){rs(es,Hh(t)),rs(ts,Hh(t)),e.h(),e.Z("firebaseui-icon-done",fn("Signed in!").toString()),a=setTimeout((function(){e.h(),wl(t,e,n,!0)}),1e3),Yh(t,(function(){e&&(e.h(),e.o()),clearTimeout(a)}))}),(function(i){if(e.h(),e.o(),!i.name||"cancel"!=i.name){var o=El(i);"auth/email-already-in-use"==i.code||"auth/credential-already-in-use"==i.code?(rs(es,Hh(t)),rs(ts,Hh(t))):"auth/invalid-email"==i.code?(o=fn("The email provided does not match the current sign-in session.").toString(),ba("emailLinkConfirmation",t,s,r,nh,null,o)):xl(t,s,n,o)}})),Yh(t,i)}(t,o,f,n,p,r):u?(o.o(),ba("differentDeviceError",t,e)):(o.o(),ba("emailLinkConfirmation",t,e,n,nh))}),(function(r){var i=void 0;if(!r||!r.name||"cancel"!=r.name)switch(o.o(),r&&r.message){case"anonymous-user-not-found":ba("differentDeviceError",t,e);break;case"anonymous-user-mismatch":ba("anonymousUserMismatch",t,e);break;case"pending-credential-not-found":ba("emailLinkNewDeviceLinking",t,e,n,rh);break;default:r&&(i=El(r)),xl(t,e,void 0,i)}})))}function nh(t,e,n,r){eh(t,e,r,n,!0)}function rh(t,e,n){eh(t,e,n)}function ih(t,e,n,r,i,o){su.call(this,Eu,{email:t,ga:e},o,"emailLinkSignInLinking",{G:r,F:i}),this.i=n}function oh(t,e,n,r,i,o){su.call(this,vu,{email:t},o,"emailLinkSignInSent",{G:r,F:i}),this.u=e,this.i=n}function sh(t,e,n,r,i,o,s){su.call(this,Fu,{ic:t,Pb:e},s,"emailMismatch",{G:i,F:o}),this.l=n,this.i=r}function ah(t,e,n,r,i){su.call(this,bu,void 0,i,"emailNotReceived",{G:n,F:r}),this.l=t,this.i=e}function ch(t,e,n,r,i,o){su.call(this,ku,{email:t,ga:e},o,"federatedLinking",{G:r,F:i}),this.i=n}function uh(t,e,n,r,i,o){su.call(this,fu,{email:n,Ua:!!e},o,"passwordRecovery",{G:r,F:i}),this.l=t,this.u=e}function lh(){return wc(this,"firebaseui-id-name")}function hh(){return wc(this,"firebaseui-id-name-error")}function dh(t,e,n,r,i,o,s,a,c){su.call(this,du,{email:r,Sb:t,name:i,Ua:!!n,ia:!!a},c,"passwordSignUp",{G:o,F:s}),this.B=e,this.I=n,this.D=t}function fh(){return wc(this,"firebaseui-id-phone-confirmation-code")}function ph(){return wc(this,"firebaseui-id-phone-confirmation-code-error")}function mh(){return wc(this,"firebaseui-id-resend-countdown")}function gh(t,e,n,r,i,o,s,a,c){su.call(this,Vu,{phoneNumber:i},c,"phoneSignInFinish",{G:s,F:a}),this.kb=o,this.i=new Xa(1e3),this.D=o,this.R=t,this.l=e,this.I=n,this.O=r}s(Ml,su),Ml.prototype.v=function(){var t=this;Ic(this,this.l(),(function(){t.i()})),this.l().focus(),su.prototype.v.call(this)},Ml.prototype.s=function(){this.i=null,su.prototype.s.call(this)},O(Ml.prototype,{l:zu}),va.anonymousUserMismatch=function(t,e){var n=new Ml((function(){n.o(),xl(t,e)}));n.render(e),Uh(t,n)},s(Ll,su),Ll.prototype.L=function(t,e,n,r){return t.apply(null,e).then(n,r)},va.callback=function(t,e,n){var r=new Ll;r.render(e),Uh(t,r),e=n||Fh(t),Yh(t,e.then((function(e){Fl(t,r,e)}),(function(e){if(e&&("auth/account-exists-with-different-credential"==e.code||"auth/email-already-in-use"==e.code)&&e.email&&e.credential)hs(new so(e.email,e.credential),Hh(t)),Vl(t,r,e.email);else if(e&&"auth/user-cancelled"==e.code){var n=us(Hh(t)),i=El(e);n&&n.a?Vl(t,r,n.f,i):n?Al(t,r,n.f,i):jl(t,r,e)}else e&&"auth/credential-already-in-use"==e.code||(e&&"auth/operation-not-supported-in-this-environment"==e.code&&kl(t)?Fl(t,r,{user:null,credential:null}):jl(t,r,e))})))},s(Bl,su),Bl.prototype.v=function(){var t=this;Ic(this,this.l(),(function(){t.i()})),this.l().focus(),su.prototype.v.call(this)},Bl.prototype.s=function(){this.i=null,su.prototype.s.call(this)},O(Bl.prototype,{l:zu}),va.differentDeviceError=function(t,e){var n=new Bl((function(){n.o(),xl(t,e)}));n.render(e),Uh(t,n)},s(ql,su),ql.prototype.v=function(){var t=this;Ic(this,wc(this,"firebaseui-id-reset-password-link"),(function(){t.l()})),this.i&&(this.B(this.i),this.u().focus()),su.prototype.v.call(this)},ql.prototype.s=function(){this.l=this.i=null,su.prototype.s.call(this)},O(ql.prototype,{u:Wu,D:zu,B:Gu}),s($l,su),$l.prototype.v=function(){this.I(),this.D(this.l),uu(this,this.i(),this.l),this.i().focus(),su.prototype.v.call(this)},$l.prototype.s=function(){this.l=null,su.prototype.s.call(this)},O($l.prototype,{i:Hl,B:Gl,O:Wl,I:Kl,u:Ql,U:Wu,R:zu,D:Gu}),va.passwordReset=function(t,e,n,r){Yh(t,Bh(t).verifyPasswordResetCode(n).then((function(i){var o=new $l(i,(function(){!function(t,e,n,r,i){var o=n.u();o&&Yh(t,n.L(x(Bh(t).confirmPasswordReset,Bh(t)),[r,o],(function(){n.o();var r=new ll(i);r.render(e),Uh(t,r)}),(function(r){Yl(t,e,n,r)})))}(t,e,o,n,r)}));o.render(e),Uh(t,o)}),(function(){Yl(t,e)})))},va.emailChangeRevocation=function(t,e,n){var r=null;Yh(t,Bh(t).checkActionCode(n).then((function(e){return r=e.data.email,Bh(t).applyActionCode(n)})).then((function(){!function(t,e,n){var r=new ql(n,(function(){Yh(t,r.L(x(Bh(t).sendPasswordResetEmail,Bh(t)),[n],(function(){r.o(),(r=new sl(n,void 0,Ks(Jh(t)),Qs(Jh(t)))).render(e),Uh(t,r)}),(function(){r.a(fn("Unable to send password reset code to specified email").toString())})))}));r.render(e),Uh(t,r)}(t,e,r)}),(function(){var n=new dl;n.render(e),Uh(t,n)})))},va.emailVerification=function(t,e,n,r){Yh(t,Bh(t).applyActionCode(n).then((function(){var n=new al(r);n.render(e),Uh(t,n)}),(function(){var n=new cl;n.render(e),Uh(t,n)})))},s(Zl,su),Zl.prototype.v=function(){this.B(this.l),this.D(this.l,this.u),this.i().focus(),Xl(this.i(),(this.i().value||"").length),su.prototype.v.call(this)},Zl.prototype.s=function(){this.u=this.l=null,su.prototype.s.call(this)},O(Zl.prototype,{i:Ju,O:tl,B:el,I:nl,j:rl,U:Wu,R:zu,D:Gu}),va.emailLinkConfirmation=function(t,e,n,r,i,o){var s=new Zl((function(){var i=s.j();i?(s.o(),r(t,e,i,n)):s.i().focus()}),(function(){s.o(),xl(t,e,i||void 0)}),i||void 0,Ks(Jh(t)),Qs(Jh(t)));s.render(e),Uh(t,s),o&&s.a(o)},s(Jl,su),Jl.prototype.v=function(){this.u(this.i),this.l().focus(),su.prototype.v.call(this)},Jl.prototype.s=function(){this.i=null,su.prototype.s.call(this)},O(Jl.prototype,{l:Wu,u:Gu}),va.emailLinkNewDeviceLinking=function(t,e,n,r){var i=new qt(n);if(n=i.a.a.get(Gt.PROVIDER_ID)||null,Wt(i,null),n){var o=new Jl(Bs(Jh(t),n),(function(){o.o(),r(t,e,i.toString())}),Ks(Jh(t)),Qs(Jh(t)));o.render(e),Uh(t,o)}else xl(t,e)},s(th,su),va.emailLinkSignInCallback=eh,s(ih,su),ih.prototype.v=function(){this.u(this.i),this.l().focus(),su.prototype.v.call(this)},ih.prototype.s=function(){this.i=null,su.prototype.s.call(this)},O(ih.prototype,{l:Wu,u:Gu}),va.emailLinkSignInLinking=function(t,e,n){var r=us(Hh(t));if(ls(Hh(t)),r){var i=r.a.providerId,o=new ih(n,Bs(Jh(t),i),(function(){!function(t,e,n,r){var i=au(e);Dl(t,e,n,(function(){xl(t,i,n)}),(function(r){if(!r.name||"cancel"!=r.name){var o=El(r);r&&"auth/network-request-failed"==r.code?e.a(o):(e.o(),xl(t,i,n,o))}}),r)}(t,o,n,r)}),Ks(Jh(t)),Qs(Jh(t)));o.render(e),Uh(t,o)}else xl(t,e)},s(oh,su),oh.prototype.v=function(){var t=this;Ic(this,this.l(),(function(){t.i()})),Ic(this,wc(this,"firebaseui-id-trouble-getting-email-link"),(function(){t.u()})),this.l().focus(),su.prototype.v.call(this)},oh.prototype.s=function(){this.i=this.u=null,su.prototype.s.call(this)},O(oh.prototype,{l:zu}),va.emailLinkSignInSent=function(t,e,n,r,i){var o=new oh(n,(function(){o.o(),ba("emailNotReceived",t,e,n,r,i)}),(function(){o.o(),r()}),Ks(Jh(t)),Qs(Jh(t)));o.render(e),Uh(t,o)},s(sh,su),sh.prototype.v=function(){this.B(this.l,this.i),this.u().focus(),su.prototype.v.call(this)},sh.prototype.s=function(){this.i=null,su.prototype.s.call(this)},O(sh.prototype,{u:Wu,D:zu,B:Gu}),va.emailMismatch=function(t,e,n){var r=us(Hh(t));if(r){var i=new sh(n.user.email,r.f,(function(){var e=i;ls(Hh(t)),wl(t,e,n)}),(function(){var e=n.credential.providerId,o=au(i);i.o(),ba(r.a?"federatedLinking":"federatedSignIn",t,o,r.f,e)}),Ks(Jh(t)),Qs(Jh(t)));i.render(e),Uh(t,i)}else xl(t,e)},s(ah,su),ah.prototype.v=function(){var t=this;Ic(this,this.u(),(function(){t.i()})),Ic(this,this.Ba(),(function(){t.l()})),this.u().focus(),su.prototype.v.call(this)},ah.prototype.Ba=function(){return wc(this,"firebaseui-id-resend-email-link")},ah.prototype.s=function(){this.i=this.l=null,su.prototype.s.call(this)},O(ah.prototype,{u:zu}),va.emailNotReceived=function(t,e,n,r,i){var o=new ah((function(){Dl(t,o,n,r,(function(t){t=El(t),o.a(t)}),i)}),(function(){o.o(),xl(t,e,n)}),Ks(Jh(t)),Qs(Jh(t)));o.render(e),Uh(t,o)},s(ch,su),ch.prototype.v=function(){this.u(this.i),this.l().focus(),su.prototype.v.call(this)},ch.prototype.s=function(){this.i=null,su.prototype.s.call(this)},O(ch.prototype,{l:Wu,u:Gu}),va.federatedLinking=function(t,e,n,r,i){var o=us(Hh(t));if(o&&o.a){var s=new ch(n,Bs(Jh(t),r),(function(){Tl(t,s,r,n)}),Ks(Jh(t)),Qs(Jh(t)));s.render(e),Uh(t,s),i&&s.a(i)}else xl(t,e)},va.federatedRedirect=function(t,e,n){var r=new th;r.render(e),Uh(t,r),Tl(t,r,e=Vs(Jh(t))[0],n)},va.federatedSignIn=function(t,e,n,r,i){var o=new ch(n,Bs(Jh(t),r),(function(){Tl(t,o,r,n)}),Ks(Jh(t)),Qs(Jh(t)));o.render(e),Uh(t,o),i&&o.a(i)},va.passwordLinking=function(t,e,n){var r=us(Hh(t));ls(Hh(t));var i=r&&r.a;if(i){var o=new Xu(n,(function(){!function(t,e,n,r){var i=e.u();i?Yh(t,e.L(x(t.Wb,t),[n,i],(function(n){return n=n.user.linkWithCredential(r).then((function(n){return wl(t,e,{user:n.user,credential:r,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})})),Yh(t,n),n}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/wrong-password":Ec(e.i(),!1),Ac(e.D(),El(t));break;case"auth/too-many-requests":e.a(El(t));break;default:Qi("signInWithEmailAndPassword: "+t.message,void 0),e.a(El(t))}}))):e.i().focus()}(t,o,n,i)}),(function(){o.o(),ba("passwordRecovery",t,e,n)}),Ks(Jh(t)),Qs(Jh(t)));o.render(e),Uh(t,o)}else xl(t,e)},s(uh,su),uh.prototype.v=function(){this.D(),this.I(this.l,this.u),Ba(this.i())||this.i().focus(),uu(this,this.i(),this.l),su.prototype.v.call(this)},uh.prototype.s=function(){this.u=this.l=null,su.prototype.s.call(this)},O(uh.prototype,{i:Ju,B:tl,D:el,O:nl,j:rl,U:Wu,R:zu,I:Gu}),va.passwordRecovery=function(t,e,n,r,i){var o=new uh((function(){!function(t,e){var n=e.j();if(n){var r=au(e);Yh(t,e.L(x(Bh(t).sendPasswordResetEmail,Bh(t)),[n],(function(){e.o();var i=new sl(n,(function(){i.o(),xl(t,r)}),Ks(Jh(t)),Qs(Jh(t)));i.render(r),Uh(t,i)}),(function(t){Ec(e.i(),!1),Ac(e.B(),El(t))})))}else e.i().focus()}(t,o)}),r?void 0:function(){o.o(),xl(t,e)},n,Ks(Jh(t)),Qs(Jh(t)));o.render(e),Uh(t,o),i&&o.a(i)},va.passwordSignIn=function(t,e,n,r){var i=new il((function(){!function(t,e){var n=e.j(),r=e.u();if(n)if(r){var i=zb.auth.EmailAuthProvider.credential(n,r);Yh(t,e.L(x(t.ac,t),[n,r],(function(n){return wl(t,e,{user:n.user,credential:i,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo})}),(function(t){if(!t.name||"cancel"!=t.name)switch(t.code){case"auth/email-already-in-use":break;case"auth/email-exists":Ec(e.l(),!1),Ac(e.U(),El(t));break;case"auth/too-many-requests":case"auth/wrong-password":Ec(e.i(),!1),Ac(e.D(),El(t));break;default:Qi("verifyPassword: "+t.message,void 0),e.a(El(t))}})))}else e.i().focus();else e.l().focus()}(t,i)}),(function(){var n=i.O();i.o(),ba("passwordRecovery",t,e,n)}),n,Ks(Jh(t)),Qs(Jh(t)),r);i.render(e),Uh(t,i)},s(dh,su),dh.prototype.v=function(){this.ea(),this.D&&this.Ja(),this.ua(),this.pa(this.B,this.I),this.D?(cu(this,this.i(),this.u()),cu(this,this.u(),this.l())):cu(this,this.i(),this.l()),this.B&&uu(this,this.l(),this.B),Ba(this.i())?this.D&&!Ba(this.u())?this.u().focus():this.l().focus():this.i().focus(),su.prototype.v.call(this)},dh.prototype.s=function(){this.I=this.B=null,su.prototype.s.call(this)},O(dh.prototype,{i:Ju,U:tl,ea:el,kb:nl,j:rl,u:lh,Ac:hh,Ja:function(){var t=lh.call(this),e=hh.call(this);Tc(this,t,(function(){Oc(e)&&(Ec(t,!0),xc(e))}))},O:function(){var t=lh.call(this),e=hh.call(this),n=Ba(t);return Ec(t,n=!/^[\s\xa0]*$/.test(null==n?"":String(n))),n?(xc(e),e=!0):(Ac(e,fn("Enter your account name").toString()),e=!1),e?X(Ba(t)):null},l:Hl,ba:Gl,mb:Wl,ua:Kl,R:Ql,Mb:Wu,Lb:zu,pa:Gu}),va.passwordSignUp=function(t,e,n,r,i,o){var s=new dh($s(Jh(t)),(function(){!function(t,e){var n=$s(Jh(t)),r=e.j(),i=null;n&&(i=e.O());var o=e.R();if(r){if(n){if(!i)return void e.u().focus();i=st(i)}if(o){var s=zb.auth.EmailAuthProvider.credential(r,o);Yh(t,e.L(x(t.Xb,t),[r,o],(function(r){var o={user:r.user,credential:s,operationType:r.operationType,additionalUserInfo:r.additionalUserInfo};return n?(r=r.user.updateProfile({displayName:i}).then((function(){return wl(t,e,o)})),Yh(t,r),r):wl(t,e,o)}),(function(n){if(!n.name||"cancel"!=n.name){var i=El(n);switch(n.code){case"auth/email-already-in-use":return function(t,e,n,r){function i(){var t=El(r);Ec(e.i(),!1),Ac(e.U(),t),e.i().focus()}var o=Bh(t).fetchSignInMethodsForEmail(n).then((function(r){r.length?i():(r=au(e),e.o(),ba("passwordRecovery",t,r,n,!1,Nn().toString()))}),(function(){i()}));return Yh(t,o),o}(t,e,r,n);case"auth/too-many-requests":i=fn("Too many account requests are coming from your IP address. Try again in a few minutes.").toString();case"auth/operation-not-allowed":case"auth/weak-password":Ec(e.l(),!1),Ac(e.ba(),i);break;default:Qi(n="setAccountInfo: "+No(n),void 0),e.a(i)}}})))}else e.l().focus()}else e.i().focus()}(t,s)}),i?void 0:function(){s.o(),xl(t,e)},n,r,Ks(Jh(t)),Qs(Jh(t)),o);s.render(e),Uh(t,s)},s(gh,su),gh.prototype.v=function(){var t=this;this.U(this.kb),or(this.i,"tick",this.B,!1,this),this.i.start(),Ic(this,wc(this,"firebaseui-id-change-phone-number-link"),(function(){t.R()})),Ic(this,this.Ba(),(function(){t.O()})),this.Ja(this.l),this.ea(this.l,this.I),this.u().focus(),su.prototype.v.call(this)},gh.prototype.s=function(){this.O=this.I=this.l=this.R=null,Za(this.i),cr(this.i,"tick",this.B),this.i=null,su.prototype.s.call(this)},gh.prototype.B=function(){--this.D,0<this.D?this.U(this.D):(Za(this.i),cr(this.i,"tick",this.B),this.ua(),this.mb())},O(gh.prototype,{u:fh,pa:ph,Ja:function(t){var e=fh.call(this),n=ph.call(this);Tc(this,e,(function(){Oc(n)&&(Ec(e,!0),xc(n))})),t&&kc(this,e,(function(){t()}))},ba:function(){var t=X(Ba(fh.call(this))||"");return/^\d{6}$/.test(t)?t:null},Eb:mh,U:function(t){Xe(mh.call(this),fn("Resend code in "+(9<t?"0:":"0:0")+t).toString())},ua:function(){xc(this.Eb())},Ba:function(){return wc(this,"firebaseui-id-resend-link")},mb:function(){Ac(this.Ba())},Mb:Wu,Lb:zu,ea:Gu}),va.phoneSignInFinish=function(t,e,n,r,i,o){var s=new gh((function(){s.o(),ba("phoneSignInStart",t,e,n)}),(function(){!function(t,e,n,r){function i(t){e.u().focus(),Ec(e.u(),!1),Ac(e.pa(),t)}var o=e.ba();o?(e.Z("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",fn("Verifying...").toString()),Yh(t,e.L(x(r.confirm,r),[o],(function(n){e.h(),e.Z("firebaseui-icon-done",fn("Verified!").toString());var r=setTimeout((function(){e.h(),e.o();var r={user:qh(t).currentUser,credential:null,operationType:n.operationType,additionalUserInfo:n.additionalUserInfo};wl(t,e,r,!0)}),1e3);Yh(t,(function(){e&&e.h(),clearTimeout(r)}))}),(function(r){if(r.name&&"cancel"==r.name)e.h();else{var o=El(r);switch(r.code){case"auth/credential-already-in-use":e.h();break;case"auth/code-expired":r=au(e),e.h(),e.o(),ba("phoneSignInStart",t,r,n,o);break;case"auth/missing-verification-code":case"auth/invalid-verification-code":e.h(),i(o);break;default:e.h(),e.a(o)}}})))):i(fn("Wrong code. Try again.").toString())}(t,s,n,i)}),(function(){s.o(),xl(t,e)}),(function(){s.o(),ba("phoneSignInStart",t,e,n)}),Os(n),r,Ks(Jh(t)),Qs(Jh(t)));s.render(e),Uh(t,s),o&&s.a(o)};var yh=!(ee||$t("Safari")&&!(Yt()||$t("Coast")||$t("Opera")||$t("Edge")||$t("Firefox")||$t("FxiOS")||$t("Silk")||$t("Android")));function vh(t,e){return/-[a-z]/.test(e)?null:yh&&t.dataset?!$t("Android")||Yt()||$t("Firefox")||$t("FxiOS")||$t("Opera")||$t("Silk")||e in t.dataset?void 0===(t=t.dataset[e])?null:t:null:t.getAttribute("data-"+String(e).replace(/([A-Z])/g,"-$1").toLowerCase())}function bh(t,e,n){var r=this;t=sn(zc,{items:t},null,this.m),Zc.call(this,t,!0,!0),n&&(n=function(t,e){t=(t||document).getElementsByTagName("BUTTON");for(var n=0;n<t.length;n++)if(vh(t[n],"listboxid")===e)return t[n];return null}(t,n))&&(n.focus(),function(t,e){var n=(e=e||Qe(document))||Qe(document),r=gc(t),i=gc(n);if(!ee||9<=Number(de)){s=pc(n,"borderLeftWidth");var o=pc(n,"borderRightWidth");a=pc(n,"borderTopWidth"),c=pc(n,"borderBottomWidth"),o=new fc(parseFloat(a),parseFloat(o),parseFloat(c),parseFloat(s))}else{var s=vc(n,"borderLeft");o=vc(n,"borderRight");var a=vc(n,"borderTop"),c=vc(n,"borderBottom");o=new fc(a,o,c,s)}n==Qe(document)?(s=r.a-n.scrollLeft,r=r.f-n.scrollTop,!ee||10<=Number(de)||(s+=o.left,r+=o.top)):(s=r.a-i.a-o.left,r=r.f-i.f-o.top),i=t.offsetWidth,o=t.offsetHeight,a=oe&&!i&&!o,t=f(i)&&!a||!t.getBoundingClientRect?new qe(i,o):new qe((t=mc(t)).right-t.left,t.bottom-t.top),i=n.clientHeight-t.height,o=n.scrollLeft,a=n.scrollTop,n=new Be(o+=Math.min(s,Math.max(s-(n.clientWidth-t.width),0)),a+=Math.min(r,Math.max(r-i,0))),e.scrollLeft=n.a,e.scrollTop=n.f}(n,t)),Ic(this,t,(function(t){(t=(t=Ze(t.target,"firebaseui-id-list-box-dialog-button"))&&vh(t,"listboxid"))&&(Jc.call(r),e(t))}))}function _h(){return wc(this,"firebaseui-id-phone-number")}function wh(){return wc(this,"firebaseui-id-country-selector")}function Ch(){return wc(this,"firebaseui-id-phone-number-error")}function Sh(t,e){var n,r=t.a,i=Eh("1-US-0",r);if(!(n=e&&Eh(e,r)?e:i?"1-US-0":0<r.length?r[0].c:null))throw Error("No available default country");Ih.call(this,n,t)}function Eh(t,e){return!(!(t=Cs(t))||!W(e,t))}function Th(t){return"firebaseui-flag-"+t.g}function kh(t){var e=this;bh.call(this,function(t){return B(t,(function(t){return{id:t.c,Ma:"firebaseui-flag "+Th(t),label:t.name+" \u200e+"+t.b}}))}(t.a),(function(n){Ih.call(e,n,t,!0),e.M().focus()}),this.Aa)}function Ih(t,e,n){var r=Cs(t);r&&(n&&(e=ws(e,n=X(Ba(_h.call(this))||""))).length&&e[0].b!=r.b&&(n="+"+r.b+n.substr(e[0].b.length+1),qa(_h.call(this),n)),e=Cs(this.Aa),this.Aa=t,t=wc(this,"firebaseui-id-country-selector-flag"),e&&Va(t,Th(e)),ja(t,Th(r)),Xe(wc(this,"firebaseui-id-country-selector-code"),"\u200e+"+r.b))}function xh(t,e,n,r,i,o,s,a,c,u){su.call(this,ju,{Fb:e,za:c||null,Wa:!!n,ia:!!o},u,"phoneSignInStart",{G:r,F:i}),this.I=a||null,this.O=e,this.l=t,this.B=n||null,this.pa=s||null}function Ah(t,e,n,r){try{var i=e.U(aa)}catch(o){return}i?oa?(e.Z("mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active firebaseui-progress-dialog-loading-icon",fn("Verifying...").toString()),Yh(t,e.L(x(t.bc,t),[Os(i),n],(function(n){var r=au(e);e.Z("firebaseui-icon-done",fn("Code sent!").toString());var o=setTimeout((function(){e.h(),e.o(),ba("phoneSignInFinish",t,r,i,15,n)}),1e3);Yh(t,(function(){e&&e.h(),clearTimeout(o)}))}),(function(t){if(e.h(),!t.name||"cancel"!=t.name){grecaptcha.reset(ca),oa=null;var n=t&&t.message||"";if(t.code)switch(t.code){case"auth/too-many-requests":n=fn("This phone number has been used too many times").toString();break;case"auth/invalid-phone-number":case"auth/missing-phone-number":return e.M().focus(),void Ac(e.D(),Dn().toString());default:n=El(t)}e.a(n)}})))):sa?Ac(e.u(),fn("Solve the reCAPTCHA").toString()):!sa&&r&&e.i().click():(e.M().focus(),Ac(e.D(),Dn().toString()))}function Oh(t,e,n,r,i){su.call(this,Uu,{Rb:e},i,"providerSignIn",{G:n,F:r}),this.i=t}function Dh(t,e,n,r,i,o,s){su.call(this,lu,{email:n,Wa:!!e,ia:!!o},s,"signIn",{G:r,F:i}),this.i=t,this.u=e}function Ph(t,e,n,r,i,o){su.call(this,Iu,{email:t},o,"unsupportedProvider",{G:r,F:i}),this.l=e,this.i=n}function Nh(t,e){this.Z=!1;var n=Lh(e);if(Mh[n])throw Error('An AuthUI instance already exists for the key "'+n+'"');Mh[n]=this,this.f=t,this.u=null,this.X=!1,Rh(this.f),this.a=zb.initializeApp({apiKey:t.app.options.apiKey,authDomain:t.app.options.authDomain},t.app.name+"-firebaseui-temp").auth(),Rh(this.a),this.a.setPersistence&&this.a.setPersistence(zb.auth.Auth.Persistence.SESSION),this.oa=e,this.ca=new Rs,this.h=this.N=this.i=this.H=this.M=null,this.m=[],this.Y=!1,this.l=Ti.Ya(),this.j=this.C=null,this.da=this.w=!1}function Rh(t){t&&t.INTERNAL&&t.INTERNAL.logFramework&&t.INTERNAL.logFramework("FirebaseUI-web")}s(xh,su),xh.prototype.v=function(){this.ea(this.pa,this.I),this.R(this.l,this.B||void 0),this.O||cu(this,this.M(),this.i()),uu(this,this.i(),this.l),this.M().focus(),Xl(this.M(),(this.M().value||"").length),su.prototype.v.call(this)},xh.prototype.s=function(){this.B=this.l=null,su.prototype.s.call(this)},O(xh.prototype,{Db:tu,M:_h,D:Ch,ea:function(t,e,n){var r=this,i=_h.call(this),o=wh.call(this),s=Ch.call(this),a=t||Is,c=a.a;if(0==c.length)throw Error("No available countries provided.");Sh.call(r,a,e),Ic(this,o,(function(){kh.call(r,a)})),Tc(this,i,(function(){Oc(s)&&(Ec(i,!0),xc(s));var t=X(Ba(i)||""),e=Cs(this.Aa),n=ws(a,t);t=Eh("1-US-0",c),n.length&&n[0].b!=e.b&&Ih.call(r,"1"==(e=n[0]).b&&t?"1-US-0":e.c,a)})),n&&kc(this,i,(function(){n()}))},U:function(t){var e=X(Ba(_h.call(this))||""),n=(t=t||Is).a,r=ws(Is,e);if(r.length&&!W(n,r[0]))throw qa(_h.call(this)),_h.call(this).focus(),Ac(Ch.call(this),fn("The country code provided is not supported.").toString()),Error("The country code provided is not supported.");return n=Cs(this.Aa),r.length&&r[0].b!=n.b&&Ih.call(this,r[0].c,t),r.length&&(e=e.substr(r[0].b.length+1)),e?new xs(this.Aa,e):null},Ja:wh,ba:function(){return wc(this,"firebaseui-recaptcha-container")},u:function(){return wc(this,"firebaseui-id-recaptcha-error")},i:Wu,ua:zu,R:Gu}),va.phoneSignInStart=function(t,e,n,r){var i=function(t){var e=null;if(j(Us(t),(function(t){t.provider==zb.auth.PhoneAuthProvider.PROVIDER_ID&&S(t.recaptchaParameters)&&!_(t.recaptchaParameters)&&(e=ct(t.recaptchaParameters))})),e){var n=[];j(ya,(function(t){void 0!==e[t]&&(n.push(t),delete e[t])})),n.length&&Zi('The following provided "recaptchaParameters" keys are not allowed: '+n.join(", "))}return e}(Jh(t))||{};oa=null,sa=!(i&&"invisible"===i.size);var o=Il(t),s=function(t){var e=(t=js(t,zb.auth.PhoneAuthProvider.PROVIDER_ID))&&t.defaultCountry||null;e=e&&Ss(e);var n=null;return t&&"string"==typeof t.loginHint&&(n=As(t.loginHint)),e&&e[0]||n&&Cs(n.a)||null}(Jh(t)),a=o?function(t){var e=null;return(t=js(t,zb.auth.PhoneAuthProvider.PROVIDER_ID))&&"string"==typeof t.loginHint&&(e=As(t.loginHint)),t&&t.defaultNationalNumber||e&&e.za||null}(Jh(t)):null;s=n&&n.a||s&&s.c||null,n=n&&n.za||a,(a=zs(Jh(t)))&&Ts(a),aa=a?new _s(zs(Jh(t))):Is;var c=new xh((function(e){Ah(t,c,u,!(!e||!e.keyCode))}),sa,o?null:function(){u.clear(),c.o(),xl(t,e)},Ks(Jh(t)),Qs(Jh(t)),o,aa,s,n);c.render(e),Uh(t,c),r&&c.a(r),i.callback=function(e){c.u()&&xc(c.u()),oa=e,sa||Ah(t,c,u)},i["expired-callback"]=function(){oa=null};var u=new zb.auth.RecaptchaVerifier(sa?c.ba():c.i(),i,qh(t).app);Yh(t,c.L(x(u.render,u),[],(function(t){ca=t}),(function(n){n.name&&"cancel"==n.name||(n=El(n),c.o(),xl(t,e,void 0,n))})))},va.prefilledEmailSignIn=function(t,e,n){var r=new th;r.render(e),Uh(t,r),Yh(t,r.L(x(Bh(t).fetchSignInMethodsForEmail,Bh(t)),[n],(function(i){r.o();var o=!(!kl(t)||!Wh(t));Ol(t,e,i,n,void 0,void 0,o)}),(function(i){i=El(i),r.o(),ba("signIn",t,e,n,i)})))},s(Oh,su),Oh.prototype.v=function(){this.l(this.i),su.prototype.v.call(this)},Oh.prototype.s=function(){this.i=null,su.prototype.s.call(this)},O(Oh.prototype,{l:function(t){function e(e){t(e)}for(var n=this.f?We("firebaseui-id-idp-button",this.f||this.m.a):[],r=0;r<n.length;r++){var i=n[r];Ic(this,i,A(e,vh(i,"providerId")))}}}),va.providerSignIn=function(t,e,n,r){var i=new Oh((function(n){n==zb.auth.EmailAuthProvider.PROVIDER_ID?(i.o(),Pl(t,e,r)):n==zb.auth.PhoneAuthProvider.PROVIDER_ID?(i.o(),ba("phoneSignInStart",t,e)):"anonymous"==n?function(t,e){Yh(t,e.L(x(t.Zb,t),[],(function(n){return e.o(),wl(t,e,n,!0)}),(function(t){t.name&&"cancel"==t.name||(Qi("ContinueAsGuest: "+t.code,void 0),t=El(t),e.a(t))})))}(t,i):Tl(t,i,n,r),td(t),t.l.cancel()}),qs(Jh(t)),Ks(Jh(t)),Qs(Jh(t)));i.render(e),Uh(t,i),n&&i.a(n),function(t){td(t);try{(function t(e,n,r){if(e.a&&n){var i=function(){e.h=!0;var i=Promise.resolve(null);return r||(i=e.a.retrieve(n).catch((function(t){if(t.type===xi||t.type===Ii)throw t;return null}))),i.then((function(t){return t||e.a.hint(n)})).catch((function(i){if(i.type===xi)e.f=Promise.resolve();else if(i.type===Ii)return e.cancel(),t(e,n,r);return null}))};return e.f?e.f.then(i):i()}if(n)return i=Ai.Ya().load().then((function(){return e.a=d.googleyolo,t(e,n,r)})).ta((function(){return null})),Promise.resolve(i);if("undefined"!=typeof Promise)return Promise.resolve(null);throw Error("One-Tap sign in not supported in the current browser!")})(t.l,function(t){var e=[],n=[];j(Us(t),(function(t){t.authMethod&&(e.push(t.authMethod),t.clientId&&n.push({uri:t.authMethod,clientId:t.clientId}))}));var r=null;return ia(t)===la&&e.length&&(r={supportedIdTokenProviders:n,supportedAuthMethods:e}),r}(Jh(t)),function(t){var e;return td(t),(e=t.Y)||(e=!(!(t=Ws(t=Jh(t),zb.auth.GoogleAuthProvider.PROVIDER_ID))||"select_account"!==t.prompt)),e}(t)).then((function(e){return!!t.h&&function(t,e,n){var r,i,o=function(t,e){var n=null;return j(Us(t),(function(t){t.authMethod===e&&(n=t.provider)})),n}(Jh(t),n&&n.authMethod||null);return n&&n.idToken&&o===zb.auth.GoogleAuthProvider.PROVIDER_ID?(Hs(Jh(t),zb.auth.GoogleAuthProvider.PROVIDER_ID).length?(Tl(t,e,o,n.id),n=Gr(!0)):(r=zb.auth.GoogleAuthProvider.credential(n.idToken),i=!1,r=e.L(x(t.$b,t),[r],(function(n){var r=au(e);e.o(),ba("callback",t,r,Gr(n)),i=!0}),(function(n){if(!(n.name&&"cancel"==n.name||n&&"auth/credential-already-in-use"==n.code))if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential){var r=au(e);e.o(),ba("callback",t,r,Kr(n))}else n=El(n),e.a(n)})),Yh(t,r),n=r.then((function(){return i}),(function(){return!1}))),n):(n&&e.a(fn("The selected credential for the authentication provider is not supported!").toString()),Gr(!1))}(t,t.h,e)}))}catch(e){}}(t)},va.sendEmailLinkForSignIn=function(t,e,n,r){var i=new Ll;i.render(e),Uh(t,i),Dl(t,i,n,r,(function(r){i.o(),r=El(r),ba("signIn",t,e,n,r)}))},s(Dh,su),Dh.prototype.v=function(){this.B(this.i),this.D(this.i,this.u||void 0),this.l().focus(),Xl(this.l(),(this.l().value||"").length),su.prototype.v.call(this)},Dh.prototype.s=function(){this.u=this.i=null,su.prototype.s.call(this)},O(Dh.prototype,{l:Ju,O:tl,B:el,I:nl,j:rl,U:Wu,R:zu,D:Gu}),va.signIn=function(t,e,n,r){var i=kl(t),o=new Dh((function(){var e=o,n=e.j()||"";n&&Al(t,e,n)}),i&&ia(Jh(t))!=ua?null:function(){o.o(),xl(t,e,n)},n,Ks(Jh(t)),Qs(Jh(t)),i);o.render(e),Uh(t,o),r&&o.a(r)},s(Ph,su),Ph.prototype.v=function(){this.B(this.l,this.i),this.u().focus(),su.prototype.v.call(this)},Ph.prototype.s=function(){this.i=this.l=null,su.prototype.s.call(this)},O(Ph.prototype,{u:Wu,D:zu,B:Gu}),va.unsupportedProvider=function(t,e,n){var r=new Ph(n,(function(){r.o(),ba("passwordRecovery",t,e,n)}),(function(){r.o(),xl(t,e,n)}),Ks(Jh(t)),Qs(Jh(t)));r.render(e),Uh(t,r)};var Mh={};function Lh(t){return t||"[DEFAULT]"}function Fh(t){return td(t),t.i||(t.i=Qh(t,(function(e){return e&&!us(Hh(t))?Gr(qh(t).getRedirectResult().then((function(t){return t}),(function(e){if(e&&"auth/email-already-in-use"==e.code&&e.email&&e.credential)throw e;return rd(t,e)}))):Gr(Bh(t).getRedirectResult().then((function(e){return Fs(Jh(t))&&!e.user&&t.j&&!t.j.isAnonymous?qh(t).getRedirectResult():e})))}))),t.i}function Uh(t,e){td(t),t.h=e}var jh=null;function Vh(){return jh}function Bh(t){return td(t),t.a}function qh(t){return td(t),t.f}function Hh(t){return td(t),t.oa}function Wh(t){return td(t),t.M?t.M.emailHint:void 0}function zh(t){return"signIn"===((t=new qt(t)).a.a.get(Gt.wb)||null)&&!!t.a.a.get(Gt.ab)}function Gh(t,e,n,r){td(t),void 0!==t.f.languageCode&&(t.u=t.f.languageCode);var i="en".replace(/_/g,"-");t.f.languageCode=i,t.a.languageCode=i,t.X=!0,void 0!==t.f.tenantId&&(t.a.tenantId=t.f.tenantId),t.jb(n),t.M=r||null;var o=d.document;t.C?t.C.then((function(){"complete"==o.readyState?Kh(t,e):ar(window,"load",(function(){Kh(t,e)}))})):"complete"==o.readyState?Kh(t,e):ar(window,"load",(function(){Kh(t,e)}))}function Kh(t,e){var n=ai(e,"Could not find the FirebaseUI widget element on the page.");if(n.setAttribute("lang","en".replace(/_/g,"-")),jh){var r=jh;td(r),us(Hh(r))&&Zi("UI Widget is already rendered on the page and is pending some user interaction. Only one widget instance can be rendered per page. The previous instance has been automatically reset."),jh.reset()}jh=t,t.N=n,function(t,e){t.J=null,t.H=new Er(e),t.H.register(),or(t.H,"pageEnter",(function(e){if(t.J!=(e=e&&e.pageId)){var n=Jh(t);(n=ra(n).uiChanged||null)&&n(t.J,e),t.J=e}}))}(t,n),Bo(new qo)&&Bo(new Ho)?function(t,e){var n=ai(e,"Could not find the FirebaseUI widget element on the page.");switch(e=function(t){var e=ci();return(e=_t(e,t=ys(Jh(t).a,"queryParameterForSignInSuccessUrl")))?Te(xe(e)):null}(t),function(t){var e=ci();for(var n in e=_t(e,t=Gs(Jh(t)))||"",ma)if(ma[n].toLowerCase()==e.toLowerCase())return ma[n];return"callback"}(t)){case"callback":e&&ss(e,Hh(t)),t.ob()?ba("callback",t,n):xl(t,n,Wh(t));break;case"resetPassword":ba("passwordReset",t,n,Nl(),Rl());break;case"recoverEmail":ba("emailChangeRevocation",t,n,Nl());break;case"verifyEmail":ba("emailVerification",t,n,Nl(),Rl());break;case"signIn":ba("emailLinkSignInCallback",t,n,ci()),ed();break;case"select":if(e&&ss(e,Hh(t)),_a){xl(t,n);break}return void yl((function(){td(t),_l(Vh,n,!0)}),!0);default:throw Error("Unhandled widget operation.")}(e=Js(Jh(t)))&&e()}(t,e):(e=ai(e,"Could not find the FirebaseUI widget element on the page."),(n=new pl(fn("The browser you are using does not support Web Storage. Please try again in a different browser.").toString())).render(e),Uh(t,n)),e=t.h&&"blank"==t.h.Ea&&Xs(Jh(t)),ds(Hh(t))&&!e&&(Zh(t,(e=ds(Hh(t))).a),rs(Yo,Hh(t)))}function Qh(t,e){if(t.w)return e($h(t));if(Yh(t,(function(){t.w=!1})),Fs(Jh(t))){var n=new jr((function(n){Yh(t,t.f.onAuthStateChanged((function(r){t.j=r,t.w||(t.w=!0,n(e($h(t))))})))}));return Yh(t,n),n}return t.w=!0,e(null)}function $h(t){return td(t),Fs(Jh(t))&&t.j&&t.j.isAnonymous?t.j:null}function Yh(t,e){if(td(t),e){t.m.push(e);var n=function(){!function(t,e){!function(t,e){for(var n=p(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&G(t,r)}))}(t.m,(function(t){return t==e}))};"function"!=typeof e&&e.then(n,n)}}function Xh(t){void 0!==t.f.languageCode&&t.X&&(t.X=!1,t.f.languageCode=t.u)}function Zh(t,e){t.f.tenantId=e,t.a.tenantId=e}function Jh(t){return td(t),t.ca}function td(t){if(t.Z)throw Error("AuthUI instance is deleted!")}function ed(){var t=ci();if(zh(t)){for(var e in t=new qt(t),Gt)Gt.hasOwnProperty(e)&&Ut(t.a.a,Gt[e]);e={state:"signIn",mode:"emailLink",operation:"clear"},d.history&&d.history.replaceState&&d.history.replaceState(e,d.document.title,t.toString())}}function nd(t){return td(t),Bh(t).signOut()}function rd(t,e,n){if(td(t),e&&e.code&&("auth/email-already-in-use"==e.code||"auth/credential-already-in-use"==e.code)){var r=na(Jh(t));return Gr().then((function(){return r(new Ln("anonymous-upgrade-merge-conflict",null,n||e.credential))})).then((function(){throw t.h&&(t.h.o(),t.h=null),e}))}return Kr(e)}function id(t,e,n,r){su.call(this,Hu,void 0,r,"providerMatchByEmail",{G:e,F:n}),this.i=t}function od(t,e,n,r,i){su.call(this,qu,{dc:e},i,"selectTenant",{G:n,F:r}),this.i=t}function sd(t){su.call(this,gu,void 0,t,"spinner")}function ad(t){for(var e in this.a=new ps,ms(this.a,"authDomain"),ms(this.a,"displayMode",pd),ms(this.a,"tenants"),ms(this.a,"callbacks"),ms(this.a,"tosUrl"),ms(this.a,"privacyPolicyUrl"),t)if(t.hasOwnProperty(e))try{gs(this.a,e,t[e])}catch(Ue){Qi('Invalid config: "'+e+'"',void 0)}}function cd(t){return t.a.get("callbacks")||{}}function ud(t){var e=t.a.get("tosUrl")||null;if(t=t.a.get("privacyPolicyUrl")||null,e&&!t&&Zi("Privacy Policy URL is missing, the link will not be displayed."),e&&t){if("function"==typeof e)return e;if("string"==typeof e)return function(){si(e)}}return null}function ld(t){var e=t.a.get("tosUrl")||null,n=t.a.get("privacyPolicyUrl")||null;if(n&&!e&&Zi("Terms of Service URL is missing, the link will not be displayed."),e&&n){if("function"==typeof n)return n;if("string"==typeof n)return function(){si(n)}}return null}function hd(t,e){if(!(t=t.a.get("tenants"))||!t.hasOwnProperty(e)&&!t.hasOwnProperty(gd))throw Error("Invalid tenant configuration!")}function dd(t,e,n){if(!(t=t.a.get("tenants")))throw Error("Invalid tenant configuration!");var r=[];if(!(t=t[e]||t[gd]))return Qi("Invalid tenant configuration: "+e+" is not configured!",void 0),r;if(!(e=t.signInOptions))throw Error("Invalid tenant configuration: signInOptions are invalid!");return e.forEach((function(t){if("string"==typeof t)r.push(t);else if("string"==typeof t.provider){var e=t.hd;e&&n?(e instanceof RegExp?e:new RegExp("@"+e.replace(".","\\.")+"$")).test(n)&&r.push(t.provider):r.push(t.provider)}else Qi(t="Invalid tenant configuration: signInOption "+JSON.stringify(t)+" is invalid!",void 0)})),r}(t=Nh.prototype).ob=function(){return td(this),!!ds(Hh(this))||zh(ci())},t.start=function(t,e){Gh(this,t,e)},t.disableAutoSignIn=function(){td(this),this.Y=!0},t.reset=function(){td(this);var t=this;this.N&&this.N.removeAttribute("lang"),this.H&&function(t){var e=Sr(t.P());_r[e]&&_r[e].length&&(function(t,e){0<=(e=H(t,e,void 0))&&G(t,e)}(_r[e],(function(e){return e==t})),_r[e].length||delete _r[e])}(this.H),Xh(this),this.M=null,ed(),rs(Yo,Hh(this)),td(this),this.l.cancel(),this.i=Gr({user:null,credential:null}),jh==this&&(jh=null),this.N=null;for(var e=0;e<this.m.length;e++)"function"==typeof this.m[e]?this.m[e]():this.m[e].cancel&&this.m[e].cancel();this.m=[],ls(Hh(this)),this.h&&(this.h.o(),this.h=null),this.J=null,this.a&&(this.C=nd(this).then((function(){t.C=null}),(function(){t.C=null})))},t.jb=function(t){td(this);var e,n=this.ca;for(e in t)try{gs(n.a,e,t[e])}catch(r){Qi('Invalid config: "'+e+'"',void 0)}se&&gs(n.a,"popupMode",!1),zs(n),!this.da&&ta(Jh(this))&&(Zi("signInSuccess callback is deprecated. Please use signInSuccessWithAuthResult callback instead."),this.da=!0)},t.Vb=function(){td(this);var t=Jh(this),e=ys(t.a,"widgetUrl"),n=Ls(t,e);Jh(this).a.get("popupMode")?(n=n||"about:blank",(t={width:500,height:600,top:0<(t=(window.screen.availHeight-600)/2)?t:0,left:0<(e=(window.screen.availWidth-500)/2)?e:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1}).target=t.target||n.target||"google_popup",t.width=t.width||690,t.height=t.height||500,(t=ri(n,t))&&t.focus()):ii(n)},t.Xa=function(){var t=this;return td(this),this.a.app.delete().then((function(){var e=Lh(Hh(t));delete Mh[e],t.reset(),t.Z=!0}))},t.Hb=function(t,e){td(this);var n=this,r=function(){for(var t=32,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();if(!Ys(Jh(this)))throw Error("Email link sign-in should be enabled to trigger email sending.");var i=function(t){if(Ys(t)){var e={url:ci(),handleCodeInApp:!0};return(t=js(t,zb.auth.EmailAuthProvider.PROVIDER_ID))&&"function"==typeof t.emailLinkSignIn&&lt(e,t.emailLinkSignIn()),e.url=It(ci(),e.url).toString(),e}return null}(Jh(this)),o=new qt(i.url);return function(t,e){e?t.a.a.set(Gt.Ta,e):Ut(t.a.a,Gt.Ta)}(o,r),e&&e.a&&(function(t,e,n){is(es,Oo(t,JSON.stringify(e.aa())),n)}(r,e,Hh(this)),Wt(o,e.a.providerId)),function(t,e){null!==e?t.a.a.set(Gt.Ra,e?"1":"0"):Ut(t.a.a,Gt.Ra)}(o,function(t){return!(!(t=js(t,zb.auth.EmailAuthProvider.PROVIDER_ID))||!t.forceSameDevice)}(Jh(this))),Qh(this,(function(e){return e&&((e=e.uid)?o.a.a.set(Gt.Qa,e):Ut(o.a.a,Gt.Qa)),i.url=o.toString(),Bh(n).sendSignInLinkToEmail(t,i)})).then((function(){var e=Hh(n),i={};i.email=t,is(ts,Oo(r,JSON.stringify(i)),e)}),(function(t){throw rs(es,Hh(n)),rs(ts,Hh(n)),t}))},t.ac=function(t,e){td(this);var n=this;return Bh(this).signInWithEmailAndPassword(t,e).then((function(r){return Qh(n,(function(i){return i?nd(n).then((function(){return rd(n,{code:"auth/email-already-in-use"},zb.auth.EmailAuthProvider.credential(t,e))})):r}))}))},t.Xb=function(t,e){td(this);var n=this;return Qh(this,(function(r){if(r){var i=zb.auth.EmailAuthProvider.credential(t,e);return r.linkWithCredential(i)}return Bh(n).createUserWithEmailAndPassword(t,e)}))},t.$b=function(t){td(this);var e=this;return Qh(this,(function(n){return n?n.linkWithCredential(t).then((function(t){return t}),(function(n){if(n&&"auth/email-already-in-use"==n.code&&n.email&&n.credential)throw n;return rd(e,n,t)})):Bh(e).signInWithCredential(t)}))},t.cc=function(t){td(this);var e=this,n=this.i;return this.i=null,Qh(this,(function(n){return n&&!us(Hh(e))?n.linkWithRedirect(t):Bh(e).signInWithRedirect(t)})).then((function(){}),(function(t){throw e.i=n,t}))},t.bc=function(t,e){td(this);var n=this;return Qh(this,(function(r){return r?r.linkWithPhoneNumber(t,e).then((function(t){return new Oi(t,(function(t){if("auth/credential-already-in-use"==t.code)return rd(n,t);throw t}))})):qh(n).signInWithPhoneNumber(t,e).then((function(t){return new Oi(t)}))}))},t.Zb=function(){return td(this),qh(this).signInAnonymously()},t.Wb=function(t,e){return td(this),Bh(this).signInWithEmailAndPassword(t,e)},s(id,su),id.prototype.v=function(){this.u(this.i),this.B(this.i),this.l().focus(),Xl(this.l(),(this.l().value||"").length),su.prototype.v.call(this)},id.prototype.s=function(){this.i=null,su.prototype.s.call(this)},O(id.prototype,{l:Ju,I:tl,u:el,D:nl,j:rl,O:Wu,B:Gu}),s(od,su),od.prototype.v=function(){!function(t,e){function n(t){e(t)}for(var r=t.f?We("firebaseui-id-tenant-selection-button",t.f||t.m.a):[],i=0;i<r.length;i++){var o=r[i];Ic(t,o,A(n,vh(o,"tenantId")))}}(this,this.i),su.prototype.v.call(this)},od.prototype.s=function(){this.i=null,su.prototype.s.call(this)},s(sd,su);var fd=["immediateFederatedRedirect","privacyPolicyUrl","signInFlow","signInOptions","tosUrl"],pd="optionFirst",md={oc:pd,nc:"identifierFirst"},gd="*";function yd(t,e){var n=this;this.m=ai(t),this.a={},Object.keys(e).forEach((function(t){n.a[t]=new ad(e[t])})),this.pb=this.f=this.w=this.h=this.i=this.j=null,Object.defineProperty(this,"languageCode",{get:function(){return this.pb},set:function(t){this.pb=t||null},enumerable:!1})}function vd(t){t.j&&t.j.reset(),t.nb(),t.f&&t.f.o()}(t=yd.prototype).Tb=function(t,e){var n=this;vd(this);var r=t.apiKey;return new jr((function(t,i){if(n.a.hasOwnProperty(r)){var o=cd(n.a[r]).selectTenantUiHidden||null;if(function(t){for(var e in t=t.a.get("displayMode"),md)if(md[e]===t)return md[e];return pd}(n.a[r])===pd){var s=[];e.forEach((function(t){t=t||"_";var e=n.a[r].a.get("tenants");if(!e)throw Error("Invalid tenant configuration!");(e=e[t]||e[gd])?t={tenantId:"_"!==t?t:null,displayName:e.displayName,Na:e.iconUrl,Ga:e.buttonColor}:(Qi("Invalid tenant configuration: "+t+" is not configured!",void 0),t=null),t&&s.push(t)}));var a=function(e){e={tenantId:e,providerIds:dd(n.a[r],e||"_")},t(e)};if(1===s.length)return void a(s[0].tenantId);n.f=new od((function(t){vd(n),o&&o(),a(t)}),s,ud(n.a[r]),ld(n.a[r]))}else n.f=new id((function(){var i=n.f.j();if(i){for(var s=0;s<e.length;s++){var a=dd(n.a[r],e[s]||"_",i);if(0!==a.length)return i={tenantId:e[s],providerIds:a,email:i},vd(n),o&&o(),void t(i)}n.f.a(Rn({code:"no-matching-tenant-for-email"}).toString())}}),ud(n.a[r]),ld(n.a[r]));n.f.render(n.m),(i=cd(n.a[r]).selectTenantUiShown||null)&&i()}else{var c=Error("Invalid project configuration: API key is invalid!");c.code="invalid-configuration",n.qb(c),i(c)}}))},t.Ob=function(t,e){if(!this.a.hasOwnProperty(t))throw Error("Invalid project configuration: API key is invalid!");var n=e||void 0;hd(this.a[t],e||"_");try{this.i=zb.app(n).auth()}catch(uN){var r=this.a[t].a.get("authDomain");if(!r)throw Error("Invalid project configuration: authDomain is required!");(t=zb.initializeApp({apiKey:t,authDomain:r},n)).auth().tenantId=e,this.i=t.auth()}return this.i},t.Yb=function(t,e){var n=this;return new jr((function(r,i){function o(e,r){n.j=new Nh(t),Gh(n.j,n.m,e,r)}var s=t.app.options.apiKey;n.a.hasOwnProperty(s)||i(Error("Invalid project configuration: API key is invalid!"));var a=function(t,e,n){return t=function(t,e){var n=fd,r=void 0===r?{}:r;return hd(t,e),function(t,e,n){return n=void 0===n?{}:n,Object.keys(t).filter((function(t){return e.includes(t)})).reduce((function(e,n){return e[n]=t[n],e}),n)}((t=t.a.get("tenants"))[e]||t[gd],n,r)}(t,e),(e=t.signInOptions)&&n&&(e=e.filter((function(t){return n.includes("string"==typeof t?t:t.provider)})),t.signInOptions=e),t}(n.a[s],t.tenantId||"_",e&&e.providerIds);vd(n),i={signInSuccessWithAuthResult:function(t){return r(t),!1}};var c,u=cd(n.a[s]).signInUiShown||null,l=!1;i.uiChanged=function(e,r){null===e&&"callback"===r?((e=ze("firebaseui-id-page-callback",n.m))&&xc(e),n.h=new sd,n.h.render(n.m)):l||null===e&&"spinner"===r||"blank"===r||(n.h&&(n.h.o(),n.h=null),l=!0,u&&u(t.tenantId))},a.callbacks=i,a.credentialHelper="none",e&&e.email&&(c={emailHint:e.email}),n.j?n.j.Xa().then((function(){o(a,c)})):o(a,c)}))},t.reset=function(){var t=this;return Gr().then((function(){t.j&&t.j.Xa()})).then((function(){t.j=null,vd(t)}))},t.Ub=function(){var t=this;this.h||this.w||(this.w=window.setTimeout((function(){vd(t),t.h=new sd,t.f=t.h,t.h.render(t.m),t.w=null}),500))},t.nb=function(){window.clearTimeout(this.w),this.w=null,this.h&&(this.h.o(),this.h=null)},t.Cb=function(){return vd(this),this.f=new ul,this.f.render(this.m),Gr()},t.qb=function(t){var e,n=this,r=Rn({code:t.code}).toString()||t.message;vd(this),t.retry&&C(t.retry)&&(e=function(){n.reset(),t.retry()}),this.f=new fl(r,e),this.f.render(this.m)},t.Qb=function(t){var e=this;return Gr().then((function(){var n=e.i&&e.i.app.options.apiKey;if(!e.a.hasOwnProperty(n))throw Error("Invalid project configuration: API key is invalid!");if(hd(e.a[n],t.tenantId||"_"),!e.i.currentUser||e.i.currentUser.uid!==t.uid)throw Error("The user being processed does not match the signed in user!");return(n=cd(e.a[n]).beforeSignInSuccess||null)?n(t):t})).then((function(e){if(e.uid!==t.uid)throw Error("User with mismatching UID returned.");return e}))},N("firebaseui.auth.FirebaseUiHandler",yd),N("firebaseui.auth.FirebaseUiHandler.prototype.selectTenant",yd.prototype.Tb),N("firebaseui.auth.FirebaseUiHandler.prototype.getAuth",yd.prototype.Ob),N("firebaseui.auth.FirebaseUiHandler.prototype.startSignIn",yd.prototype.Yb),N("firebaseui.auth.FirebaseUiHandler.prototype.reset",yd.prototype.reset),N("firebaseui.auth.FirebaseUiHandler.prototype.showProgressBar",yd.prototype.Ub),N("firebaseui.auth.FirebaseUiHandler.prototype.hideProgressBar",yd.prototype.nb),N("firebaseui.auth.FirebaseUiHandler.prototype.completeSignOut",yd.prototype.Cb),N("firebaseui.auth.FirebaseUiHandler.prototype.handleError",yd.prototype.qb),N("firebaseui.auth.FirebaseUiHandler.prototype.processUser",yd.prototype.Qb),N("firebaseui.auth.AuthUI",Nh),N("firebaseui.auth.AuthUI.getInstance",(function(t){return t=Lh(t),Mh[t]?Mh[t]:null})),N("firebaseui.auth.AuthUI.prototype.disableAutoSignIn",Nh.prototype.disableAutoSignIn),N("firebaseui.auth.AuthUI.prototype.start",Nh.prototype.start),N("firebaseui.auth.AuthUI.prototype.setConfig",Nh.prototype.jb),N("firebaseui.auth.AuthUI.prototype.signIn",Nh.prototype.Vb),N("firebaseui.auth.AuthUI.prototype.reset",Nh.prototype.reset),N("firebaseui.auth.AuthUI.prototype.delete",Nh.prototype.Xa),N("firebaseui.auth.AuthUI.prototype.isPendingRedirect",Nh.prototype.ob),N("firebaseui.auth.AuthUIError",Ln),N("firebaseui.auth.AuthUIError.prototype.toJSON",Ln.prototype.toJSON),N("firebaseui.auth.CredentialHelper.ACCOUNT_CHOOSER_COM",ua),N("firebaseui.auth.CredentialHelper.GOOGLE_YOLO",la),N("firebaseui.auth.CredentialHelper.NONE",ha),N("firebaseui.auth.AnonymousAuthProvider.PROVIDER_ID","anonymous"),jr.prototype.catch=jr.prototype.ta,jr.prototype.finally=jr.prototype.ec}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:window)}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:window),"undefined"!=typeof window&&(window.dialogPolyfill=ex.a);const nx=firebaseui.auth;let rx=(()=>{class t{constructor(t){window.firebaseUiInstance||(window.firebaseUiInstance=new nx.AuthUI(t.auth)),this.firebaseUiInstance=window.firebaseUiInstance}}return t.\u0275fac=function(e){return new(e||t)(te(JI))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),ix=(()=>{class t{constructor(t,e,n,r,i){this.angularFireAuth=t,this._firebaseUiConfig=e,this._firebaseUiConfig_Feature=n,this.ngZone=r,this.firebaseUIService=i,this.signInSuccessWithAuthResultCallback=new fl,this.signInFailureCallback=new fl}get firebaseUiConfig(){return Object.assign({},this._firebaseUiConfig,this._firebaseUiConfig_Feature)}ngOnInit(){this.subscription=this.angularFireAuth.authState.subscribe(t=>{if(t&&t.isAnonymous||!t){if(0===this.firebaseUiConfig.signInOptions.length)throw new Error("There must be at least one AuthProvider.");this.firebaseUIPopup()}})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}getUIAuthConfig(){return this.firebaseUiConfig.callbacks||(this._firebaseUiConfig[t.COMPUTED_CALLBACKS]=!0,this._firebaseUiConfig.callbacks=this.getCallbacks()),this.firebaseUiConfig}firebaseUIPopup(){const e=this.firebaseUIService.firebaseUiInstance,n=this.getUIAuthConfig();let r=!1;n[t.COMPUTED_CALLBACKS]&&(r=!0,delete n[t.COMPUTED_CALLBACKS]),e.start("#firebaseui-auth-container",n),r&&(this._firebaseUiConfig.callbacks=null)}getCallbacks(){return{signInSuccessWithAuthResult:(t,e)=>(this.ngZone.run(()=>{this.signInSuccessWithAuthResultCallback.emit({authResult:t,redirectUrl:e})}),this.firebaseUiConfig.signInSuccessUrl),signInFailure:t=>(this.ngZone.run(()=>{this.signInFailureCallback.emit({code:t.code,credential:t.credential})}),Promise.reject())}}}return t.\u0275fac=function(e){return new(e||t)(oc(JI),oc("firebaseUIAuthConfig"),oc("firebaseUIAuthConfigFeature"),oc(eh),oc(rx))},t.\u0275cmp=ye({type:t,selectors:[["firebase-ui"]],outputs:{signInSuccessWithAuthResultCallback:"signInSuccessWithAuthResult",signInFailureCallback:"signInFailure"},decls:1,vars:0,consts:[["id","firebaseui-auth-container"]],template:function(t,e){1&t&&Cc(0,"div",0)},encapsulation:2}),t.COMPUTED_CALLBACKS="COMPUTED_CALLBACKS",t})();const ox=zb,sx=r;let ax=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:"firebaseUIAuthConfig",useValue:e},{provide:"firebaseUIAuthConfigFeature",useValue:{}}]}}static forFeature(e){return{ngModule:t,providers:[{provide:"firebaseUIAuthConfigFeature",useValue:e}]}}}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[rx],imports:[[gf]]}),t})(),cx=(()=>{class t{constructor(t,e,n,r){this.dialogRef=t,this.afAuth=e,this.accountService=n,this.router=r,this.dialogRef.disableClose=!1}ngOnInit(){}successCallback(t){let e=t.authResult.user;this.accountService.setAccount({uid:e.uid?e.uid:" ",displayName:e.displayName?e.displayName:" ",email:e.email?e.email:" ",phoneNumber:e.phoneNumber?e.phoneNumber:" "}).then(()=>{this.dialogRef.close(null),window.location.reload()})}onNoClick(){this.dialogRef.close(null)}}return t.\u0275fac=function(e){return new(e||t)(oc(HI),oc(JI),oc(iC),oc(vy))},t.\u0275cmp=ye({type:t,selectors:[["app-login"]],decls:4,vars:0,consts:[["mat-dialog-content",""],["mat-dialog-title",""],[3,"signInSuccessWithAuthResult"]],template:function(t,e){1&t&&(_c(0,"div",0),_c(1,"h2",1),Wc(2,"Login/SignUp"),wc(),wc(),_c(3,"firebase-ui",2),Dc("signInSuccessWithAuthResult",(function(t){return e.successCallback(t)})),wc())},directives:[XI,YI,ix],styles:[""]}),t})(),ux=(()=>{class t{constructor(t,e,n){this.dialog=t,this.fb=e,this.afAuth=n}domainLogin(){this.dialog.open(cx,{width:"400px",data:{}}).afterClosed().subscribe(t=>{})}logout(){this.afAuth.auth.signOut()}ifUserLoggedIn(){return new Promise((t,e)=>{c_.auth().onAuthStateChanged((function(e){t(!!e)}))})}}return t.\u0275fac=function(e){return new(e||t)(te(QI),te(Eb),te(JI))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),lx=(()=>{class t{constructor(t,e){this.afs=t,this.loginService=e,this.favouriteCollection=this.afs.collection("favourites")}setLocalFavourite(t){let e=this.getLocalFavourites();e.findIndex(e=>e.id==t.id)<0&&(e.push(t),localStorage.setItem("domains",JSON.stringify(e)),console.log("setFavourite->",e))}getLocalFavourites(){return JSON.parse(localStorage.getItem("domains")||"[]")}setFavourite(t){console.log("setFavourite->",t);const e=this.afs.createId();return t&&(t.id=e),this.favouriteCollection.doc(t.id).set(t,{merge:!0})}getFavourites(t){var e=this.afs.collection("favourites",e=>e.where("account.id","==",t).orderBy("creationDate","desc"));return this.favourites=e.snapshotChanges().pipe(U(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}deleteFavourite(t){let e=this.getLocalFavourites();var n=e.findIndex(e=>t.id==e.id);e.splice(n,1),localStorage.setItem("domains",JSON.stringify(e))}}return t.\u0275fac=function(e){return new(e||t)(te(i_),te(ux))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const hx=["mat-button",""],dx=["*"],fx="accent",px=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class mx{constructor(t){this._elementRef=t}}const gx=iI(rI(oI(mx)));let yx=(()=>{class t extends gx{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of px)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color=fx)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",e){this._focusMonitor.focusVia(this._getHostElement(),t,e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(oc(_u),oc(zS),oc(Yk,8))},t.\u0275cmp=ye({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&kl(OI,!0),2&t&&El(n=Al())&&(e.ripple=n.first)},hostBindings:function(t,e,n){1&t&&Ka(2),2&t&&(nc("disabled",e.disabled||null),uc("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Xc],attrs:hx,ngContentSelectors:dx,decls:4,vars:4,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(Uc(),_c(0,"span",0),Vc(1),wc(),Cc(2,"div",1),Cc(3,"div",2)),2&t&&(rs(2),uc("mat-button-ripple-round",e.isRoundButton||e.isIconButton),Bc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[OI],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),vx=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[gf,DI,nI],nI]}),t})();class bx{constructor(t){this.total=t}call(t,e){return e.subscribe(new _x(t,this.total))}}class _x extends m{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const wx=new Set;let Cx,Sx=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ex}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!wx.has(t))try{Cx||(Cx=document.createElement("style"),Cx.setAttribute("type","text/css"),document.head.appendChild(Cx)),Cx.sheet&&(Cx.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),wx.add(t))}catch(uN){console.error(uN)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(te(CC))},t.\u0275prov=ft({factory:function(){return new t(te(CC))},token:t,providedIn:"root"}),t})();function Ex(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Tx=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new k}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return kx(aC(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=up(kx(aC(t)).map(t=>this._registerQuery(t).observable));return e=Hp(e.pipe(Rp(1)),e.pipe(t=>t.lift(new bx(1)),function(t,e=hC){return n=>n.lift(new OS(t,e))}(0))),e.pipe(U(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new w(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Wp(e),U(e=>({query:t,matches:e.matches})),yC(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(te(Sx),te(eh))},t.\u0275prov=ft({factory:function(){return new t(te(Sx),te(eh))},token:t,providedIn:"root"}),t})();function kx(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const Ix={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"},xx=[1,"mat-simple-snackbar"];function Ax(t,e){if(1&t){const t=xc();_c(0,"div",1),_c(1,"button",2),Dc("click",(function(e){return vn(t),Lc().action()})),Wc(2),wc(),wc()}if(2&t){const t=Lc();rs(2),zc(t.data.action)}}const Ox=[1,"mat-snack-bar-container"];function Dx(t,e){}const Px=Math.pow(2,31)-1;class Nx{constructor(t,e){this._overlayRef=e,this._afterDismissed=new k,this._afterOpened=new k,this._onAction=new k,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Px))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const Rx=new Vt("MatSnackBarData");class Mx{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Lx=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(oc(Nx),oc(Rx))},t.\u0275cmp=ye({type:t,selectors:[["simple-snack-bar"]],hostBindings:function(t,e,n){1&t&&Sc(xx)},decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(_c(0,"span"),Wc(1),wc(),ic(2,Ax,3,1,"div",0)),2&t&&(rs(1),zc(e.data.message),rs(1),Bc("ngIf",e.hasAction))},directives:[lf,yx],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const Fx={snackBarState:eE("state",[oE("void, hidden",iE({transform:"scale(0.8)",opacity:0})),oE("visible",iE({transform:"scale(1)",opacity:1})),sE("* => visible",nE("150ms cubic-bezier(0, 0, 0.2, 1)")),sE("* => void, * => hidden",nE("75ms cubic-bezier(0.4, 0.0, 1, 1)",iE({opacity:0})))])};let Ux=(()=>{class t extends qC{constructor(t,e,n,r){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=r,this._destroyed=!1,this._onExit=new k,this._onEnter=new k,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._role="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(Rp(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}return t.\u0275fac=function(e){return new(e||t)(oc(eh),oc(_u),oc(ka),oc(Mx))},t.\u0275cmp=ye({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&Tl(WC,!0),2&t&&El(n=Al())&&(e._portalOutlet=n.first)},hostBindings:function(t,e,n){1&t&&(Ka(2),Pc("@state.done",(function(t){return e.onAnimationEnd(t)})),Sc(Ox)),2&t&&(nc("role",e._role),$c("@state",e._animationState))},features:[Xc],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&ic(0,Dx,0,0,"ng-template",0)},directives:[WC],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[Fx.snackBarState]}}),t})(),jx=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[AS,zC,gf,vx,nI],nI]}),t})();const Vx=new Vt("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new Mx}});let Bx=(()=>{class t{constructor(t,e,n,r,i,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=o,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage||(r.announcementMessage=t),this.openFromComponent(Lx,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=new GC(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[Mx,e]])),r=new jC(Ux,e.viewContainerRef,n),i=t.attach(r);return i.instance.snackBarConfig=e,i.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new Mx),this._defaultConfig),e),r=this._createOverlay(n),i=this._attachSnackBarContainer(r,n),o=new Nx(i,r);if(t instanceof Wu){const e=new VC(t,null,{$implicit:n.data,snackBarRef:o});o.instance=i.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),r=new jC(t,void 0,e),s=i.attachComponentPortal(r);o.instance=s.instance}return this._breakpointObserver.observe(Ix.HandsetPortrait).pipe(yC(r.detachments())).subscribe(t=>{const e=r.overlayElement.classList;t.matches?e.add("mat-snack-bar-handset"):e.remove("mat-snack-bar-handset")}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new hS;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,o=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return new GC(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[Nx,e],[Rx,t.data]]))}}return t.\u0275fac=function(e){return new(e||t)(te(IS),te(qS),te(qa),te(Tx),te(t,12),te(Vx))},t.\u0275prov=ft({factory:function(){return new t(te(IS),te(qS),te(Bt),te(Tx),te(t,12),te(Vx))},token:t,providedIn:jx}),t})();function qx(t,e){if(1&t&&(_c(0,"div",3),_c(1,"div",4),_c(2,"div",5),_c(3,"div",6),_c(4,"div",7),_c(5,"div",8),_c(6,"div",9),Wc(7),wc(),wc(),wc(),wc(),_c(8,"h1",10),_c(9,"span",11),Wc(10,"The domain name"),wc(),_c(11,"a"),Wc(12),wc(),_c(13,"span",12),Wc(14," is for sale "),wc(),wc(),wc(),wc(),wc()),2&t){const t=Lc();rs(5),cc("background-color",t.domain.color),rs(1),cc("font-family",t.domain.font),rs(1),Gc(" ",t.domain.name.toLowerCase(),""),rs(4),nc("href","http://"+t.domain.name,co),rs(1),zc(t.domain.name)}}function Hx(t,e){if(1&t&&(_c(0,"span"),_c(1,"a",36),Wc(2),wc(),wc()),2&t){const t=e.$implicit;rs(1),nc("href","/search/"+t.name,co),rs(1),Gc(" ",t.name," ")}}function Wx(t,e){if(1&t&&(_c(0,"span"),_c(1,"a",36),Wc(2),wc(),wc()),2&t){const t=e.$implicit;rs(1),nc("href","/search/"+t,co),rs(1),Gc(" ",t," ")}}function zx(t,e){if(1&t){const t=xc();_c(0,"div",13),_c(1,"div",14),_c(2,"div",4),_c(3,"div",15),_c(4,"h4"),Wc(5,"What you get:"),wc(),_c(6,"ul",16),_c(7,"li"),Wc(8,"Domain name: "),_c(9,"b"),Wc(10),wc(),wc(),_c(11,"li"),Wc(12,"Logo design"),wc(),wc(),_c(13,"div",17),_c(14,"div",18),_c(15,"h4"),Wc(16),wc(),_c(17,"div",19),_c(18,"div",20),_c(19,"span",21),Wc(20),hl(21,"currency"),wc(),_c(22,"span",22),Wc(23),hl(24,"currency"),wc(),wc(),wc(),wc(),_c(25,"div",23),_c(26,"div",24),_c(27,"div",4),_c(28,"div",25),_c(29,"button",26),Dc("click",(function(e){vn(t);const n=Lc();return n.openPaymentPage(n.domain.id)})),Cc(30,"fa-icon",27),_c(31,"span",28),Wc(32,"Buy now"),wc(),wc(),wc(),_c(33,"div",25),_c(34,"button",26),Dc("click",(function(e){vn(t);const n=Lc();return n.addFavourite(n.domain)})),Cc(35,"fa-icon",27),_c(36,"span",28),Wc(37,"Shortlist"),wc(),wc(),wc(),wc(),_c(38,"div",29),_c(39,"div",25),_c(40,"a",30),Wc(41,"Make a Offer"),wc(),wc(),wc(),wc(),wc(),wc(),_c(42,"p"),Wc(43),wc(),wc(),_c(44,"div",31),_c(45,"div",32),_c(46,"div",7),_c(47,"div",8),_c(48,"div",9),Wc(49),wc(),wc(),wc(),wc(),_c(50,"div",33),_c(51,"h3"),Wc(52,"Categories"),wc(),ic(53,Hx,3,2,"span",34),wc(),_c(54,"div",35),_c(55,"h3"),Wc(56,"Keywords"),wc(),ic(57,Wx,3,2,"span",34),wc(),wc(),wc(),wc(),wc()}if(2&t){const t=Lc();rs(10),zc(t.domain.name),rs(6),Gc("Buy ",t.domain.name,""),rs(4),Gc(" ",dl(21,12,t.domain.price,"USD")," "),rs(3),Gc(" ",dl(24,15,t.domain.salePrice,"USD")," "),rs(7),Bc("icon",t.faCheck),rs(5),Bc("icon",t.faStar),rs(8),Gc(" ",t.domain.description," "),rs(4),cc("background-color",t.randomColorGenerator()),rs(1),cc("font-family",t.randomFontGenerator()),rs(1),Gc(" ",t.domain.name.toLowerCase(),""),rs(4),Bc("ngForOf",t.domain.category),rs(4),Bc("ngForOf",t.domain.keyWords)}}let Gx=(()=>{class t{constructor(t,e,n,r,i,o,s,a){this.domainService=t,this.accountService=e,this.router=n,this.route=r,this.loginService=i,this.favouriteService=o,this.snackBar=s,this.headerService=a,this.faCheck=Zw,this.faHeart=tC,this.faStar=nC,this.randomColor="#fff"}ngOnInit(){this.route.paramMap.subscribe(t=>{this.domainId=t.get("id"),this.domainId&&this.fetchDomainById(this.domainId)}),this.headerService.changeMessage(!0)}fetchDomainById(t){this.domainService.getDomainById(t).subscribe(t=>{this.domain=t,console.log("fetchDomainById->",this.domain)})}openPaymentPage(t){this.loginService.ifUserLoggedIn().then(e=>{e?(this.router.navigateByUrl("/payment/"+t),console.log("openPaymentPage->",t)):this.loginService.domainLogin()})}addFavourite(t){this.favouriteService.setLocalFavourite(t),this.snackBar.open("Added to Favourites","",{duration:2500})}}return t.\u0275fac=function(e){return new(e||t)(oc(o_),oc(iC),oc(vy),oc(ug),oc(ux),oc(lx),oc(Bx),oc(s_))},t.\u0275cmp=ye({type:t,selectors:[["app-domain-detail"]],decls:4,vars:2,consts:[[1,"wrapper"],["class","container single-word",4,"ngIf"],["class","grey-panel",4,"ngIf"],[1,"container","single-word"],[1,"row"],[1,"col-md-12"],[1,"visible-xs-block"],[1,"domain-logo"],[1,"img-container"],[1,"img-text"],[1,"word-breakable"],[1,"lead"],[1,"small"],[1,"grey-panel"],[1,"container","single-main"],[1,"col-md-6","col-xs-12"],[1,"get-list"],[1,"price-box"],[1,"price-box-desc"],[1,"price-box-value"],["id","regular-price"],[1,"domain-price","text-strike"],[1,"domain-price"],[1,"price-box-actions"],[1,"price-box-buttons"],[1,"col-xs-6"],["id","buy-button",1,"btn","btn-lg","btn-buy",3,"click"],["size","1x",3,"icon"],["id","buy-now-text"],[1,"row","offer"],["href",""],[1,"col-md-5","col-xs-12","col-md-offset-1","thumb-container"],[1,"hidden-xs"],[1,"category"],[4,"ngFor","ngForOf"],[1,"keyword"],[1,"btn","btn-default","btn-tag"]],template:function(t,e){1&t&&(_c(0,"div",0),ic(1,qx,15,5,"div",1),ic(2,zx,58,18,"div",2),Cc(3,"app-footer"),wc()),2&t&&(rs(1),Bc("ngIf",e.domain),rs(1),Bc("ngIf",e.domain))},directives:[lf,zw,Hw,cf],pipes:[mf],styles:['.wrapper[_ngcontent-%COMP%]{background:#fff;height:100%}.search-control[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #bcbcbc;border-radius:2px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.container[_ngcontent-%COMP%]{padding-right:15px;display:block;padding-left:15px;margin-right:auto;margin-left:auto}.text-center[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:2px}.text-strike[_ngcontent-%COMP%]{text-decoration:line-through}.form-inline[_ngcontent-%COMP%]{display:inline-block;width:auto;vertical-align:middle}.strike-text[_ngcontent-%COMP%]{text-decoration:line-through}@media(min-width:1440px){.container[_ngcontent-%COMP%]{width:1440px}}@media(min-width:1200px){.container[_ngcontent-%COMP%]{width:1170px}}.single-word[_ngcontent-%COMP%]{padding:30px;color:#888;font-size:18px;margin-top:16vh;text-align:center}.single-word[_ngcontent-%COMP%]   .lead[_ngcontent-%COMP%]{display:block;margin:0;font-size:21px;font-weight:300;line-height:1.4}.single-word[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#494949;text-decoration:none}.word-breakable[_ngcontent-%COMP%]{word-break:break-all}.grey-panel[_ngcontent-%COMP%]{background:#f6f6f6;border-top:1px solid #eee;border-bottom:1px solid #eee;padding-bottom:140px}.get-list[_ngcontent-%COMP%]{padding:0;font-size:18px;list-style:none}.get-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{background-image:url(tick.44c646a414f2aa1b9d38.png);background-size:14px 10px;display:inline-block;width:14px;height:10px;content:"";margin-right:12px}.single-main[_ngcontent-%COMP%]{line-height:1.9em}.domain-price[_ngcontent-%COMP%]{margin-right:8px}.domain-logo[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px;box-shadow:0 0 60px rgba(0,0,0,.15);width:100%;height:200px;position:relative;background-blend-mode:screen}.domain-logo[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{height:100%;text-align:center;background-color:#eee;vertical-align:middle;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.domain-logo[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img-text[_ngcontent-%COMP%]{font-family:BioRhyme,serif;font-size:1.6em;font-weight:700;color:#fff;letter-spacing:2px}.img-responsive[_ngcontent-%COMP%]{display:block;width:100%;height:auto}a.btn-tag[_ngcontent-%COMP%]{background:#e0e8ff;color:#336;border:0;border-radius:8px;text-decoration:none;margin-bottom:4px;margin-right:4px;-webkit-transition:.3s;transition:all .3s}.price-box[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #aaa;border-radius:5px;margin:30px 0;overflow:hidden}.price-box[_ngcontent-%COMP%]   .price-box-desc[_ngcontent-%COMP%]{padding:20px 20px 0}.price-box[_ngcontent-%COMP%]   .price-box-value[_ngcontent-%COMP%]{font-size:30px}.price-box[_ngcontent-%COMP%]   .price-box-actions[_ngcontent-%COMP%]{padding:16px}.price-box[_ngcontent-%COMP%]   .price-box-buttons[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;margin-top:10px}.price-box[_ngcontent-%COMP%]   .price-box-buttons[_ngcontent-%COMP%]   #buy-now-text[_ngcontent-%COMP%]{margin-left:8px}.price-box[_ngcontent-%COMP%]   .price-box-buttons[_ngcontent-%COMP%]   .offer[_ngcontent-%COMP%]{margin-top:16px;font-size:.9em}.price-box[_ngcontent-%COMP%]   .btn-buy[_ngcontent-%COMP%]{width:100%;font-weight:400;font-size:1.1em;background:#29b6f6;color:#fff;border:0;padding:6px 14px;line-height:30px;box-shadow:none;text-shadow:none}@media(min-width:992px){.thumb-container[_ngcontent-%COMP%]{margin-top:32px}.col-md-offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.col-md-5[_ngcontent-%COMP%]{width:41.66666667%}}.visible-xs-block[_ngcontent-%COMP%]{display:none!important}@media(max-width:767px){.hidden-xs[_ngcontent-%COMP%]{display:none!important}.visible-xs-block[_ngcontent-%COMP%]{display:block!important}}.style-text[_ngcontent-%COMP%]{font-family:Calistoga,cursive;color:#fff;font-size:2em;letter-spacing:4px}']}),t})(),Kx=(()=>{class t{constructor(t){this.afs=t,this.categoryCollection=this.afs.collection("categories")}getCategories(){var t=this.afs.collection("categories",t=>t.orderBy("creationDate","desc"));return this.categories=t.snapshotChanges().pipe(U(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}getCategoryById(t){return console.log("getCategoryById",t),this.categoryDocument=this.afs.doc(`categories/${t}`),this.categoryDocument.valueChanges()}setCategory(t){const e=this.afs.createId();return t.id=e,t.creationDate=new Date,t.modificationDate=new Date,this.categoryCollection.doc(e).set(t)}deleteCategory(t){return this.categoryDocument=this.afs.doc(`categories/${t.id}`),this.categoryDocument.delete()}updateCategory(t){return t.modificationDate=new Date,this.categoryDocument=this.afs.doc(`categories/${t.id}`),this.categoryDocument.update(t)}}return t.\u0275fac=function(e){return new(e||t)(te(i_))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Qx=IC({passive:!0});let $x=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return dp;const e=uC(t),n=this._monitoredElements.get(e);if(n)return n.subject.asObservable();const r=new k,i="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,Qx),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",o,Qx)}}),r.asObservable()}stopMonitoring(t){const e=uC(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(te(CC),te(eh))},t.\u0275prov=ft({factory:function(){return new t(te(CC),te(eh))},token:t,providedIn:"root"}),t})(),Yx=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[SC]]}),t})(),Xx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Se({type:t}),t})(),Zx=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[gf,RS]]}),t})();const Jx=[1,"mat-input-element","mat-form-field-autofill-control"],tA=new Vt("MAT_INPUT_VALUE_ACCESSOR"),eA=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let nA=0;class rA{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const iA=aI(rA);let oA=(()=>{class t extends iA{constructor(t,e,n,r,i,o,s,a,c){super(o,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._uid=`mat-input-${nA++}`,this._isServer=!1,this._isNativeSelect=!1,this.focused=!1,this.stateChanges=new k,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>TC().has(t));const u=this._elementRef.nativeElement;this._inputValueAccessor=s||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===u.nodeName.toLowerCase(),this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=oC(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=oC(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea()&&TC().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=oC(t)}ngOnInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){if(eA.indexOf(this._type)>-1)throw Error(`Input type "${this._type}" isn't supported by matInput.`)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}_isTextarea(){return"textarea"===this._elementRef.nativeElement.nodeName.toLowerCase()}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(oc(_u),oc(CC),oc(tv,10),oc(rb,8),oc(mb,8),oc(wI),oc(tA,10),oc($x),oc(eh))},t.\u0275dir=Se({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostBindings:function(t,e,n){1&t&&(Ka(9),Dc("blur",(function(t){return e._focusChanged(!1)}))("focus",(function(t){return e._focusChanged(!0)}))("input",(function(t){return e._onInput()})),Sc(Jx)),2&t&&(Qc("disabled",e.disabled)("required",e.required),nc("id",e.id)("placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-describedby",e._ariaDescribedby||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),uc("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher"},exportAs:["matInput"],features:[pu([{provide:Xx,useExisting:t}]),Xc,ru()]}),t})(),sA=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[wI],imports:[[gf,Yx,Zx],Yx,Zx]}),t})();const aA=["sliderWrapper"],cA=["role","slider",1,"mat-slider"],uA=IC({passive:!1}),lA=30,hA=7,dA=7,fA=10,pA={provide:Wy,useExisting:Tt(()=>vA),multi:!0};class mA{}class gA{constructor(t){this._elementRef=t}}const yA=sI(iI(rI(gA),"accent"));let vA=(()=>{class t extends yA{constructor(t,e,n,r,i,o,s){super(t),this._focusMonitor=e,this._changeDetectorRef=n,this._dir=r,this._animationMode=o,this._ngZone=s,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new fl,this.input=new fl,this.valueChange=new fl,this.onTouched=()=>{},this._percent=0,this._isSliding=!1,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=d.EMPTY,this._pointerDown=t=>{this.disabled||this._isSliding||!bA(t)&&0!==t.button||this._runInsideZone(()=>{const e=this.value,n=_A(t);this._isSliding=!0,this._lastPointerEvent=t,t.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(t),this._focusHostElement(),this._updateValueFromPosition(n),this._valueOnSlideStart=this.value,this._pointerPositionOnStart=n,e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent())})},this._pointerMove=t=>{if(this._isSliding){t.preventDefault();const e=this.value;this._lastPointerEvent=t,this._updateValueFromPosition(_A(t)),e!=this.value&&this._emitInputEvent()}},this._pointerUp=t=>{if(this._isSliding){const e=this._pointerPositionOnStart,n=_A(t);t.preventDefault(),this._removeGlobalEvents(),this._valueOnSlideStart=this._pointerPositionOnStart=this._lastPointerEvent=null,this._isSliding=!1,this._valueOnSlideStart==this.value||this.disabled||!e||e.x===n.x&&e.y===n.y||this._emitChangeEvent()}},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this.tabIndex=parseInt(i)||0,this._runOutsizeZone(()=>{const e=t.nativeElement;e.addEventListener("mousedown",this._pointerDown,uA),e.addEventListener("touchstart",this._pointerDown,uA)})}get invert(){return this._invert}set invert(t){this._invert=oC(t)}get max(){return this._max}set max(t){this._max=sC(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=sC(t,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=sC(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=oC(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?sC(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let e=sC(t);this._roundToDecimal&&(e=parseFloat(e.toFixed(this._roundToDecimal))),this._value=e,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=oC(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}get _invertAxis(){return this.vertical?!this.invert:this.invert}get _isMinValue(){return 0===this.percent}get _thumbGap(){return this.disabled?hA:this._isMinValue&&!this.thumbLabel?this._isActive?fA:dA:0}get _trackBackgroundStyles(){const t=this.vertical?`1, ${1-this.percent}, 1`:`${1-this.percent}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._thumbGap}px) scale3d(${t})`}}get _trackFillStyles(){const t=this.percent,e=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._thumbGap}px) scale3d(${e})`,display:0===t?"none":""}}get _ticksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}get _ticksStyles(){let t=100*this._tickIntervalPercent,e={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};return this._isMinValue&&this._thumbGap&&(e[`padding${this.vertical?this._invertAxis?"Bottom":"Top":this._invertAxis?"Right":"Left"}`]=`${this._thumbGap}px`),e}get _thumbContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){return"rtl"!=this._getDirection()||this.vertical?this._invertAxis:!this._invertAxis}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngOnInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,uA),t.removeEventListener("touchstart",this._pointerDown,uA),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||nS(t))return;const e=this.value;switch(t.keyCode){case QC:this._increment(10);break;case $C:this._increment(-10);break;case YC:this.value=this.max;break;case XC:this.value=this.min;break;case ZC:this._increment("rtl"==this._getDirection()?1:-1);break;case JC:this._increment(1);break;case tS:this._increment("rtl"==this._getDirection()?-1:1);break;case eS:this._increment(-1);break;default:return}e!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,t.preventDefault()}_onKeyup(){this._isSliding=!1}_bindGlobalEvents(t){if("undefined"!=typeof document&&document){const e=document.body,n=bA(t),r=n?"touchend":"mouseup";e.addEventListener(n?"touchmove":"mousemove",this._pointerMove,uA),e.addEventListener(r,this._pointerUp,uA),n&&e.addEventListener("touchcancel",this._pointerUp,uA)}"undefined"!=typeof window&&window&&window.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){if("undefined"!=typeof document&&document){const t=document.body;t.removeEventListener("mousemove",this._pointerMove,uA),t.removeEventListener("mouseup",this._pointerUp,uA),t.removeEventListener("touchmove",this._pointerMove,uA),t.removeEventListener("touchend",this._pointerUp,uA),t.removeEventListener("touchcancel",this._pointerUp,uA)}"undefined"!=typeof window&&window&&window.removeEventListener("blur",this._windowBlur)}_increment(t){this.value=this._clamp((this.value||0)+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let e=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(e=1-e),0===e)this.value=this.min;else if(1===e)this.value=this.max;else{const t=this._calculateValue(e),n=Math.round((t-this.min)/this.step)*this.step+this.min;this.value=this._clamp(n,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){let t=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,e=Math.ceil(lA/(t*this.step/(this.max-this.min)));this._tickIntervalPercent=e*this.step/t}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}_createChangeEvent(t=this.value){let e=new mA;return e.source=this,e.value=t,e}_calculatePercentage(t){return((t||0)-this.min)/(this.max-this.min)}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,e=0,n=1){return Math.max(e,Math.min(t,n))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}_runInsideZone(t){this._ngZone?this._ngZone.run(t):t()}_runOutsizeZone(t){this._ngZone?this._ngZone.runOutsideAngular(t):t()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return t.\u0275fac=function(e){return new(e||t)(oc(_u),oc(zS),oc(ka),oc(AC,8),sc("tabindex"),oc(Yk,8),oc(eh))},t.\u0275cmp=ye({type:t,selectors:[["mat-slider"]],viewQuery:function(t,e){var n;1&t&&kl(aA,!0),2&t&&El(n=Al())&&(e._sliderWrapper=n.first)},hostBindings:function(t,e,n){1&t&&(Ka(17),Dc("focus",(function(t){return e._onFocus()}))("blur",(function(t){return e._onBlur()}))("keydown",(function(t){return e._onKeydown(t)}))("keyup",(function(t){return e._onKeyup()}))("mouseenter",(function(t){return e._onMouseenter()}))("selectstart",(function(t){return t.preventDefault()})),Sc(cA)),2&t&&(Qc("tabIndex",e.tabIndex),nc("aria-disabled",e.disabled)("aria-valuemax",e.max)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-orientation",e.vertical?"vertical":"horizontal"),uc("mat-slider-disabled",e.disabled)("mat-slider-has-ticks",e.tickInterval)("mat-slider-horizontal",!e.vertical)("mat-slider-axis-inverted",e._invertAxis)("mat-slider-invert-mouse-coords",e._shouldInvertMouseCoords())("mat-slider-sliding",e._isSliding)("mat-slider-thumb-label-showing",e.thumbLabel)("mat-slider-vertical",e.vertical)("mat-slider-min-value",e._isMinValue)("mat-slider-hide-last-tick",e.disabled||e._isMinValue&&e._thumbGap&&e._invertAxis)("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[pu([pA]),Xc],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,e){1&t&&(_c(0,"div",0,1),_c(2,"div",2),Cc(3,"div",3),Cc(4,"div",4),wc(),_c(5,"div",5),Cc(6,"div",6),wc(),_c(7,"div",7),Cc(8,"div",8),Cc(9,"div",9),_c(10,"div",10),_c(11,"span",11),Wc(12),wc(),wc(),wc(),wc()),2&t&&(rs(3),Bc("ngStyle",e._trackBackgroundStyles),rs(1),Bc("ngStyle",e._trackFillStyles),rs(1),Bc("ngStyle",e._ticksContainerStyles),rs(1),Bc("ngStyle",e._ticksStyles),rs(1),Bc("ngStyle",e._thumbContainerStyles),rs(5),zc(e.displayValue))},directives:[Kh],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),t})();function bA(t){return"t"===t.type[0]}function _A(t){const e=bA(t)?t.touches[0]||t.changedTouches[0]:t;return{x:e.clientX,y:e.clientY}}let wA=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[gf,nI],nI]}),t})();function CA(t,e){if(1&t&&(_c(0,"option",30),Wc(1),wc()),2&t){const t=e.$implicit;Bc("value",t.type),rs(1),Gc(" ",t.label," ")}}function SA(t,e){if(1&t){const t=xc();_c(0,"label",21),_c(1,"input",31),Dc("click",(function(n){vn(t);const r=e.$implicit;return Lc().getCatDomainDetails(r.name)})),wc(),_c(2,"span"),Wc(3),wc(),wc()}if(2&t){const t=e.$implicit,n=Lc();rs(1),qc("value",t.name),Bc("checked",n.isRestCategory),rs(2),zc(t.name)}}function EA(t,e){if(1&t&&(_c(0,"div",32),Cc(1,"app-domain-card",33),wc()),2&t){const t=e.$implicit;rs(1),Bc("domain",t)}}let TA=(()=>{class t{constructor(t,e,n,r,i,o){this.domainService=t,this.categoryService=e,this.router=n,this.route=r,this.headerService=i,this.searchWordService=o,this.domains=[],this.categories=[],this.allDomains=[],this.isAllCategory=!0,this.maxLength=0,this.minLength=0,this.lengthFilterValue=0,this.maxAmount=0,this.minAmount=0,this.amountFilterValue=0,this.filters=[{label:"Relevant",type:"r"},{label:"Lowest Price",type:"lp"},{label:"Highest Price",type:"hp"}]}ngOnInit(){this.getDomainDetails(),this.getCategoryDetails(),this.route.paramMap.subscribe(t=>{this.searchTerm=t.get("term"),this.searchTerm&&this.getSearchDomainDetails(this.searchTerm)}),this.headerService.changeMessage(!0)}getDomainDetails(){this.domainService.getDomains().subscribe(t=>{this.domains=t,this.allDomains=t,this.maxLength=this.allDomains.reduce((t,e)=>t.name.length>e.name.length?t:e).name.length,this.minLength=this.allDomains.reduce((t,e)=>t.name.length<e.name.length?t:e).name.length,this.lengthFilterValue=this.maxLength,this.maxAmount=+this.allDomains.reduce((t,e)=>t.salePrice>e.salePrice?t:e).salePrice,this.minAmount=+this.allDomains.reduce((t,e)=>t.salePrice<e.salePrice?t:e).salePrice,this.amountFilterValue=this.maxAmount})}getSearchDomainDetails(t){this.domainService.getDomains().subscribe(e=>{this.domains=e,this.domains=this.domains.filter(e=>{let n=e.keyWords.map(t=>t.toLowerCase()),r=e.category.map(t=>t.name.toLowerCase());if(e.name.toLowerCase().includes(t.toLowerCase())||n.includes(t.toLowerCase())||r.includes(t.toLowerCase()))return!0})})}filterDomainsOnLength(t){let e=t.value;this.domains=this.allDomains.filter(t=>t.name.length<=e)}filterDomainsOnPrice(t){let e=t.value;this.domains=this.allDomains.filter(t=>t.salePrice<=e)}getCatDomainDetails(t){this.isAllCategory=!1,this.domains=this.allDomains.filter(e=>e.category.some(e=>e.name.toLowerCase()==t.toLowerCase()))}getCategoryDetails(){this.categoryService.getCategories().subscribe(t=>{this.categories=t,this.categories=this.categories.map(t=>{let e=t,n=t.name;return e.name=n[0].toUpperCase()+n.slice(1),e})})}searchDomains(t){this.getSearchDomainDetails(t)}addFilters(t){switch(t.target.value){case"lp":this.domains=this.domains.sort((t,e)=>t.price>e.price?1:t.price<e.price?-1:void 0);break;case"hp":this.domains=this.domains.sort((t,e)=>t.price>e.price?-1:t.price<e.price?1:void 0);break;case"ln":this.domains=this.domains.sort((t,e)=>t.name.length>e.name.length?-1:t.name.length<e.name.length?1:void 0);break;case"sn":this.domains=this.domains.sort((t,e)=>t.name.length>e.name.length?1:t.name.length<e.name.length?-1:void 0);break;case"r":this.domains=this.domains.sort((t,e)=>t.creationDate>e.creationDate?-1:t.creationDate<e.creationDate?1:void 0)}}randomColorGenerator(){return["#ef5350","#ec407a","#ab47bc","#7e57c2","#5c6bc0","#2196f3","#039be5","#0097a7","#26a69a","#43a047","#689f38","#ef6c00","#ff5722"][Math.floor(13*Math.random())]}randomFontGenerator(){return["BioRhyme","Roboto","Calistoga","Lato","Playfair Display"][Math.floor(5*Math.random())]}openDomainDetail(t){this.router.navigateByUrl("/domain/"+t)}}return t.\u0275fac=function(e){return new(e||t)(oc(o_),oc(Kx),oc(vy),oc(ug),oc(s_),oc(u_))},t.\u0275cmp=ye({type:t,selectors:[["app-search-page"]],decls:50,vars:22,consts:[[1,"wrapper"],[1,"container","domain-result"],[1,"row"],[1,"col-md-12"],[1,"domains-container"],[1,"row","search-page-header"],[1,"col-md-3"],[1,"col-md-5","col-xs-12"],[1,"header"],[1,"col-md-4"],[1,"sort"],[1,"form-inline","pure-form"],["for","filter"],["id","filter","matNativeControl","","required","",1,"form-control",3,"click"],[3,"value",4,"ngFor","ngForOf"],[1,"filter-summary"],[1,"sidebar"],[1,"accordion","expanded","industry"],[1,"toggle"],[1,"body","expanded"],[1,"pure-form"],["for","cat-option",1,"pure-radio"],["id","cat-option","type","radio","value","all","name","optionCat",3,"checked","click"],["for","cat-option","class","pure-radio",4,"ngFor","ngForOf"],[1,"slider-filter"],[3,"max","min","thumbLabel","ngModel","ngModelChange","change"],[1,"col-md-9","col-xs-12"],[1,"content"],[1,"results"],["class","col-md-3 col-xs-12",4,"ngFor","ngForOf"],[3,"value"],["id","cat-option","type","radio","name","optionCat",3,"value","checked","click"],[1,"col-md-3","col-xs-12"],[3,"domain"]],template:function(t,e){1&t&&(_c(0,"div",0),_c(1,"div",1),_c(2,"div",2),_c(3,"div",3),_c(4,"div",4),_c(5,"div",5),Cc(6,"div",6),_c(7,"div",7),_c(8,"div",8),_c(9,"h1"),Wc(10,"Domain names for sale"),wc(),wc(),wc(),_c(11,"div",9),_c(12,"div",10),_c(13,"div",11),_c(14,"label",12),Wc(15,"Sort by:"),wc(),_c(16,"select",13),Dc("click",(function(t){return e.addFilters(t)})),ic(17,CA,2,2,"option",14),wc(),wc(),wc(),wc(),Cc(18,"div",15),wc(),_c(19,"div",2),_c(20,"div",6),_c(21,"div",16),_c(22,"div"),_c(23,"div",17),_c(24,"div",18),_c(25,"h3"),Wc(26,"Categories"),wc(),wc(),_c(27,"div",19),_c(28,"div"),_c(29,"div",20),_c(30,"label",21),_c(31,"input",22),Dc("click",(function(t){return e.getDomainDetails()})),wc(),_c(32,"span"),Wc(33,"All Category"),wc(),wc(),ic(34,SA,4,3,"label",23),wc(),_c(35,"div",24),_c(36,"h4"),Wc(37),wc(),_c(38,"mat-slider",25),Dc("ngModelChange",(function(t){return e.lengthFilterValue=t}))("change",(function(t){return e.filterDomainsOnLength(t)})),wc(),_c(39,"h4"),Wc(40),hl(41,"currency"),hl(42,"currency"),wc(),_c(43,"mat-slider",25),Dc("ngModelChange",(function(t){return e.amountFilterValue=t}))("change",(function(t){return e.filterDomainsOnPrice(t)})),wc(),wc(),wc(),wc(),wc(),wc(),wc(),wc(),_c(44,"div",26),_c(45,"div",27),_c(46,"div",28),_c(47,"div",2),ic(48,EA,2,1,"div",29),wc(),wc(),wc(),wc(),wc(),wc(),wc(),wc(),wc(),Cc(49,"app-footer"),wc()),2&t&&(rs(17),Bc("ngForOf",e.filters),rs(14),Bc("checked",!0),rs(3),Bc("ngForOf",e.categories),rs(3),Kc("Select Max Length ( ",e.minLength," - ",e.maxLength," )"),rs(1),Bc("max",e.maxLength)("min",e.minLength)("thumbLabel",!0)("ngModel",e.lengthFilterValue),rs(2),Kc("Select Max Amt ( ",dl(41,16,e.minAmount,"USD")," - ",dl(42,19,e.maxAmount,"USD")," )"),rs(3),Bc("max",e.maxAmount)("min",e.minAmount)("thumbLabel",!0)("ngModel",e.amountFilterValue),rs(5),Bc("ngForOf",e.domains))},directives:[oA,cf,vA,nv,hb,zw,kv,Ov,Gw],pipes:[mf],styles:[".wrapper[_ngcontent-%COMP%]{background:#fff;height:100%}.search-control[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #bcbcbc;border-radius:2px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.container[_ngcontent-%COMP%]{padding-right:15px;display:block;padding-left:15px;margin-right:auto;margin-left:auto}.text-center[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:2px}.text-strike[_ngcontent-%COMP%]{text-decoration:line-through}.form-inline[_ngcontent-%COMP%]{display:inline-block;width:auto;vertical-align:middle}.strike-text[_ngcontent-%COMP%]{text-decoration:line-through}@media(min-width:1200px){.container[_ngcontent-%COMP%]{width:1170px}}.wrapper[_ngcontent-%COMP%]{width:100%}.domain-result[_ngcontent-%COMP%]{margin-top:16vh;line-height:1.9em;color:#333}.search-page-header[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:14px 1em;height:64px}.search-page-header[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]{border-right:1px solid #eee}.search-page-header[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]{text-align:right;display:inline;float:right;font-weight:600}.search-page-header[_ngcontent-%COMP%]   .sort[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:8px}.search-page-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{float:left;margin-right:20px}.search-page-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:5px 0 0;font-size:22px;display:inline-block;white-space:nowrap;text-align:start}.sidebar[_ngcontent-%COMP%]{border-top:1px solid #eee;font-weight:600}.sidebar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:8px}.sidebar[_ngcontent-%COMP%]   .slider-filter[_ngcontent-%COMP%]{margin-top:32px;border-top:1px solid #eee}.sidebar[_ngcontent-%COMP%]   .slider-filter[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:4px}.sidebar[_ngcontent-%COMP%]   .slider-filter[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:nth-of-type(1){margin-top:32px}.content[_ngcontent-%COMP%]{height:100%;width:100%;border-left:1px solid #eee;min-height:400px}.results[_ngcontent-%COMP%]{margin-top:.5vh;padding:.5em .5em 3em;text-align:center}mat-slider[_ngcontent-%COMP%]{width:280px;color:#29b6f6}@media(min-width:1440px){.container[_ngcontent-%COMP%]{width:1440px}}@media(max-width:767px){.domains-container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{max-height:0;background:#fff;width:100%;overflow:hidden;-webkit-transition:max-height .3s ease-out;transition:max-height .3s ease-out}.sort[_ngcontent-%COMP%]{display:none!important}.content[_ngcontent-%COMP%], .search-page-header[_ngcontent-%COMP%]{width:100%}}@media(min-width:992px){.domains-container[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{min-height:64px;max-height:64px;border-bottom:1px solid #eee}}.details-card[_ngcontent-%COMP%]{margin:0 auto 30px}"]}),t})();var kA=n("mrSG");let IA=(()=>{class t{constructor(t){this.afs=t,this.orderCollection=this.afs.collection("orders")}getOrders(){var t=this.afs.collection("orders",t=>t.orderBy("creationDate","desc"));return this.orders=t.snapshotChanges().pipe(U(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}getOrderById(t){return console.log("getOrderById",t),this.orderDocument=this.afs.doc(`orders/${t}`),this.orderDocument.valueChanges()}getOrderByUid(t){var e=this.afs.collection("orders",e=>e.where("account.uid","==",t).orderBy("creationDate","desc"));return this.orders=e.snapshotChanges().pipe(U(t=>t.map(t=>{const e=t.payload.doc.data();return e.id=t.payload.doc.id,e})))}setOrder(t){const e=this.afs.createId();return t.id||(t.id=e),t.creationDate=new Date,t.modificationDate=new Date,this.orderCollection.doc(t.id).set(t,{merge:!0})}deleteOrder(t){return this.orderDocument=this.afs.doc(`orders/${t.id}`),this.orderDocument.delete()}updateOrder(t){return t.modificationDate=new Date,this.orderDocument=this.afs.doc(`orders/${t.id}`),this.orderDocument.update(t)}}return t.\u0275fac=function(e){return new(e||t)(te(i_))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xA=["paypal"];function AA(t,e){if(1&t&&(_c(0,"div",9),_c(1,"div",10),_c(2,"div",11),_c(3,"div",12),_c(4,"div",13),Wc(5),wc(),wc(),wc(),wc(),_c(6,"table",14),_c(7,"tbody"),_c(8,"tr"),_c(9,"td"),Wc(10),_c(11,"div",15),Wc(12,"Includes domain name and logo."),wc(),wc(),_c(13,"td",16),Wc(14),hl(15,"currency"),wc(),wc(),_c(16,"tr"),_c(17,"th",17),Wc(18,"Total payable"),wc(),_c(19,"th",17),Wc(20),hl(21,"currency"),wc(),wc(),wc(),wc(),wc()),2&t){const t=Lc();rs(5),Gc(" ",t.domain.name.toLowerCase(),""),rs(5),zc(t.domain.name),rs(4),zc(dl(15,4,t.domain.salePrice,"USD")),rs(6),zc(dl(21,7,t.domain.salePrice,"USD"))}}function OA(t,e){1&t&&(_c(0,"div",18),_c(1,"div",19),_c(2,"label"),Cc(3,"input",20),Wc(4," I agree to Domain's "),_c(5,"a",21),Wc(6,"Terms and Conditions for Buyers"),wc(),wc(),wc(),wc())}function DA(t,e){if(1&t&&(_c(0,"div",22),_c(1,"div",23),_c(2,"div",11),_c(3,"div",12),_c(4,"div",13),Wc(5),wc(),wc(),wc(),wc(),wc()),2&t){const t=Lc();rs(5),Gc(" ",t.domain.name.toLowerCase(),"")}}let PA=(()=>{class t{constructor(t,e,n,r,i,o){this.domainService=t,this.router=e,this.route=n,this.orderService=r,this.accountService=i,this.headerService=o,this.isPaidFor=!1}ngOnInit(){this.fetchAccountByUid(),this.headerService.changeMessage(!1),this.route.paramMap.subscribe(t=>{this.domainId=t.get("domain"),this.domainId&&this.fetchDomainById(this.domainId)})}fetchAccountByUid(){let t=c_.auth().currentUser;this.accountService.getAccountByUid(t.uid).subscribe(t=>{this.account=t[0]})}fetchDomainById(t){this.domainService.getDomainById(t).subscribe(t=>{this.domain=t,this.domain&&this.renderPaypalButton()})}renderPaypalButton(){paypal.Buttons({OnInit:(t,e)=>{e.disable()},createOrder:(t,e)=>e.order.create({purchase_units:[{description:this.domain.name,amount:{currency_code:"USD",value:this.domain.salePrice}}]}),onApprove:(t,e)=>Object(kA.__awaiter)(this,void 0,void 0,(function*(){const t=yield e.order.capture();this.isPaidFor=!0,console.log(t),this.order={paymentId:t.id,payer_id:t.payer.payer_id,payer_email:t.payer.email_address,payer_address:t.payer.address.country_code,status:t.status,amount:t.purchase_units[0].amount.value,currency:t.purchase_units[0].amount.currency_code,description:t.purchase_units[0].description,account:this.account},this.orderService.setOrder(this.order).then(()=>{console.log("Order Added"),this.domain.status="completed",this.domainService.updateDomain(this.domain).then(()=>{console.log("Domain Updated as Sold"),this.router.navigateByUrl("payment/confirm/"+this.order.paymentId)})})})),onError:t=>{console.log(t)}}).render(this.paypalElement.nativeElement)}randomColorGenerator(){return["#ef5350","#ec407a","#ab47bc","#7e57c2","#5c6bc0","#2196f3","#039be5","#0097a7","#26a69a","#43a047","#689f38","#ef6c00","#ff5722"][Math.floor(13*Math.random())]}randomFontGenerator(){return["BioRhyme","Roboto","Calistoga","Lato","Playfair Display"][Math.floor(5*Math.random())]}}return t.\u0275fac=function(e){return new(e||t)(oc(o_),oc(vy),oc(ug),oc(IA),oc(iC),oc(s_))},t.\u0275cmp=ye({type:t,selectors:[["app-payment-page"]],viewQuery:function(t,e){var n;1&t&&Tl(xA,!0),2&t&&El(n=Al())&&(e.paypalElement=n.first)},decls:10,vars:3,consts:[[1,"wrapper"],[1,"container"],[1,"row","payment-wrapper"],[1,"col-md-7"],["class","payment-details",4,"ngIf"],["id","payment-checkbox-confirm",4,"ngIf"],[1,"payment-buttons"],["paypal",""],["class","col-md-4 col-md-offset-1",4,"ngIf"],[1,"payment-details"],[1,"visible-xs-block"],[1,"domain-logo"],[1,"img-container"],[1,"img-text"],[1,"table"],[1,"faint"],[1,"text-right"],[1,"text-right",2,"border","0"],["id","payment-checkbox-confirm"],[1,"checkbox"],["type","checkbox","id","payment-confirm-terms"],["href","https://resources.brandpa.com/legal/terms-and-conditions-for-buyers/","target","_blank"],[1,"col-md-4","col-md-offset-1"],[1,"hidden-xs"]],template:function(t,e){1&t&&(_c(0,"div",0),_c(1,"div",1),_c(2,"div",2),_c(3,"div",3),ic(4,AA,22,10,"div",4),ic(5,OA,7,0,"div",5),Cc(6,"div",6,7),wc(),ic(8,DA,6,1,"div",8),wc(),wc(),Cc(9,"app-footer"),wc()),2&t&&(rs(4),Bc("ngIf",e.domain&&0==e.isPaidFor),rs(1),Bc("ngIf",e.domain&&0==e.isPaidFor),rs(3),Bc("ngIf",e.domain&&0==e.isPaidFor))},directives:[lf,zw],pipes:[mf],styles:[".wrapper[_ngcontent-%COMP%]{background:#fff;height:100%;min-height:100%}.search-control[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #bcbcbc;border-radius:2px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.container[_ngcontent-%COMP%]{padding-right:15px;display:block;padding-left:15px;margin-right:auto;margin-left:auto}.text-center[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:2px}.text-strike[_ngcontent-%COMP%]{text-decoration:line-through}.form-inline[_ngcontent-%COMP%]{display:inline-block;width:auto;vertical-align:middle}.strike-text[_ngcontent-%COMP%]{text-decoration:line-through}@media(min-width:1440px){.container[_ngcontent-%COMP%]{width:1440px}}@media(min-width:1200px){.container[_ngcontent-%COMP%]{width:1170px}}.payment-wrapper[_ngcontent-%COMP%]{min-height:100%;line-height:1.9;width:100%}.payment-details[_ngcontent-%COMP%]{margin:80px 0}.payment-details[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;max-width:100%;margin-bottom:20px}.payment-details[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.payment-details[_ngcontent-%COMP%]   .faint[_ngcontent-%COMP%]{opacity:.5}.payment-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{padding-right:0}.payment-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #ddd}.checkbox[_ngcontent-%COMP%]{margin-bottom:16px}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{min-height:75%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.navbar[_ngcontent-%COMP%]{width:100%;padding-top:16px;padding-bottom:16px;border:0;min-height:86px;position:fixed;right:0;left:0;top:0;z-index:1030}.navbar[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.navbar[_ngcontent-%COMP%]   .navbar-left[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 1 auto;width:100px;min-width:70px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{float:left;height:50px;padding:8px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;margin-top:8px;vertical-align:middle}.domain-logo[_ngcontent-%COMP%]{top:0;bottom:0;right:0;left:0;text-align:center;margin-bottom:40px;box-shadow:0 0 60px rgba(0,0,0,.15);width:100%;height:200px;position:relative;background-blend-mode:screen}.domain-logo[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{height:100%;text-align:center;background-color:#039be5;vertical-align:middle;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.domain-logo[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img-text[_ngcontent-%COMP%]{font-family:BioRhyme,serif;font-size:1.6em;font-weight:700;color:#fff;letter-spacing:2px}.visible-xs-block[_ngcontent-%COMP%]{display:none!important}@media(max-width:767px){.hidden-xs[_ngcontent-%COMP%]{display:none!important}.visible-xs-block[_ngcontent-%COMP%]{display:block!important}}"]}),t})(),NA=(()=>{class t{constructor(t,e,n){this.afAuth=t,this.router=e,this.loginService=n}canActivate(){return new Promise((t,e)=>{c_.auth().onAuthStateChanged((function(e){t(!!e)}))})}}return t.\u0275fac=function(e){return new(e||t)(te(JI),te(vy),te(ux))},t.\u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),RA=(()=>{class t{constructor(t,e){this.accountService=t,this.loginService=e,this.faArrowRight=Yw,this.faSignOutAlt=eC,this.faUser=rC}ngOnInit(){let t=c_.auth().currentUser;this.accountService.getAccountByUid(t.uid).subscribe(t=>{this.account=t[0]})}logout(){this.loginService.logout()}}return t.\u0275fac=function(e){return new(e||t)(oc(iC),oc(ux))},t.\u0275cmp=ye({type:t,selectors:[["app-user-account"]],decls:47,vars:7,consts:[[1,"wrapper"],[1,"container","account-detail"],[1,"search-page-header"],[1,"header"],["size","2x",3,"icon"],[1,"user-details"],[1,"row"],[1,"col-md-4","col-xs-5"],[1,"col-md-4","col-md-offset-1","col-xs-5","col-xs-offset-1"],[1,"col-md-4","col-xs-12"],["href","/order"],["size","1x",3,"icon"],["href","/search"],["href","",3,"click"]],template:function(t,e){1&t&&(_c(0,"div",0),_c(1,"div",1),_c(2,"div",2),_c(3,"div",3),Cc(4,"fa-icon",4),_c(5,"h1"),Wc(6,"Account Details"),wc(),wc(),wc(),_c(7,"div",5),_c(8,"div",6),_c(9,"div",7),_c(10,"span"),Wc(11,"Name"),wc(),wc(),_c(12,"div",8),_c(13,"span"),Wc(14),wc(),wc(),wc(),_c(15,"div",6),_c(16,"div",7),_c(17,"span"),Wc(18,"Email"),wc(),wc(),_c(19,"div",8),_c(20,"span"),Wc(21),wc(),wc(),wc(),_c(22,"div",6),_c(23,"div",7),_c(24,"span"),Wc(25,"Contact Number"),wc(),wc(),_c(26,"div",8),_c(27,"span"),Wc(28),wc(),wc(),wc(),_c(29,"div",6),_c(30,"div",9),_c(31,"a",10),_c(32,"span"),Wc(33," View All Orders"),wc(),Cc(34,"fa-icon",11),wc(),wc(),_c(35,"div",9),_c(36,"a",12),_c(37,"span"),Wc(38,"Explore Domains"),wc(),Cc(39,"fa-icon",11),wc(),wc(),wc(),_c(40,"div",6),_c(41,"div",9),_c(42,"a",13),Dc("click",(function(t){return e.logout()})),_c(43,"span"),Wc(44," Logout"),wc(),Cc(45,"fa-icon",11),wc(),wc(),wc(),wc(),wc(),Cc(46,"app-footer"),wc()),2&t&&(rs(4),Bc("icon",e.faUser),rs(10),zc(e.account.displayName),rs(7),zc(e.account.email),rs(7),zc(e.account.phoneNumber),rs(6),Bc("icon",e.faArrowRight),rs(5),Bc("icon",e.faArrowRight),rs(6),Bc("icon",e.faSignOutAlt))},directives:[Hw,zw],styles:[".wrapper[_ngcontent-%COMP%]{background:#fff;height:100%}.search-control[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #bcbcbc;border-radius:2px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.container[_ngcontent-%COMP%]{padding-right:15px;display:block;padding-left:15px;margin-right:auto;margin-left:auto}.text-center[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:2px}.text-strike[_ngcontent-%COMP%]{text-decoration:line-through}.form-inline[_ngcontent-%COMP%]{display:inline-block;width:auto;vertical-align:middle}.strike-text[_ngcontent-%COMP%]{text-decoration:line-through}@media(min-width:1440px){.container[_ngcontent-%COMP%]{width:1440px}}@media(min-width:1200px){.container[_ngcontent-%COMP%]{width:1170px}}.account-detail[_ngcontent-%COMP%]{margin-top:16vh;line-height:1.9em;color:#333}.search-page-header[_ngcontent-%COMP%]{border-bottom:1px solid #eee;width:80%;padding:14px 1em;height:64px}.search-page-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{float:left;display:block}.search-page-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-left:16px;font-size:22px;display:inline-block;white-space:nowrap;text-align:start}.user-details[_ngcontent-%COMP%]{margin-top:64px;margin-bottom:20vh}.user-details[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-top:16px;font-size:1.2em}.user-details[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:8px}.user-details[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-of-type(4){margin-top:128px}.user-details[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-of-type(5){margin-top:64px}"]}),t})();const MA=["role","columnheader",1,"cdk-header-cell"],LA=["role","gridcell",1,"cdk-cell"],FA=["role","row",1,"cdk-header-row"],UA=["role","row",1,"cdk-row"],jA=[1,"cdk-table"],VA=[[["caption"]]],BA=["caption"];function qA(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=oC(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}let HA=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(oc(Wu))},t.\u0275dir=Se({type:t,selectors:[["","cdkCellDef",""]]}),t})(),WA=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(oc(Wu))},t.\u0275dir=Se({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),zA=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(oc(Wu))},t.\u0275dir=Se({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class GA{}const KA=qA(GA);let QA=(()=>{class t extends KA{constructor(){super(...arguments),this._stickyEnd=!1}get name(){return this._name}set name(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"))}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=oC(t),this._hasStickyChanged=e!==this._stickyEnd}}return t.\u0275fac=function(e){return $A(e||t)},t.\u0275dir=Se({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){var r;1&t&&(xl(n,HA,!0),xl(n,WA,!0),xl(n,zA,!0)),2&t&&(El(r=Al())&&(e.cell=r.first),El(r=Al())&&(e.headerCell=r.first),El(r=Al())&&(e.footerCell=r.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[pu([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Xc]}),t})();const $A=Ti(QA);class YA{constructor(t,e){e.nativeElement.classList.add(`cdk-column-${t.cssClassFriendlyName}`)}}let XA=(()=>{class t extends YA{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(oc(QA),oc(_u))},t.\u0275dir=Se({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostBindings:function(t,e,n){1&t&&Sc(MA)},features:[Xc]}),t})(),ZA=(()=>{class t extends YA{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(oc(QA),oc(_u))},t.\u0275dir=Se({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostBindings:function(t,e,n){1&t&&Sc(LA)},features:[Xc]}),t})(),JA=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof nO?t.headerCell.template:this instanceof oO?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(t){ac()},t.\u0275dir=Se({type:t,features:[ru()]}),t})();class tO extends JA{}const eO=qA(tO);let nO=(()=>{class t extends eO{constructor(t,e){super(t,e)}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(oc(Wu),oc(ju))},t.\u0275dir=Se({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Xc,ru()]}),t})();class rO extends JA{}const iO=qA(rO);let oO=(()=>{class t extends iO{constructor(t,e){super(t,e)}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(oc(Wu),oc(ju))},t.\u0275dir=Se({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Xc,ru()]}),t})(),sO=(()=>{class t extends JA{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(oc(Wu),oc(ju))},t.\u0275dir=Se({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Xc]}),t})(),aO=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(oc(Gu))},t.\u0275dir=Se({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),cO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostBindings:function(t,e,n){1&t&&Sc(FA)},decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ic(0,0)},directives:[aO],encapsulation:2}),t})(),uO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostBindings:function(t,e,n){1&t&&Sc(UA)},decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ic(0,0)},directives:[aO],encapsulation:2}),t})();const lO=["top","bottom","left","right"];class hO{constructor(t,e,n,r=!0){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._isBrowser=r}clearStickyPositioning(t,e){for(const n of t)if(n.nodeType===n.ELEMENT_NODE){this._removeStickyStyle(n,e);for(let t=0;t<n.children.length;t++)this._removeStickyStyle(n.children[t],e)}}updateStickyColumns(t,e,n){const r=e.some(t=>t)||n.some(t=>t);if(!t.length||!r||!this._isBrowser)return;const i=t[0],o=i.children.length,s=this._getCellWidths(i),a=this._getStickyStartColumnPositions(s,e),c=this._getStickyEndColumnPositions(s,n),u="rtl"===this.direction;for(const l of t)for(let t=0;t<o;t++){const r=l.children[t];e[t]&&this._addStickyStyle(r,u?"right":"left",a[t]),n[t]&&this._addStickyStyle(r,u?"left":"right",c[t])}}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.reverse():t;let i=0;for(let o=0;o<r.length;o++){if(!e[o])continue;const t=r[o];if(this._isNativeHtmlTable)for(let e=0;e<t.children.length;e++)this._addStickyStyle(t.children[e],n,i);else this._addStickyStyle(t,n,i);if(o===r.length-1)return;i+=t.getBoundingClientRect().height}}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)}_removeStickyStyle(t,e){for(const n of e)t.style[n]="";t.style.zIndex=this._getCalculatedZIndex(t),lO.some(e=>!!t.style[e])||(t.style.position="",t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n){t.classList.add(this._stickCellCss),t.style[e]=`${n}px`,t.style.cssText+="position: -webkit-sticky; position: sticky; ",t.style.zIndex=this._getCalculatedZIndex(t)}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of lO)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t){const e=[],n=t.children;for(let r=0;r<n.length;r++)e.push(n[r].getBoundingClientRect().width);return e}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}}function dO(t){return Error(`Could not find column with id "${t}".`)}let fO=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(oc(Gu),oc(_u))},t.\u0275dir=Se({type:t,selectors:[["","rowOutlet",""]]}),t})(),pO=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(oc(Gu),oc(_u))},t.\u0275dir=Se({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),mO=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(oc(Gu),oc(_u))},t.\u0275dir=Se({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),gO=(()=>{class t{constructor(t,e,n,r,i,o,s){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=i,this._platform=s,this._onDestroy=new k,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this._multiTemplateDataRows=!1,this.viewChange=new sp({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){Mi()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}.`),this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=oC(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&this._forceRenderDataRows()}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e)}ngAfterContentChecked(){if(this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&!this._rowDefs.length)throw Error("Missing definitions for header, footer, and row; cannot determine which columns should be rendered.");this._renderUpdatedColumns(),this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription&&this._observeRenderChanges(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),DC(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return;const e=this._rowOutlet.viewContainer;t.forEachOperation((t,n,r)=>{if(null==t.previousIndex)this._insertRow(t.item,r);else if(null==r)e.remove(n);else{const t=e.get(n);e.move(t,r)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this.updateStickyColumnStyles()}setHeaderRowDef(t){this._customHeaderRowDefs=new Set([t]),this._headerRowDefChanged=!0}setFooterRowDef(t){this._customFooterRowDefs=new Set([t]),this._footerRowDefChanged=!0}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let r=0;r<e.length;r++)this._renderRows[r].rowDef===t&&n.push(e[r]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let e=0;e<i.length;e++){let n=i[e];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const t=i.shift();return t.dataIndex=e,t}return{data:t,rowDef:r,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),yO(this._contentColumnDefs,this._customColumnDefs).forEach(t=>{if(this._columnDefsByName.has(t.name))throw function(t){return Error(`Duplicate column definition name provided: "${t}".`)}(t.name);this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=yO(this._contentHeaderRowDefs,this._customHeaderRowDefs),this._footerRowDefs=yO(this._contentFooterRowDefs,this._customFooterRowDefs),this._rowDefs=yO(this._contentRowDefs,this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);if(!this.multiTemplateDataRows&&t.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff();this._rowDefs.reduce(t,!1)&&this._forceRenderDataRows(),this._headerRowDefs.reduce(t,!1)&&this._forceRenderHeaderRows(),this._footerRowDefs.reduce(t,!1)&&this._forceRenderFooterRows()}_switchDataSource(t){this._data=[],DC(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;if(DC(this.dataSource)?t=this.dataSource.connect(this):this.dataSource instanceof w?t=this.dataSource:Array.isArray(this.dataSource)&&(t=op(this.dataSource)),void 0===t)throw Error("Provided data source did not match an array, Observable, or DataSource");this._renderChangeSubscription=t.pipe(yC(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles(),this.updateStickyColumnStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles(),this.updateStickyColumnStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>{const e=this._columnDefsByName.get(t);if(!e)throw dO(t);return e}),r=n.map(t=>t.sticky),i=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,r,i)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let r=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;r&&n.push(r)}if(!n.length)throw function(t){return Error("Could not find a matching row definition for the"+`provided row data: ${JSON.stringify(t)}`)}(t);return n}_insertRow(t,e){this._renderRow(this._rowOutlet,t.rowDef,e,{$implicit:t.data})}_renderRow(t,e,n,r={}){t.viewContainer.createEmbeddedView(e.template,r,n);for(let i of this._getCellTemplates(e))aO.mostRecentCellOutlet&&aO.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);if(!n)throw dO(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlet:this._headerRowOutlet},{tag:"tbody",outlet:this._rowOutlet},{tag:"tfoot",outlet:this._footerRowOutlet}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup"),e.appendChild(n.outlet.elementRef.nativeElement),t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows(),this.updateStickyColumnStyles()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new hO(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._platform.isBrowser),(this._dir?this._dir.change:op()).pipe(yC(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}}return t.\u0275fac=function(e){return new(e||t)(oc(ju),oc(ka),oc(_u),sc("role"),oc(AC,8),oc(Xh),oc(CC))},t.\u0275cmp=ye({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){var r;1&t&&(xl(n,QA,!0),xl(n,sO,!0),xl(n,nO,!0),xl(n,oO,!0)),2&t&&(El(r=Al())&&(e._contentColumnDefs=r),El(r=Al())&&(e._contentRowDefs=r),El(r=Al())&&(e._contentHeaderRowDefs=r),El(r=Al())&&(e._contentFooterRowDefs=r))},viewQuery:function(t,e){var n;1&t&&(Tl(fO,!0),Tl(pO,!0),Tl(mO,!0)),2&t&&(El(n=Al())&&(e._rowOutlet=n.first),El(n=Al())&&(e._headerRowOutlet=n.first),El(n=Al())&&(e._footerRowOutlet=n.first))},hostBindings:function(t,e,n){1&t&&Sc(jA)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],ngContentSelectors:BA,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(Uc(VA),Vc(0),Ic(1,0),Ic(2,1),Ic(3,2))},directives:[pO,fO,mO],encapsulation:2}),t})();function yO(t,e){return t.toArray().concat(Array.from(e))}let vO=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[gf]]}),t})();const bO=[1,"mat-table"],_O=[[["caption"]]],wO=["caption"],CO=["role","columnheader",1,"mat-header-cell"],SO=["role","gridcell",1,"mat-cell"],EO=["role","row",1,"mat-header-row"],TO=["role","row",1,"mat-row"];let kO=(()=>{class t extends gO{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky"}}return t.\u0275fac=function(e){return IO(e||t)},t.\u0275cmp=ye({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostBindings:function(t,e,n){1&t&&Sc(bO)},exportAs:["matTable"],features:[pu([{provide:gO,useExisting:t}]),Xc],ngContentSelectors:wO,decls:4,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(Uc(_O),Vc(0),Ic(1,0),Ic(2,1),Ic(3,2))},directives:[pO,fO,mO],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type,[dir=rtl] mat-header-cell:first-of-type,[dir=rtl] mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type,[dir=rtl] mat-header-cell:last-of-type,[dir=rtl] mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type,[dir=rtl] td.mat-cell:first-of-type,[dir=rtl] td.mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type,[dir=rtl] td.mat-cell:last-of-type,[dir=rtl] td.mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}\n'],encapsulation:2}),t})();const IO=Ti(kO);let xO=(()=>{class t extends HA{}return t.\u0275fac=function(e){return AO(e||t)},t.\u0275dir=Se({type:t,selectors:[["","matCellDef",""]],features:[pu([{provide:HA,useExisting:t}]),Xc]}),t})();const AO=Ti(xO);let OO=(()=>{class t extends WA{}return t.\u0275fac=function(e){return DO(e||t)},t.\u0275dir=Se({type:t,selectors:[["","matHeaderCellDef",""]],features:[pu([{provide:WA,useExisting:t}]),Xc]}),t})();const DO=Ti(OO);let PO=(()=>{class t extends QA{}return t.\u0275fac=function(e){return NO(e||t)},t.\u0275dir=Se({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[pu([{provide:QA,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),Xc]}),t})();const NO=Ti(PO);let RO=(()=>{class t extends XA{constructor(t,e){super(t,e),e.nativeElement.classList.add(`mat-column-${t.cssClassFriendlyName}`)}}return t.\u0275fac=function(e){return new(e||t)(oc(QA),oc(_u))},t.\u0275dir=Se({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostBindings:function(t,e,n){1&t&&Sc(CO)},features:[Xc]}),t})(),MO=(()=>{class t extends ZA{constructor(t,e){super(t,e),e.nativeElement.classList.add(`mat-column-${t.cssClassFriendlyName}`)}}return t.\u0275fac=function(e){return new(e||t)(oc(QA),oc(_u))},t.\u0275dir=Se({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostBindings:function(t,e,n){1&t&&Sc(SO)},features:[Xc]}),t})(),LO=(()=>{class t extends nO{}return t.\u0275fac=function(e){return FO(e||t)},t.\u0275dir=Se({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[pu([{provide:nO,useExisting:t}]),Xc]}),t})();const FO=Ti(LO);let UO=(()=>{class t extends sO{}return t.\u0275fac=function(e){return jO(e||t)},t.\u0275dir=Se({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[pu([{provide:sO,useExisting:t}]),Xc]}),t})();const jO=Ti(UO);let VO=(()=>{class t extends cO{}return t.\u0275fac=function(e){return BO(e||t)},t.\u0275cmp=ye({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostBindings:function(t,e,n){1&t&&Sc(EO)},exportAs:["matHeaderRow"],features:[pu([{provide:cO,useExisting:t}]),Xc],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ic(0,0)},directives:[aO],encapsulation:2}),t})();const BO=Ti(VO);let qO=(()=>{class t extends uO{}return t.\u0275fac=function(e){return HO(e||t)},t.\u0275cmp=ye({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostBindings:function(t,e,n){1&t&&Sc(TO)},exportAs:["matRow"],features:[pu([{provide:uO,useExisting:t}]),Xc],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&Ic(0,0)},directives:[aO],encapsulation:2}),t})();const HO=Ti(qO);let WO=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[vO,gf,nI]]}),t})();function zO(t,e){1&t&&(_c(0,"div",5),_c(1,"div",6),_c(2,"h1"),Wc(3,"Order Details"),wc(),wc(),wc())}function GO(t,e){1&t&&(_c(0,"mat-header-cell"),Wc(1,"Domains"),wc())}function KO(t,e){if(1&t&&(_c(0,"mat-cell"),_c(1,"span",27),Wc(2,"Domains:"),wc(),Wc(3),wc()),2&t){const t=e.$implicit;rs(3),Gc(" ",t.description," ")}}function QO(t,e){1&t&&(_c(0,"mat-header-cell"),Wc(1,"Amount"),wc())}function $O(t,e){if(1&t&&(_c(0,"mat-cell"),_c(1,"span",27),Wc(2,"Amount:"),wc(),Wc(3),hl(4,"currency"),wc()),2&t){const t=e.$implicit;rs(3),Gc(" ",dl(4,1,t.amount,"USD")," ")}}function YO(t,e){1&t&&(_c(0,"mat-header-cell"),Wc(1,"Payer Email"),wc())}function XO(t,e){if(1&t&&(_c(0,"mat-cell"),_c(1,"span",27),Wc(2,"PayPal:"),wc(),Wc(3),wc()),2&t){const t=e.$implicit;rs(3),Gc(" ",t.payer_email," ")}}function ZO(t,e){1&t&&(_c(0,"mat-header-cell"),Wc(1,"Contact No."),wc())}function JO(t,e){if(1&t&&(_c(0,"mat-cell"),_c(1,"span",27),Wc(2,"Contact:"),wc(),Wc(3),wc()),2&t){const t=e.$implicit;rs(3),Gc(" ",t.contact," ")}}function tD(t,e){1&t&&(_c(0,"mat-header-cell"),Wc(1,"Order Date"),wc())}function eD(t,e){if(1&t&&(_c(0,"mat-cell"),_c(1,"span",27),Wc(2,"Date:"),wc(),Wc(3),hl(4,"date"),wc()),2&t){const t=e.$implicit;rs(3),Gc(" ",dl(4,1,1e3*t.creationDate.seconds,"dd MMM yyyy, hh:mm:ss aa")," ")}}function nD(t,e){1&t&&(_c(0,"mat-header-cell"),Wc(1,"Status"),wc())}function rD(t,e){if(1&t&&(_c(0,"mat-cell"),_c(1,"span",27),Wc(2,"Status:"),wc(),Wc(3),wc()),2&t){const t=e.$implicit;rs(3),Gc(" ",t.status," ")}}function iD(t,e){1&t&&Cc(0,"mat-header-row")}function oD(t,e){1&t&&Cc(0,"mat-row")}function sD(t,e){if(1&t){const t=xc();_c(0,"div",7),_c(1,"div",8),_c(2,"div",9),_c(3,"div",10),_c(4,"table",11),Tc(5,12),ic(6,GO,2,0,"mat-header-cell",13),Wc(7,"> "),ic(8,KO,4,1,"mat-cell",14),kc(),Tc(9,15),ic(10,QO,2,0,"mat-header-cell",13),ic(11,$O,5,4,"mat-cell",14),kc(),Tc(12,16),ic(13,YO,2,0,"mat-header-cell",13),ic(14,XO,4,1,"mat-cell",14),kc(),Tc(15,17),ic(16,ZO,2,0,"mat-header-cell",13),ic(17,JO,4,1,"mat-cell",14),kc(),Tc(18,18),ic(19,tD,2,0,"mat-header-cell",13),ic(20,eD,5,4,"mat-cell",14),kc(),Tc(21,19),ic(22,nD,2,0,"mat-header-cell",13),ic(23,rD,4,1,"mat-cell",14),kc(),ic(24,iD,1,0,"mat-header-row",20),ic(25,oD,1,0,"mat-row",21),wc(),wc(),wc(),wc(),_c(26,"div",8),_c(27,"div",22),_c(28,"a",23),_c(29,"span"),Wc(30," View All Orders"),wc(),Cc(31,"fa-icon",24),wc(),wc(),_c(32,"div",22),_c(33,"a",25),_c(34,"span"),Wc(35,"Explore Domains"),wc(),Cc(36,"fa-icon",24),wc(),wc(),wc(),_c(37,"div",8),_c(38,"div",22),_c(39,"a",26),Dc("click",(function(e){return vn(t),Lc().logout()})),_c(40,"span"),Wc(41," Logout"),wc(),Cc(42,"fa-icon",24),wc(),wc(),wc(),wc()}if(2&t){const t=Lc();rs(4),Bc("dataSource",t.dataSource),rs(20),Bc("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),rs(1),Bc("matRowDefColumns",t.displayedColumns),rs(6),Bc("icon",t.faArrowRight),rs(5),Bc("icon",t.faArrowRight),rs(6),Bc("icon",t.faSignOutAlt)}}function aD(t,e){1&t&&(_c(0,"div",28),Cc(1,"div",29),_c(2,"p"),Wc(3,"No Domain Ordered. "),_c(4,"span"),_c(5,"a",25),Wc(6,"Explore Domains"),wc(),wc(),wc(),wc())}let cD=(()=>{class t{constructor(t,e){this.orderService=t,this.loginService=e,this.displayedColumns=["description","amount","email","creationDate","status"],this.orders=[],this.faArrowRight=Yw,this.faSignOutAlt=eC,this.faUser=rC}ngOnInit(){let t=c_.auth().currentUser;this.getOrdersByUid(t.uid)}getOrdersByUid(t){this.orderService.getOrderByUid(t).subscribe(t=>{this.orders=t,this.dataSource=t,console.log(this.orders)})}logout(){this.loginService.logout()}}return t.\u0275fac=function(e){return new(e||t)(oc(IA),oc(ux))},t.\u0275cmp=ye({type:t,selectors:[["app-user-order"]],decls:6,vars:3,consts:[[1,"wrapper"],[1,"container"],["class","search-page-header",4,"ngIf"],["class","order-details",4,"ngIf"],["class","order-container",4,"ngIf"],[1,"search-page-header"],[1,"header"],[1,"order-details"],[1,"row"],[1,"col-md-12","col-xs-12"],[1,"table-container"],["mat-table","",3,"dataSource"],["matColumnDef","description"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","amount"],["matColumnDef","email"],["matColumnDef","contact"],["matColumnDef","creationDate"],["matColumnDef","status"],[4,"matHeaderRowDef","matHeaderRowDefSticky"],[4,"matRowDef","matRowDefColumns"],[1,"col-md-4","col-xs-12"],["href","/order"],["size","1x",3,"icon"],["href","/search"],["href","",3,"click"],[1,"mobile-label"],[1,"order-container"],[1,"empty-container"]],template:function(t,e){1&t&&(_c(0,"div",0),_c(1,"div",1),ic(2,zO,4,0,"div",2),ic(3,sD,43,7,"div",3),ic(4,aD,7,0,"div",4),wc(),Cc(5,"app-footer"),wc()),2&t&&(rs(2),Bc("ngIf",e.orders.length>0),rs(1),Bc("ngIf",e.orders.length>0),rs(1),Bc("ngIf",e.orders.length<1))},directives:[lf,zw,kO,PO,OO,xO,LO,UO,Hw,RO,MO,VO,qO],pipes:[mf,pf],styles:[".wrapper[_ngcontent-%COMP%]{background:#fff;height:100%}.search-control[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #bcbcbc;border-radius:2px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.container[_ngcontent-%COMP%]{padding-right:15px;display:block;padding-left:15px;margin-right:auto;margin-left:auto}.text-center[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:2px}.text-strike[_ngcontent-%COMP%]{text-decoration:line-through}.form-inline[_ngcontent-%COMP%]{display:inline-block;width:auto;vertical-align:middle}.strike-text[_ngcontent-%COMP%]{text-decoration:line-through}@media(min-width:1440px){.container[_ngcontent-%COMP%]{width:1440px}}@media(min-width:1200px){.container[_ngcontent-%COMP%]{width:1170px}}.container[_ngcontent-%COMP%]{margin-top:16vh;line-height:1.9em;color:#333}.search-page-header[_ngcontent-%COMP%]{width:80%;padding:14px 1em;height:64px;border-bottom:1px solid #eee}.search-page-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{float:left;margin-right:20px}.search-page-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:5px 0 0;font-size:22px;display:inline-block;white-space:nowrap;text-align:start}.order-details[_ngcontent-%COMP%]{width:100%;margin-bottom:36vh}.order-details[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin-top:16px;font-size:18px}.order-details[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:8px}.order-details[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]:nth-of-type(2){margin-top:128px}table[_ngcontent-%COMP%]{width:100%;border:1px #e2e8ea}mat-cell[_ngcontent-%COMP%]{border-bottom-style:none;color:#58666e;font-size:18px}mat-header-cell[_ngcontent-%COMP%]{border-bottom-style:none;font-size:16px;font-weight:500;color:#58666e}.table-container[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;max-height:100%;min-width:300px}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:500px}.mobile-label[_ngcontent-%COMP%]{display:none}@media(max-width:767px){.mobile-label[_ngcontent-%COMP%]{width:80px;display:inline-block;font-weight:700}mat-header-row[_ngcontent-%COMP%]{display:none}mat-row[_ngcontent-%COMP%]{-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-align:start;align-items:start;padding:8px 24px}mat-cell[_ngcontent-%COMP%]{font-size:14px}mat-cell[_ngcontent-%COMP%]:first-of-type{padding:0}}.order-container[_ngcontent-%COMP%]   .empty-container[_ngcontent-%COMP%]{background:url(no_data.db3b8ceef52bc40f6eac.png) center 200px/350px no-repeat #fff;height:350px;padding-bottom:24vh;overflow:hidden}.order-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;font-size:1.4em}"]}),t})();function uD(t,e){if(1&t&&(_c(0,"div",7),Cc(1,"app-domain-card",8),wc()),2&t){const t=e.$implicit;rs(1),Bc("domain",t)}}const lD=[{path:"",component:$w},{path:"domain/:id",component:Gx},{path:"search/:term",component:TA},{path:"search",component:TA},{path:"payment/:domain",component:PA,canActivate:[NA]},{path:"payment/confirm/:id",component:(()=>{class t{constructor(){this.faCheckCircle=Jw,this.faArrowRight=Yw,this.faSignOutAlt=eC}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["app-payment-confirm"]],decls:20,vars:2,consts:[[1,"wrapper"],[1,"navbar"],[1,"container"],[1,"navbar-content"],[1,"navbar-left"],["href","/",1,"navbar-brand"],["src","../../../assets/images/domain_logo_black.png","alt",""],[1,"row","payment-wrapper"],[1,"col"],[1,"payment-details"],[1,"check-icon"],["size","8x",3,"icon"],["href","/order",1,"order-link"],["size","1x",3,"icon"]],template:function(t,e){1&t&&(_c(0,"div",0),_c(1,"div",1),_c(2,"div",2),_c(3,"div",3),_c(4,"div",4),_c(5,"a",5),Cc(6,"img",6),wc(),wc(),wc(),wc(),wc(),_c(7,"div",2),_c(8,"div",7),_c(9,"div",8),_c(10,"div",9),_c(11,"div",10),Cc(12,"fa-icon",11),wc(),_c(13,"p"),Wc(14,"Payment Confirmed"),wc(),_c(15,"a",12),_c(16,"span"),Wc(17," View All Orders"),wc(),Cc(18,"fa-icon",13),wc(),wc(),wc(),wc(),wc(),Cc(19,"app-footer"),wc()),2&t&&(rs(12),Bc("icon",e.faCheckCircle),rs(6),Bc("icon",e.faArrowRight))},directives:[Hw,zw],styles:[".wrapper[_ngcontent-%COMP%]{background:#fff;height:100%;min-height:100%}.search-control[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #bcbcbc;border-radius:2px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.container[_ngcontent-%COMP%]{padding-right:15px;display:block;padding-left:15px;margin-right:auto;margin-left:auto}.text-center[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:2px}.text-strike[_ngcontent-%COMP%]{text-decoration:line-through}.form-inline[_ngcontent-%COMP%]{display:inline-block;width:auto;vertical-align:middle}.strike-text[_ngcontent-%COMP%]{text-decoration:line-through}@media(min-width:1440px){.container[_ngcontent-%COMP%]{width:1440px}}@media(min-width:1200px){.container[_ngcontent-%COMP%]{width:1170px}}.payment-wrapper[_ngcontent-%COMP%]{line-height:1.9;margin-top:20vh;margin-bottom:20vh}.payment-wrapper[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]{margin:80px 0;text-align:center}.payment-wrapper[_ngcontent-%COMP%]   .payment-details[_ngcontent-%COMP%]   .order-link[_ngcontent-%COMP%]{font-size:1.2em}.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{min-height:75%;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center}.navbar[_ngcontent-%COMP%]{width:100%;padding-top:16px;padding-bottom:16px;border:0;min-height:86px;position:fixed;right:0;left:0;top:0;z-index:1030}.navbar[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.navbar[_ngcontent-%COMP%]   .navbar-left[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 1 auto;width:100px;min-width:70px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{float:left;height:50px;padding:8px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;margin-top:8px;vertical-align:middle}.check-icon[_ngcontent-%COMP%]{color:#43a047}"]}),t})(),canActivate:[NA]},{path:"login",component:cx},{path:"account",component:RA,canActivate:[NA]},{path:"order",component:cD,canActivate:[NA]},{path:"favourite",component:(()=>{class t{constructor(t){this.favouriteService=t,this.favDomains=[]}ngOnInit(){this.getFavourites()}getFavourites(){this.favDomains=this.favouriteService.getLocalFavourites(),console.log("favDomains",this.favDomains)}}return t.\u0275fac=function(e){return new(e||t)(oc(lx))},t.\u0275cmp=ye({type:t,selectors:[["app-favourite-details"]],decls:10,vars:1,consts:[[1,"wrapper"],[1,"container","account-detail"],[1,"search-page-header"],[1,"header"],[1,"fav-details"],[1,"row"],["class","col-md-3 col-xs-6",4,"ngFor","ngForOf"],[1,"col-md-3","col-xs-6"],[3,"domain"]],template:function(t,e){1&t&&(_c(0,"div",0),_c(1,"div",1),_c(2,"div",2),_c(3,"div",3),_c(4,"h1"),Wc(5,"My Shortlisted Domains"),wc(),wc(),wc(),_c(6,"div",4),_c(7,"div",5),ic(8,uD,2,1,"div",6),wc(),wc(),wc(),Cc(9,"app-footer"),wc()),2&t&&(rs(8),Bc("ngForOf",e.favDomains))},directives:[cf,zw,Gw],styles:[".wrapper[_ngcontent-%COMP%]{background:#fff;height:100%}.search-control[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #bcbcbc;border-radius:2px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.container[_ngcontent-%COMP%]{padding-right:15px;display:block;padding-left:15px;margin-right:auto;margin-left:auto}.text-center[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:2px}.text-strike[_ngcontent-%COMP%]{text-decoration:line-through}.form-inline[_ngcontent-%COMP%]{display:inline-block;width:auto;vertical-align:middle}.strike-text[_ngcontent-%COMP%]{text-decoration:line-through}@media(min-width:1440px){.container[_ngcontent-%COMP%]{width:1440px}}@media(min-width:1200px){.container[_ngcontent-%COMP%]{width:1170px}}.account-detail[_ngcontent-%COMP%]{margin-top:16vh;line-height:1.9em;color:#333}.search-page-header[_ngcontent-%COMP%]{border-bottom:1px solid #eee;width:80%;padding:14px 1em;height:64px}.search-page-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{float:left;display:block}.search-page-header[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-left:16px;font-size:22px;display:inline-block;white-space:nowrap;text-align:start}.fav-details[_ngcontent-%COMP%]{margin-top:64px;min-height:58vh}"]}),t})()}];let hD=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Ny.forRoot(lD)],Ny]}),t})();function dD(t,e){1&t&&Cc(0,"div",19)}function fD(t,e){if(1&t){const t=xc();_c(0,"div",20),_c(1,"form",21),_c(2,"div",22),Cc(3,"input",23),_c(4,"input",24),Dc("click",(function(e){return vn(t),Lc().searchDomain()})),wc(),wc(),wc(),wc()}if(2&t){const t=Lc();rs(1),Bc("formGroup",t.searchForm)}}function pD(t,e){if(1&t){const t=xc();_c(0,"li",25),_c(1,"span",26),Dc("click",(function(e){return vn(t),Lc().domainLogin()})),Wc(2,"Log in"),wc(),wc()}}function mD(t,e){1&t&&(_c(0,"li",27),_c(1,"a",28),Wc(2,"Account"),wc(),wc())}function gD(t,e){1&t&&(_c(0,"li",27),_c(1,"a",29),Wc(2,"Orders"),wc(),wc())}function yD(t,e){if(1&t){const t=xc();_c(0,"li",25),_c(1,"a",26),Dc("click",(function(e){return vn(t),Lc().logout()})),Wc(2,"Logout"),wc(),wc()}}function vD(t,e){if(1&t){const t=xc();_c(0,"li"),_c(1,"a",34),Dc("click",(function(e){return vn(t),Lc(2).domainLogin()})),Wc(2,"Log in"),wc(),wc()}}function bD(t,e){1&t&&(_c(0,"li",27),_c(1,"a",28),Wc(2,"Account"),wc(),wc())}function _D(t,e){1&t&&(_c(0,"li",27),_c(1,"a",29),Wc(2,"Orders"),wc(),wc())}function wD(t,e){if(1&t){const t=xc();_c(0,"li",25),_c(1,"a",26),Dc("click",(function(e){return vn(t),Lc(2).logout()})),Wc(2,"Logout"),wc(),wc()}}function CD(t,e){if(1&t){const t=xc();_c(0,"div",30),_c(1,"a",31),Dc("click",(function(e){return vn(t),Lc().headerToggle()})),Wc(2,"\xd7"),wc(),_c(3,"ul"),_c(4,"li"),_c(5,"a",32),Wc(6,"Domains"),wc(),wc(),ic(7,vD,3,0,"li",33),ic(8,bD,3,0,"li",12),ic(9,_D,3,0,"li",12),ic(10,wD,3,0,"li",11),wc(),wc()}if(2&t){const t=Lc();rs(7),Bc("ngIf",0==t.isSignedIn),rs(1),Bc("ngIf",1==t.isSignedIn),rs(1),Bc("ngIf",1==t.isSignedIn),rs(1),Bc("ngIf",1==t.isSignedIn)}}let SD=(()=>{class t{constructor(t,e,n,r,i,o,s){this.dialog=t,this.router=e,this.fb=n,this.afAuth=r,this.loginService=i,this.headerService=o,this.searchWordService=s,this.faBars=Xw,this.isCollapse=!1,this.faHeart=tC,this.faStar=nC,this.isSearch=!0,this.searchTerm=new fl}ngOnInit(){this.loginService.ifUserLoggedIn().then(t=>{this.isSignedIn=t}),this.searchForm=this.fb.group({term:["",cv.required]}),this.showSearch()}showSearch(){this.headerService.currentMessage.subscribe(t=>{this.isSearch=t})}searchDomain(){let t=this.searchForm.get("term").value,e={term:t.toLowerCase()};console.log("getSearchWordByTerm->",t.toLowerCase()),console.log("getSearchWordByTerm->","Set"),this.searchWordService.setSearchWord(e).then(()=>{this.router.navigateByUrl("/search/"+t)})}domainLogin(){this.loginService.domainLogin()}logout(){this.loginService.logout()}headerToggle(){this.isCollapse=!this.isCollapse}}return t.\u0275fac=function(e){return new(e||t)(oc(QI),oc(vy),oc(Eb),oc(JI),oc(ux),oc(s_),oc(u_))},t.\u0275cmp=ye({type:t,selectors:[["app-header"]],inputs:{isSearch:"isSearch"},outputs:{searchTerm:"searchTerm"},decls:24,vars:9,consts:[[1,"navbar"],[1,"container"],[1,"navbar-content"],[1,"navbar-left"],["routerLink","/",1,"navbar-brand"],["src","../../../assets/images/domain_logo_white.png","alt",""],["class","navbar-space",4,"ngIf"],["class","navbar-search",4,"ngIf"],[1,"navbar-middle"],[1,"nav","navbar-nav"],["routerLink","/"],["class","log-in-out",4,"ngIf"],["class","",4,"ngIf"],[1,"fav-link"],["routerLink","/favourite","title","Favourites"],["size","2x",3,"icon"],[1,"navbar-hamburger","visible-xs-block"],["type","button",1,"navbar-toggle",3,"click"],["class","mobile-nav fade collapse",4,"ngIf"],[1,"navbar-space"],[1,"navbar-search"],["id","search-form",3,"formGroup"],[1,"search-control"],["type","text","name","search","placeholder","Search domains","aria-label","Search domains","autofocus","","value","","formControlName","term"],["type","submit","value","",3,"click"],[1,"log-in-out"],["href","",3,"click"],[1,""],["routerLink","/account"],["routerLink","/order"],[1,"mobile-nav","fade","collapse"],["href","#",1,"mobile-close","collapsed",3,"click"],["routerLink","/search"],[4,"ngIf"],["routerLink","",3,"click"]],template:function(t,e){1&t&&(_c(0,"div",0),_c(1,"div",1),_c(2,"div",2),_c(3,"div",3),_c(4,"a",4),Cc(5,"img",5),wc(),wc(),ic(6,dD,1,0,"div",6),ic(7,fD,5,1,"div",7),_c(8,"div",8),_c(9,"ul",9),_c(10,"li"),_c(11,"a",10),Wc(12,"Domains"),wc(),wc(),ic(13,pD,3,0,"li",11),ic(14,mD,3,0,"li",12),ic(15,gD,3,0,"li",12),_c(16,"li",13),_c(17,"a",14),Cc(18,"fa-icon",15),wc(),wc(),ic(19,yD,3,0,"li",11),wc(),wc(),_c(20,"div",16),_c(21,"button",17),Dc("click",(function(t){return e.headerToggle()})),Cc(22,"fa-icon",15),wc(),wc(),wc(),wc(),wc(),ic(23,CD,11,4,"div",18)),2&t&&(rs(6),Bc("ngIf",0==e.isSearch),rs(1),Bc("ngIf",1==e.isSearch),rs(6),Bc("ngIf",0==e.isSignedIn),rs(1),Bc("ngIf",1==e.isSignedIn),rs(1),Bc("ngIf",1==e.isSignedIn),rs(3),Bc("icon",e.faStar),rs(1),Bc("ngIf",1==e.isSignedIn),rs(3),Bc("icon",e.faBars),rs(1),Bc("ngIf",e.isCollapse))},directives:[by,lf,Hw,db,rv,mb,$y,nv,Cb],styles:[".wrapper[_ngcontent-%COMP%]{background:#fff;height:100%}.search-control[_ngcontent-%COMP%]{width:100%;background:#fff;border:1px solid #bcbcbc;border-radius:2px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.container[_ngcontent-%COMP%]{padding-right:15px;display:block;padding-left:15px;margin-right:auto;margin-left:auto}.text-center[_ngcontent-%COMP%]{text-align:center}.btn[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;margin-bottom:0;font-size:14px;font-weight:400;line-height:1.42857143;text-align:center;white-space:nowrap;vertical-align:middle;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border:1px solid transparent;border-radius:2px}.text-strike[_ngcontent-%COMP%]{text-decoration:line-through}.form-inline[_ngcontent-%COMP%]{display:inline-block;width:auto;vertical-align:middle}.strike-text[_ngcontent-%COMP%]{text-decoration:line-through}@media(min-width:1440px){.container[_ngcontent-%COMP%]{width:1440px}}@media(min-width:1200px){.container[_ngcontent-%COMP%]{width:1170px}}.navbar[_ngcontent-%COMP%]{width:100%;background:#29b6f6;padding-top:8px;padding-bottom:8px;border:0;min-height:86px;position:fixed;right:0;left:0;top:0;z-index:1030}.navbar[_ngcontent-%COMP%]   .navbar-content[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.navbar[_ngcontent-%COMP%]   .navbar-left[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 1 auto;width:100px;min-width:70px}.navbar[_ngcontent-%COMP%]   .navbar-search[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;padding:0 20px}.navbar[_ngcontent-%COMP%]   .navbar-search[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:block;margin-top:0}.navbar[_ngcontent-%COMP%]   .navbar-middle[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 1 auto}.navbar[_ngcontent-%COMP%]   .navbar-middle[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{list-style:none}.navbar[_ngcontent-%COMP%]   .navbar-middle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{float:right;display:block;list-style-type:disc;-webkit-margin-before:1em;margin-block-start:1em;-webkit-margin-after:1em;margin-block-end:1em;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:0;margin-inline-end:0;-webkit-padding-start:40px;padding-inline-start:40px}.navbar[_ngcontent-%COMP%]   .navbar-middle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .fav-link[_ngcontent-%COMP%]{margin-top:-8px}.navbar[_ngcontent-%COMP%]   .navbar-middle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;position:relative;display:block;text-align:-webkit-match-parent}.navbar[_ngcontent-%COMP%]   .navbar-middle[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;opacity:1;padding-left:15px;padding-right:15px;text-decoration:none}.navbar[_ngcontent-%COMP%]   .navbar-space[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{float:left;height:48px;padding:8px}.navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;margin-top:8px;vertical-align:middle}input[type=text][_ngcontent-%COMP%]{color:#444;font-size:20px;height:36px;border-radius:8px;width:100%;-webkit-box-flex:1;flex:1 1 100%;padding:8px 15px;border:0;outline:0;-webkit-appearance:none;background:#fff}input[type=submit][_ngcontent-%COMP%]{width:22px;height:22px;margin-right:15px;border:0;-webkit-box-flex:0;flex:0 0 auto;background:url(search.f306d4893303535509f3.png) center/contain no-repeat;-webkit-appearance:button;cursor:pointer}.log-in-out[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.collapse.in[_ngcontent-%COMP%]{display:block}.fade.in[_ngcontent-%COMP%]{opacity:1}.visible-xs-block[_ngcontent-%COMP%]{display:none!important}@media(max-width:768px){.mobile-nav[_ngcontent-%COMP%]{z-index:9999;position:fixed;-webkit-box-align:center;align-items:center;top:0;bottom:0;left:0;right:0}.navbar-middle[_ngcontent-%COMP%]{display:none}}.navbar-hamburger[_ngcontent-%COMP%]{-webkit-box-flex:0;flex:0 1 auto;width:30px;height:auto}.navbar-hamburger[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:Transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:0;color:#fff}@media(max-width:767px){.visible-xs-block[_ngcontent-%COMP%]{display:block!important}}@media(max-width:768px){.mobile-nav[_ngcontent-%COMP%]{z-index:9999;position:fixed;-webkit-box-align:center;align-items:center;background:#29b6f6;top:0;bottom:0;left:0;right:0}.mobile-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.mobile-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:fixed;justify-content:space-around;top:10%;left:0;bottom:20%;right:0}.mobile-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;text-align:center;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}.mobile-nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1;color:#fff;padding:20px;font-size:30px;text-align:center}a.mobile-close[_ngcontent-%COMP%], a.mobile-close[_ngcontent-%COMP%]:visited{display:block;position:fixed;color:rgba(255,255,255,.5);font-size:50px;top:15px;right:15px;width:48px;height:48px;text-align:right}}"]}),t})(),ED=(()=>{class t{constructor(){this.title="domain-user"}ngOnInit(){}isDomainSearch(t){console.log("AppComponent->",t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=ye({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(Cc(0,"app-header"),Cc(1,"router-outlet"))},directives:[SD,Sy],styles:[""]}),t})();const TD=[];let kD=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Ny.forChild(TD)],Ny]}),t})();const ID=[];let xD=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Ny.forChild(ID)],Ny]}),t})(),AD=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[nI],nI]}),t})();class OD{}class DD{}class PD{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof PD?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new PD;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof PD?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class ND{encodeKey(t){return RD(t)}encodeValue(t){return RD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function RD(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class MD{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new ND,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).join("&")}clone(t){const e=new MD({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function LD(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function FD(t){return"undefined"!=typeof Blob&&t instanceof Blob}function UD(t){return"undefined"!=typeof FormData&&t instanceof FormData}class jD{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new PD),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new MD,this.urlWithParams=e}serializeBody(){return null===this.body?null:LD(this.body)||FD(this.body)||UD(this.body)||"string"==typeof this.body?this.body:this.body instanceof MD?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:UD(this.body)?null:FD(this.body)?this.body.type||null:LD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof MD?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new jD(e,n,i,{params:c,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}const VD=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class BD{constructor(t,e=200,n="OK"){this.headers=t.headers||new PD,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class qD extends BD{constructor(t={}){super(t),this.type=VD.ResponseHeader}clone(t={}){return new qD({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class HD extends BD{constructor(t={}){super(t),this.type=VD.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new HD({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class WD extends BD{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function zD(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let GD=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof jD)r=t;else{let i=void 0;i=n.headers instanceof PD?n.headers:new PD(n.headers);let o=void 0;n.params&&(o=n.params instanceof MD?n.params:new MD({fromObject:n.params})),r=new jD(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=op(r).pipe(Qp(t=>this.handler.handle(t)));if(t instanceof jD||"events"===n.observe)return i;const o=i.pipe(gp(t=>t instanceof HD));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(U(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(U(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(U(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(U(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new MD).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,zD(n,e))}post(t,e,n={}){return this.request("POST",t,zD(n,e))}put(t,e,n={}){return this.request("PUT",t,zD(n,e))}}return t.\u0275fac=function(e){return new(e||t)(te(OD))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();class KD{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const QD=new Vt("HTTP_INTERCEPTORS");let $D=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const YD=/^\)\]\}',?\n/;class XD{}let ZD=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),JD=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new PD(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new qD({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(YD,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new HD({body:c,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new WD({error:c,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new WD({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const u=r=>{c||(e.next(o()),c=!0);let i={type:VD.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:VD.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:VD.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(te(XD))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();const tP=new Vt("XSRF_COOKIE_NAME"),eP=new Vt("XSRF_HEADER_NAME");class nP{}let rP=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=sf(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(te(Xh),te(jl),te(tP))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),iP=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(te(nP),te(eP))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),oP=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(QD,[]);this.chain=t.reduceRight((t,e)=>new KD(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(te(DD),te(qa))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})(),sP=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:iP,useClass:$D}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:tP,useValue:e.cookieName}:[],e.headerName?{provide:eP,useValue:e.headerName}:[]]}}}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[iP,{provide:QD,useExisting:iP,multi:!0},{provide:nP,useClass:rP},{provide:tP,useValue:"XSRF-TOKEN"},{provide:eP,useValue:"X-XSRF-TOKEN"}]}),t})(),aP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[GD,{provide:OD,useClass:oP},JD,{provide:DD,useExisting:JD},ZD,{provide:XD,useExisting:ZD}],imports:[[sP.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),cP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[nI],nI]}),t})(),uP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[gf,nI,RC,SC],nI]}),t})(),lP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[nI,gf],nI]}),t})(),hP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[CI,DI,nI,PI,gf],CI,nI,PI,lP]}),t})();const dP={provide:new Vt("mat-autocomplete-scroll-strategy"),deps:[IS],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let fP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[dP],imports:[[NI,AS,nI,gf],NI,nI]}),t})(),pP=(()=>{class t{constructor(){this.changes=new k,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,e){return`${t} \u2013 ${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})();const mP={provide:new Vt("mat-datepicker-scroll-strategy"),deps:[IS],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let gP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[pP,mP],imports:[[gf,vx,ZI,AS,YS,zC]]}),t})();const yP={provide:new Vt("mat-select-scroll-strategy"),deps:[IS],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let vP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[yP],imports:[[gf,AS,NI,nI],Zx,NI,nI]}),t})(),bP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[gf,DI,nI],nI]}),t})(),_P=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})(),wP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[gf,DI,nI,RS,_P],nI,_P]}),t})(),CP=(()=>{class t{constructor(){this.changes=new k,this.sortButtonLabel=t=>`Change sorting for ${t}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})();const SP={provide:CP,deps:[[new at,new ut,CP]],useFactory:function(t){return t||new CP}};let EP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[SP],imports:[[gf]]}),t})();const TP={provide:new Vt("mat-tooltip-scroll-strategy"),deps:[IS],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}};let kP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[TP],imports:[[YS,gf,AS,nI],nI]}),t})(),IP=(()=>{class t{constructor(){this.changes=new k,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return`0 of ${n}`;const r=t*e;return`${r+1} \u2013 ${r<(n=Math.max(n,0))?Math.min(r+e,n):r+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=ft({factory:function(){return new t},token:t,providedIn:"root"}),t})();const xP={provide:IP,deps:[[new at,new ut,IP]],useFactory:function(t){return t||new IP}};let AP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[xP],imports:[[gf,vx,vP,kP]]}),t})(),OP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[nI,gf],nI]}),t})();const DP={provide:new Vt("mat-menu-scroll-strategy"),deps:[IS],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let PP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[DP],imports:[nI]}),t})(),NP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[DP],imports:[[gf,nI,DI,AS,PP],PP]}),t})(),RP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})(),MP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[RP,DI,nI,RS],RP,nI]}),t})(),LP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)}}),t})(),FP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[gf,LP,zC]]}),t})(),UP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[nI],nI]}),t})();const jP={signInOptions:[ox.auth.GoogleAuthProvider.PROVIDER_ID,{provider:ox.auth.EmailAuthProvider.PROVIDER_ID,signInMethod:ox.auth.EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD,requireDisplayName:!0},ox.auth.PhoneAuthProvider.PROVIDER_ID],credentialHelper:sx.auth.CredentialHelper.NONE,signInFlow:"popup"},VP=[AD,cP,uP,hP,fP,sA,Zx,vx,gP,_I,DI,vP,bP,wP,ZI,WO,EP,AP,kP,OP,NP,jx,MP,FP,UP,wA],BP=[kb,Tb];let qP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[gf,xD,VP,BP,Ww,ax.forRoot(jP)],AD,cP,uP,hP,fP,sA,Zx,vx,gP,_I,DI,vP,bP,wP,ZI,WO,EP,AP,kP,OP,NP,jx,MP,FP,UP,wA,kb,Tb,Ww]}),t})(),HP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[gf,kD,qP]]}),t})();var WP;n("6Joi");let zP=(()=>{let t=WP=class{static enablePersistence(t){return{ngModule:WP,providers:[{provide:Zb,useValue:!0},{provide:Jb,useValue:t}]}}};return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[i_]}),t})(),GP=(()=>{let t=class{};return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[JI]}),t})();function KP(t){const e=function(t){return new w(e=>(t.on("state_changed",t=>e.next(t),t=>e.error(t),()=>e.complete()),()=>t.cancel()))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(U(t=>t.bytesTransferred/t.totalBytes*100))}}function QP(t,e){return{getDownloadURL:()=>e.keepUnstableUntilFirst(e.runOutsideAngular(q(e.zone.runOutsideAngular(()=>t.getDownloadURL())))),getMetadata:()=>e.keepUnstableUntilFirst(e.runOutsideAngular(q(e.zone.runOutsideAngular(()=>t.getMetadata())))),delete:()=>q(t.delete()),child:n=>QP(t.child(n),e),updateMetatdata:e=>q(t.updateMetadata(e)),updateMetadata:e=>q(t.updateMetadata(e)),put:(e,n)=>KP(t.put(e,n)),putString:(e,n,r)=>KP(t.putString(e,n,r))}}const $P=new Vt("angularfire2.storageBucket");let YP=(()=>{let t=class{constructor(t,e,n,r,i){this.scheduler=new Ub(i,r),this.storage=i.runOutsideAngular(()=>$b(t,i,e).storage(n||void 0))}ref(t){return QP(this.storage.ref(t),this.scheduler)}upload(t,e,n){return QP(this.storage.ref(t),this.scheduler).put(e,n)}};return t.\u0275fac=function(e){return new(e||t)(te(Kb),te(Qb,8),te($P,8),te(jl),te(eh))},t.\u0275prov=ft({token:t,factory:t.\u0275fac}),t})();n("LmZi");let XP=(()=>{let t=class{};return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[YP]}),t})();const ZP=[];let JP=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Ny.forChild(ZP)],Ny]}),t})(),tN=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[gf,qP,HP,JP]]}),t})();const eN=[];let nN=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Ny.forChild(eN)],Ny]}),t})(),rN=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[gf,nN,qP,HP]]}),t})();const iN=[];let oN=(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[Ny.forChild(iN)],Ny]}),t})();const sN=[HP,tN,rN,(()=>{class t{}return t.\u0275mod=we({type:t}),t.\u0275inj=pt({factory:function(e){return new(e||t)},imports:[[gf,oN,qP,HP]]}),t})()],aN=[ip,hD,sN,Zk,aP,Tb,kb,Xb.initializeApp({apiKey:"AIzaSyDuYlZNy7FCT6BNt6dErGWMvh3KUf2RCe4",authDomain:"domain-project-51bd1.firebaseapp.com",databaseURL:"https://domain-project-51bd1.firebaseio.com",projectId:"domain-project-51bd1",storageBucket:"domain-project-51bd1.appspot.com",messagingSenderId:"853755565473",appId:"1:853755565473:web:3acec26fbd32605ca1a7e0",measurementId:"G-M9KHYYHTYH"}),GP,XP,zP];let cN=(()=>{class t{}return t.\u0275mod=we({type:t,bootstrap:[ED]}),t.\u0275inj=pt({factory:function(e){return new(e||t)},providers:[lx],imports:[[aN,sN,Ww]]}),t})();(function(){if(Ri)throw new Error("Cannot enable prod mode after platform setup.");Ni=!1})(),np().bootstrapModule(cN).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f="FirebaseError",p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=f,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,m.prototype.create),i}return r.__extends(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?g(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new p(i,a),u=0,l=Object.keys(r);u<l.length;u++){var h=l[u];"_"!==h.slice(-1)&&(h in c&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),c[h]=r[h])}return c},t}();function g(t,e){return t.replace(y,(function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"}))}var y=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(u(o[0])||""),n=v(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(c^u),o=1518500249):(i=a^c^u,o=1859775393):r<60?(i=a&c|u&(a|c),o=2400959708):(i=a^c^u,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=u,u=c,c=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}function S(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=m,e.FirebaseError=p,e.Sha1=_,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=c,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return c.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=S,e.getUA=d,e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(t,e,r)+"must be a valid firebase namespace.")}}},[[0,0]]]);